/*!
  Â© Microsoft. All rights reserved.

  This library is supported for use in Windows Store apps only.

  Build: 1.0.8514.0.win8_rtm.120711-1900
  
  Version: Microsoft.WinJS.1.0
*/
/*!configuration.editor.autoSize*/
typeof WinJS=="undefined"&&(function(a){a.msSetImmediate||(a.msSetImmediate=function(b){return a.setTimeout(b,0)}),a.setImmediate||(a.setImmediate=function(b){return a.setTimeout(b,0)})}(this),function(b,c){function d(a,b){var d=Object.keys(b),e,f,g;for(f=0,g=d.length;f<g;f++){var h=d[f],i=h.charCodeAt(0)!==95,j=b[h];if(j&&typeof j=="object")if(j.value!==c||typeof j.get=="function"||typeof j.set=="function"){j.enumerable===c&&(j.enumerable=i),e=e||{},e[h]=j;continue}if(!i){e=e||{},e[h]={value:j,enumerable:i,configurable:!0,writable:!0};continue}a[h]=j}e&&Object.defineProperties(a,e)}(function(a){function e(a,b,c){var e=a,f=b.split(".");for(var g=0,h=f.length;g<h;g++){var i=f[g];e[i]||Object.defineProperty(e,i,{value:{},writable:!1,enumerable:!0,configurable:!0}),e=e[i]}return c&&d(e,c),e}function f(a,c){return e(b,a,c)}b[a]||(b[a]=Object.create(Object.prototype));var c=b[a];c.Namespace||(c.Namespace=Object.create(Object.prototype)),Object.defineProperties(c.Namespace,{defineWithParent:{value:e,writable:!0,enumerable:!0,configurable:!0},define:{value:f,writable:!0,enumerable:!0,configurable:!0}})})("WinJS"),function(a){function b(b,c,e){return b=b||function(){},a.Utilities.markSupportedForProcessing(b),c&&d(b.prototype,c),e&&d(b,e),b}function c(c,e,f,g){if(c){e=e||function(){};var h=c.prototype;return e.prototype=Object.create(h),a.Utilities.markSupportedForProcessing(e),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0,enumerable:!0}),f&&d(e.prototype,f),g&&d(e,g),e}return b(e,f,g)}function e(a){a=a||function(){};var b,c;for(b=1,c=arguments.length;b<c;b++)d(a.prototype,arguments[b]);return a}a.Namespace.define("WinJS.Class",{define:b,derive:c,mix:e})}(WinJS)}(this),function(b,c){function f(a){return a}function g(a,b,c){return a.split(".").reduce(function(a,b){return a?c(a[b]):null},b)}var d=!!b.Windows,e={notSupportedForProcessing:"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"};c.Namespace.define("WinJS.Utilities",{_setHasWinRT:{value:function(a){d=a},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return d},configurable:!1,enumerable:!0},_getMemberFiltered:g,getMember:function(a,c){return a?g(a,c||b,f):null},ready:function(a,d){return new c.Promise(function(e,f){function g(){if(a)try{a(),e()}catch(b){f(b)}else e()}var h=c.Utilities.testReadyState;h||(b.document?h=document.readyState:h="complete"),h==="complete"||b.document&&document.body!==null?d?msSetImmediate(g):g():b.addEventListener("DOMContentLoaded",g,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:function(a){return a.supportedForProcessing=!0,a},configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(a){var d=!0;d=d&&a!==b,d=d&&a!==b.location,d=d&&!(a instanceof HTMLIFrameElement),d=d&&(typeof a!="function"||!!a.supportedForProcessing);switch(b.frames.length){case 0:break;case 1:d=d&&a!==b.frames[0];break;default:for(var f=0,g=b.frames.length;d&&f<g;f++)d=d&&a!==b.frames[f]}if(d)return a;throw new c.ErrorFromName("WinJS.Utilities.requireSupportedForProcessing",c.Resources._formatString(e.notSupportedForProcessing,a))},configurable:!1,writable:!1,enumerable:!0}}),c.Namespace.define("WinJS",{validation:!1,strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}(this,WinJS),function(){function d(a,d,e){var f=a;return typeof f=="function"&&(f=f()),(e&&c.test(e)?"":e?e+": ":"")+(d?d.replace(b,":")+": ":"")+f}function e(a,b,d){var e=WinJS.Utilities.formatLog(a,b,d);console[d&&c.test(d)?d:"log"](e)}function f(a){return a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var b=/\s+/g,c=/^(error|warn|info|log)$/;WinJS.Namespace.define("WinJS.Utilities",{startLog:function(a){a=a||{},typeof a=="string"&&(a={tags:a});var c=a.type&&new RegExp("^("+f(a.type).replace(b," ").split(" ").join("|")+")$"),d=a.excludeTags&&new RegExp("(^|\\s)("+f(a.excludeTags).replace(b," ").split(" ").join("|")+")(\\s|$)","i"),g=a.tags&&new RegExp("(^|\\s)("+f(a.tags).replace(b," ").split(" ").join("|")+")(\\s|$)","i"),h=a.action||e;if(!c&&!d&&!g&&!WinJS.log){WinJS.log=h;return}var i=function(a,b,e){c&&!c.test(e)||d&&d.test(b)||g&&!g.test(b)||h(a,b,e),i.next&&i.next(a,b,e)};i.next=WinJS.log,WinJS.log=i},stopLog:function(){delete WinJS.log},formatLog:d})}(),function(b,c){function d(a){var b="_on"+a+"state";return{get:function(){var a=this[b];return a&&a.userHandler},set:function(c){var d=this[b];c?(d||(d={wrapper:function(a){return d.userHandler(a)},userHandler:c},Object.defineProperty(this,b,{value:d,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(a,d.wrapper,!1)),d.userHandler=c):d&&(this.removeEventListener(a,d.wrapper,!1),this[b]=null)},enumerable:!0}}function e(a){var b={};for(var c=0,e=arguments.length;c<e;c++){var f=arguments[c];b["on"+f]=d(f)}return b}var f=b.Class.define(function(b,c,d){this.detail=c,this.target=d,this.timeStamp=Date.now(),this.type=b},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),g={_listeners:null,addEventListener:function(a,b,c){c=c||!1,this._listeners=this._listeners||{};var d=this._listeners[a]=this._listeners[a]||[];for(var e=0,f=d.length;e<f;e++){var g=d[e];if(g.useCapture===c&&g.listener===b)return}d.push({listener:b,useCapture:c})},dispatchEvent:function(a,b){var c=this._listeners&&this._listeners[a];if(c){var d=new f(a,b,this);c=c.slice(0,c.length);for(var e=0,g=c.length;e<g&&!d._stopImmediatePropagationCalled;e++)c[e].listener(d);return d.defaultPrevented||!1}return!1},removeEventListener:function(a,b,c){c=c||!1;var d=this._listeners&&this._listeners[a];if(d)for(var e=0,f=d.length;e<f;e++){var g=d[e];if(g.listener===b&&g.useCapture===c){d.splice(e,1),d.length===0&&delete this._listeners[a];break}}}};b.Namespace.define("WinJS.Utilities",{_createEventProperty:d,createEventProperties:e,eventMixin:g})}(WinJS),function(b,c,d){var e,f=!1,g="contextchanged",h=c.Class.mix(c.Class.define(null,{},{supportedForProcessing:!1}),c.Utilities.eventMixin),i=new h,j={malformedFormatStringInput:"Malformed, did you mean to escape your '{0}'?"};c.Namespace.define("WinJS.Resources",{addEventListener:function(a,b,d){if(c.Utilities.hasWinRT&&!f&&a===g)try{Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(a){c.Resources.dispatchEvent(g,{qualifier:a.key,changed:a.target[a.key]})},!1),f=!0}catch(e){}i.addEventListener(a,b,d)},removeEventListener:i.removeEventListener.bind(i),dispatchEvent:i.dispatchEvent.bind(i),_formatString:function(a){var b=arguments;return b.length>1&&(a=a.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(a,d,e,f,g,h){if(g||h)throw c.Resources._formatString(j.malformedFormatStringInput,g||h);return d&&"{"||e&&"}"||b[(f|0)+1]})),a},_getStringWinRT:function(a){if(!e){var b=Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{e=b.getSubtree("Resources")}catch(c){}e||(e=b)}var f,g,h;try{h=e.getValue(a),h&&(f=h.valueAsString,f===d&&(f=h.toString()))}catch(c){}if(!f)return{value:a,empty:!0};try{g=h.getQualifierValue("Language")}catch(c){return{value:f}}return{value:f,lang:g}},_getStringJS:function(a){var c=b.strings&&b.strings[a];return typeof c=="string"&&(c={value:c}),c||{value:a,empty:!0}}}),Object.defineProperties(c.Resources,c.Utilities.createEventProperties(g));var k;c.Resources.getString=function(a){return k=k||(c.Utilities.hasWinRT?c.Resources._getStringWinRT:c.Resources._getStringJS),k(a)}}(this,WinJS),function(b,c){function u(){}function w(a,b){var c;b&&typeof b=="object"&&typeof b.then=="function"?c=m:c=q,a._value=b,a._setState(c)}function x(a,b,c,d,e,f){return{exception:a,error:b,promise:c,handler:f,id:d,parent:e}}function y(a,b,c,d){var e=c._isException,f=c._errorId;return x(e?b:null,e?null:b,a,f,c,d)}function z(a,b,c){var d=c._isException,e=c._errorId;return J(a,e,d),x(d?b:null,d?null:b,a,e,c)}function A(a,b){var c=++j;return J(a,c),x(null,b,a,c)}function B(a,b){var c=++j;return J(a,c,!0),x(b,null,a,c)}function C(a,b,c,d){I(a,{c:b,e:c,p:d})}function D(a,b,c,d){a._value=b,G(a,b,c,d),a._setState(s)}function E(a,b){var c=a._value,d=a._listeners;if(!d)return;a._listeners=null;var e,f;for(e=0,f=Array.isArray(d)?d.length:1;e<f;e++){var g=f===1?d:d[e],h=g.c,i=g.promise;if(i){try{i._setCompleteValue(h?h(c):c)}catch(j){i._setExceptionValue(j)}i._state!==m&&i._listeners&&b.push(i)}else Q.prototype.done.call(a,h)}}function F(a,b){var c=a._value,d=a._listeners;if(!d)return;a._listeners=null;var e,f;for(e=0,f=Array.isArray(d)?d.length:1;e<f;e++){var g=f===1?d:d[e],h=g.e,i=g.promise;if(i){try{h?(h.handlesOnError||G(i,c,y,a,h),i._setCompleteValue(h(c))):i._setChainedErrorValue(c,a)}catch(j){i._setExceptionValue(j)}i._state!==m&&i._listeners&&b.push(i)}else O.prototype.done.call(a,null,h)}}function G(a,b,c,d,h){if(e._listeners[f]){if(b instanceof Error&&b.message===g)return;e.dispatchEvent(f,c(a,b,d,h))}}function H(a,b){var c=a._listeners;if(c){var d,e;for(d=0,e=Array.isArray(c)?c.length:1;d<e;d++){var f=e===1?c:c[d],g=f.p;if(g)try{g(b)}catch(h){}!f.c&&!f.e&&f.promise&&f.promise._progress(b)}}}function I(a,b){var c=a._listeners;c?(c=Array.isArray(c)?c:[c],c.push(b)):c=b,a._listeners=c}function J(a,b,c){a._isException=c||!1,a._errorId=b}function K(a,b,c,d){a._value=b,G(a,b,c,d),a._setState(t)}function L(a,b){var c;b&&typeof b=="object"&&typeof b.then=="function"?c=m:c=r,a._value=b,a._setState(c)}function M(a,b,c,d){var e=new N(a);return I(a,{promise:e,c:b,e:c,p:d}),e}function R(a){var b;return new WinJS.Promise(function(c){a?b=setTimeout(c,a):setImmediate(c)},function(){b&&clearTimeout(b)})}function S(a,b){var c=function(){b.cancel()},d=function(){a.cancel()};return a.then(c),b.then(d,d),b}b.Debug&&(b.Debug.setNonUserCodeExceptions=!0);var d=WinJS.Class.mix(WinJS.Class.define(null,{},{supportedForProcessing:!1}),WinJS.Utilities.eventMixin),e=new d;e._listeners={};var f="error",g="Canceled",h=!1,i={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};i.all=i.promise|i.thenPromise|i.errorPromise|i.exceptionPromise|i.completePromise;var j=1,k,l,m,n,o,p,q,r,s,t;k={name:"created",enter:function(a){a._setState(l)},cancel:u,done:u,then:u,_completed:u,_error:u,_notify:u,_progress:u,_setCompleteValue:u,_setErrorValue:u},l={name:"working",enter:u,cancel:function(a){a._setState(o)},done:C,then:M,_completed:w,_error:D,_notify:u,_progress:H,_setCompleteValue:L,_setErrorValue:K},m={name:"waiting",enter:function(a){var b=a._value,c=function(d){b._errorId?a._chainedError(d,b):(G(a,d,y,b,c),a._error(d))};c.handlesOnError=!0,b.then(a._completed.bind(a),c,a._progress.bind(a))},cancel:function(a){a._setState(n)},done:C,then:M,_completed:w,_error:D,_notify:u,_progress:H,_setCompleteValue:L,_setErrorValue:K},n={name:"waiting_canceled",enter:function(a){a._setState(p);var b=a._value;b.cancel&&b.cancel()},cancel:u,done:C,then:M,_completed:w,_error:D,_notify:u,_progress:H,_setCompleteValue:L,_setErrorValue:K},o={name:"canceled",enter:function(a){a._setState(p),a._cancelAction()},cancel:u,done:C,then:M,_completed:w,_error:D,_notify:u,_progress:H,_setCompleteValue:L,_setErrorValue:K},p={name:"canceling",enter:function(a){var b=new Error(g);b.name=b.message,a._value=b,a._setState(s)},cancel:u,done:u,then:u,_completed:u,_error:u,_notify:u,_progress:u,_setCompleteValue:u,_setErrorValue:u},q={name:"complete_notify",enter:function(a){a.done=Q.prototype.done,a.then=Q.prototype.then;if(a._listeners){var b=[a],c;while(b.length)c=b.pop(),c._state._notify(c,b)}a._setState(r)},cancel:u,done:null,then:null,_completed:u,_error:u,_notify:E,_progress:u,_setCompleteValue:u,_setErrorValue:u},r={name:"success",enter:function(a){a.done=Q.prototype.done,a.then=Q.prototype.then,a._cleanupAction()},cancel:u,done:null,then:null,_completed:u,_error:u,_notify:E,_progress:u,_setCompleteValue:u,_setErrorValue:u},s={name:"error_notify",enter:function(a){a.done=O.prototype.done,a.then=O.prototype.then;if(a._listeners){var b=[a],c;while(b.length)c=b.pop(),c._state._notify(c,b)}a._setState(t)},cancel:u,done:null,then:null,_completed:u,_error:u,_notify:F,_progress:u,_setCompleteValue:u,_setErrorValue:u},t={name:"error",enter:function(a){a.done=O.prototype.done,a.then=O.prototype.then,a._cleanupAction()},cancel:u,done:null,then:null,_completed:u,_error:u,_notify:F,_progress:u,_setCompleteValue:u,_setErrorValue:u};var v=WinJS.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(b,c,d){this._state.done(this,b,c,d)},then:function(b,c,d){return this._state.then(this,b,c,d)},_chainedError:function(a,b){var c=this._state._error(this,a,z,b);return this._run(),c},_completed:function(a){var b=this._state._completed(this,a);return this._run(),b},_error:function(a){var b=this._state._error(this,a,A);return this._run(),b},_progress:function(a){this._state._progress(this,a)},_setState:function(a){this._nextState=a},_setCompleteValue:function(a){this._state._setCompleteValue(this,a),this._run()},_setChainedErrorValue:function(a,b){var c=this._state._setErrorValue(this,a,z,b);return this._run(),c},_setExceptionValue:function(a){var b=this._state._setErrorValue(this,a,B);return this._run(),b},_run:function(){while(this._nextState)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),N=WinJS.Class.derive(v,function(a){h&&(h===!0||h&i.thenPromise)&&(this._stack=WinJS.Promise._getStack()),this._creator=a,this._setState(k),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),O=WinJS.Class.define(function(b){h&&(h===!0||h&i.errorPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=b,G(this,b,A)},{cancel:function(){},done:function(b,c){var d=this._value;if(c)try{c.handlesOnError||G(null,d,y,this,c);var e=c(d);e&&typeof e=="object"&&typeof e.done=="function"&&e.done();return}catch(f){d=f}if(d instanceof Error&&d.message===g)return;setImmediate(function(){throw d})},then:function(b,c){if(!c)return this;var d,e=this._value;try{c.handlesOnError||G(null,e,y,this,c),d=new Q(c(e))}catch(f){f===e?d=this:d=new P(f)}return d}},{supportedForProcessing:!1}),P=WinJS.Class.derive(O,function(b){h&&(h===!0||h&i.exceptionPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=b,G(this,b,B)},{},{supportedForProcessing:!1}),Q=WinJS.Class.define(function(b){h&&(h===!0||h&i.completePromise)&&(this._stack=WinJS.Promise._getStack());if(b&&typeof b=="object"&&typeof b.then=="function"){var c=new N(null);return c._setCompleteValue(b),c}this._value=b},{cancel:function(){},done:function(b){if(!b)return;try{var c=b(this._value);c&&typeof c=="object"&&typeof c.done=="function"&&c.done()}catch(d){setImmediate(function(){throw d})}},then:function(b){try{var c=b?b(this._value):this._value;return c===this._value?this:new Q(c)}catch(d){return new P(d)}}},{supportedForProcessing:!1}),T,U=WinJS.Class.derive(v,function(b,c){h&&(h===!0||h&i.promise)&&(this._stack=WinJS.Promise._getStack()),this._oncancel=c,this._setState(k),this._run();try{var d=this._completed.bind(this),e=this._error.bind(this),f=this._progress.bind(this);b(d,e,f)}catch(g){this._setExceptionValue(g)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(a){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(b,c,d){e.addEventListener(b,c,d)},any:function(b){return new U(function(a,c,d){var e=Object.keys(b),f=Array.isArray(b)?[]:{};e.length===0&&a();var h=0;e.forEach(function(d){U.as(b[d]).then(function(){a({key:d,value:b[d]})},function(f){if(f instanceof Error&&f.name===g){++h===e.length&&a(WinJS.Promise.cancel);return}c({key:d,value:b[d]})})})},function(){var a=Object.keys(b);a.forEach(function(a){var c=U.as(b[a]);typeof c.cancel=="function"&&c.cancel()})})},as:function(b){return b&&typeof b=="object"&&typeof b.then=="function"?b:new Q(b)},cancel:{get:function(){return T=T||new O(new WinJS.ErrorFromName(g))}},dispatchEvent:function(b,c){return e.dispatchEvent(b,c)},is:function(b){return b&&typeof b=="object"&&typeof b.then=="function"},join:function(b){return new U(function(a,d,e){var f=Object.keys(b),h=Array.isArray(b)?[]:{},i=Array.isArray(b)?[]:{},j=0,k=f.length,l=function(b){if(--k===0){var c=Object.keys(h).length;if(c===0)a(i);else{var j=0;f.forEach(function(a){var b=h[a];b instanceof Error&&b.name===g&&j++}),j===c?a(WinJS.Promise.cancel):d(h)}}else e({Key:b,Done:!0})};f.forEach(function(a){var d=b[a];d===c?j++:U.then(d,function(b){i[a]=b,l(a)},function(b){h[a]=b,l(a)})}),k-=j;if(k===0){a(i);return}},function(){Object.keys(b).forEach(function(a){var c=U.as(b[a]);typeof c.cancel=="function"&&c.cancel()})})},removeEventListener:function(b,c,d){e.removeEventListener(b,c,d)},supportedForProcessing:!1,then:function(b,c,d,e){return U.as(b).then(c,d,e)},thenEach:function(b,c,d,e){var f=Array.isArray(b)?[]:{};return Object.keys(b).forEach(function(a){f[a]=U.as(b[a]).then(c,d,e)}),U.join(f)},timeout:function(b,c){var d=R(b);return c?S(d,c):d},wrap:function(b){return new Q(b)},wrapError:function(b){return new O(b)},_veryExpensiveTagWithStack:{get:function(){return h},set:function(a){h=a}},_veryExpensiveTagWithStack_tag:i,_getStack:function(){if(Debug.debuggerEnabled)try{throw new Error}catch(a){return a.stack}}});Object.defineProperties(U,WinJS.Utilities.createEventProperties(f));var V=WinJS.Class.derive(v,function(a){this._oncancel=a,this._setState(k),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),W=WinJS.Class.define(function(b){this._promise=new V(b)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(b){this._promise._completed(b)},error:function(b){this._promise._error(b)},progress:function(b){this._promise._progress(b)}},{supportedForProcessing:!1});WinJS.Namespace.define("WinJS",{Promise:U,_Signal:W})}(this),function(b,c){c.Namespace.define("WinJS",{ErrorFromName:c.Class.derive(Error,function(a,b){this.name=a,this.message=b||a},{},{supportedForProcessing:!1})})}(this,WinJS),function(){WinJS.Namespace.define("WinJS",{xhr:function(a){var b;return new WinJS.Promise(function(c,d,e){b=new XMLHttpRequest,b.onreadystatechange=function(){if(b._canceled)return;b.readyState===4?(b.status>=200&&b.status<300?c(b):d(b),b.onreadystatechange=function(){}):e(b)},b.open(a.type||"GET",a.url,!0,a.user,a.password),b.responseType=a.responseType||"",Object.keys(a.headers||{}).forEach(function(c){b.setRequestHeader(c,a.headers[c])}),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.customRequestInitializer&&a.customRequestInitializer(b),b.send(a.data)},function(){b._canceled=!0,b.abort()})}})}(),function(b,c){var d,e,f,g,h,i,j={nonStaticHTML:"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."};d=e=function(a,b){a.innerHTML=b},f=g=function(a,b){a.outerHTML=b},h=i=function(a,b,c){a.insertAdjacentHTML(b,c)};var k=b.MSApp;if(k)e=function(a,b){k.execUnsafeLocalFunction(function(){a.innerHTML=b})},g=function(a,b){k.execUnsafeLocalFunction(function(){a.outerHTML=b})},i=function(a,b,c){k.execUnsafeLocalFunction(function(){a.insertAdjacentHTML(b,c)})};else if(b.msIsStaticHTML){var l=function(a){if(!b.msIsStaticHTML(a))throw new WinJS.ErrorFromName("WinJS.Utitilies.NonStaticHTML",j.nonStaticHTML)};d=function(a,b){l(b),a.innerHTML=b},f=function(a,b){l(b),a.outerHTML=b},h=function(a,b,c){l(c),a.insertAdjacentHTML(b,c)}}WinJS.Namespace.define("WinJS.Utilities",{setInnerHTML:d,setInnerHTMLUnsafe:e,setOuterHTML:f,setOuterHTMLUnsafe:g,insertAdjacentHTML:h,insertAdjacentHTMLUnsafe:i})}(this)),define("vs/base/lib/raw.winjs.base",[],{}),require.config({shim:{"vs/base/lib/raw.winjs.base":{}}}),define("vs/base/lib/winjs.base",["./raw.winjs.base"],function(){function b(b){var c=b.detail,d=c.id;if(c.parent){c.handler&&a&&delete a[d];return}a[d]=c,Object.keys(a).length===1&&setTimeout(function(){var b=a;a={},Object.keys(b).forEach(function(a){var c=b[a];console.log("WARNING: Promise with no error callback:"+c.id),console.log(c)})},0)}function c(a,b,c){var d,e,f,g=new WinJS.Promise(function(a,b,c){d=a,e=b,f=c},function(){a.cancel()});return a.then(function(a){b&&b(a),d(a)},function(a){c&&c(a),e(a)},f),g}var a={};return WinJS.Promise.addEventListener("error",b),{decoratePromise:c,Class:WinJS.Class,xhr:WinJS.xhr,Promise:WinJS.Promise,Utilities:WinJS.Utilities}}),define("vs/editor/core/constants",["require","exports"],function(a,b){b.ID={Configuration:"configuration",Model:"model",Cursor:"cursor"},b.STOP_LINE_TOKENIZATION_AFTER=1e3,b.STOP_LINE_RENDERING_AFTER=1e4,b.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor",ITerminal:"vs.editor.ITerminal"},b.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},b.Handler={ExecuteCommand:"executeCommand",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordRightSelect:"cursorWordRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",MoveTo:"moveTo",MoveToSelect:"moveToSelect",CreateCursor:"createCursor",CreateCursorSelect:"createCursorSelect",JumpToBracket:"jumpToBracket",Type:"type",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordRight:"deleteWordRight",Enter:"enter",Escape:"escape",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelectDrag:"lastCursorWordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",SelectAll:"selectAll"},b.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ConfigurationLineHeightChanged:"configurationLineHeightChanged",ConfigurationFontChanged:"configurationFontChanged",ModelChanged:"modelChanged",ModelModeChanged:"modelsModeChanged",ModelContentChanged:"contentChanged",ModelContentChangedFlush:"flush",ModelContentChangedLinesDeleted:"linesDeleted",ModelContentChangedLinesInserted:"linesInserted",ModelContentChangedLineChanged:"lineChanged",OnBeforeModelContentChangedFlush:"onBeforeFlush",OnBeforeModelContentChangedLinesDeleted:"onBeforeLinesDeleted",OnBeforeModelContentChangedLinesInserted:"onBeforeLinesInserted",OnBeforeModelContentChangedLineChanged:"onBeforeLineChanged",ModelPropertiesChanged:"propertiesChanged",ModelDecorationsChanged:"decorationsChanged",ModelOnBeforeViewAttached:"modelOnBeforeViewAttached",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewMaxLineWidthChanged:"maxLineWidthChanged",ViewVerticalScrollChanged:"verticalScrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"}}),define("vs/base/objects",["require","exports"],function(a,b){function c(a){if(!a||typeof a!="object")return a;var b=a instanceof Array?[]:{};for(var d in a)a[d]&&typeof a[d]=="object"?b[d]=c(a[d]):b[d]=a[d];return b}function d(a,b){if(b&&typeof b=="object")for(var c in b)!b[c]||typeof b[c]!="object"||b[c]instanceof Array?a[c]=b[c]:(c in a||(a[c]={}),d(a[c],b[c]));return a}function e(a,b){if(a===b)return!0;if(a===null||a===undefined||b===null||b===undefined)return!1;if(typeof a!=typeof b)return!1;if(typeof a!="object")return!1;if(a instanceof Array!=b instanceof Array)return!1;if(a instanceof Array){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!e(a[c],b[c]))return!1}else{var d=[];for(var f in a)d.push(f);d.sort();var g=[];for(var f in b)g.push(f);g.sort();if(!e(d,g))return!1;for(var c=0;c<d.length;c++)if(!e(a[d[c]],b[d[c]]))return!1}return!0}function f(a){var b={};for(var c=0;c<a.length;++c)b[a[c]]=!0;return b}function g(a,b){typeof b=="undefined"&&(b=!1),b&&(a=a.map(function(a){return a.toLowerCase()}));var c=f(a);return b?function(a){return c[a.toLowerCase()]!==undefined}:function(a){return c[a]!==undefined}}function h(a,b){b=b||function(){};var c=a.prototype;return b.prototype=Object.create(c),Object.defineProperty(b.prototype,"constructor",{value:b,writable:!0,configurable:!0,enumerable:!0}),b}b.clone=c,b.mixin=d,b.equals=e,b.arrayToHash=f,b.createKeywordMatcher=g,b.derive=h}),define("vs/base/types",["require","exports"],function(a,b){function c(a){return Array.isArray?Array.isArray(a):a&&typeof a.length=="number"&&a.constructor===Array?!0:!1}function d(a){return typeof a=="string"||a instanceof String?!0:!1}function e(a){return typeof a=="undefined"||a===null?!1:Object.prototype.toString.call(a)==="[object Object]"}function f(a){return(typeof a=="number"||a instanceof Number)&&!isNaN(a)?!0:!1}function g(a){return typeof a=="undefined"}function h(a){return g(a)||a===null}function i(a){if(!e(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function j(a){return Object.prototype.toString.call(a)==="[object Function]"}function k(a){var b=[];for(var c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];var d=Object.create(a.prototype);return a.apply(d,b),d}function l(a,b,c){typeof c=="undefined"&&(c=!0);var d,e={};for(d in a)(c||a.hasOwnProperty(d))&&j(a[d])&&(e[d]=function(c){return function(){return b(a,c,arguments)}}(d));return e}b.isArray=c,b.isString=d,b.isObject=e,b.isNumber=f,b.isUndefined=g,b.isUndefinedOrNull=h,b.isEmptyObject=i,b.isFunction=j,b.create=k,b.proxy=l}),define("vs/base/strings",["require","exports","vs/nls!vs/editor/editor.main"],function(a,b,c){function e(a,b){var c=""+a;while(c.length<b)c="0"+c;return c}function f(a){var b=[];for(var c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];if(b.length===0)return a;var d=a,e=b.length;for(var f=0;f<e;f++)d=w(d,"{"+f+"}",b[f]);return d}function g(a){return a||(a=new Date),d.localize("vs_base_strings",0,e(a.getMonth()+1,2),e(a.getDate(),2),e(a.getFullYear(),4),e(a.getHours(),2),e(a.getMinutes(),2),e(a.getSeconds(),2))}function h(a){return a||(a=new Date),d.localize("vs_base_strings",1,e(a.getHours(),2),e(a.getMinutes(),2),e(a.getSeconds(),2))}function i(a){return a.replace(/[<|>|&]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return a}})}function j(a){var b=document.createElement("div");return b.innerHTML=a,b.textContent||b.innerText||""}function k(a,b){b||(b=" ");var c=l(a,b);return m(c,b)}function l(a,b){if(a.length===0||b.length===0)return a;var c=a;while(t(c,b))c=c.substring(b.length);return c}function m(a,b){if(a.length===0||b.length===0)return a;var c=a;while(u(c,b))c=c.substring(0,c.length-b.length);return c}function n(a){return a.replace(/(^\s+|\s+$)/g,"")}function o(a){return a.replace(/\s+/g," ")}function q(a){var b=(new Date).getTime(),c=b-a.getTime();return c/p.DAY>=2?d.localize("vs_base_strings",2,Math.floor(c/p.DAY)):c/p.DAY>=1?d.localize("vs_base_strings",3):c/p.HOUR>=2?d.localize("vs_base_strings",4,Math.floor(c/p.HOUR)):c/p.HOUR>=1?d.localize("vs_base_strings",5):c/p.MINUTE>=2?d.localize("vs_base_strings",6,Math.floor(c/p.MINUTE)):c/p.MINUTE>=1?d.localize("vs_base_strings",7):d.localize("vs_base_strings",8)}function r(a){var b=(new Date).getTime(),c=(b-a)/1e3;if(c<60)return d.localize("vs_base_strings",9,Math.floor(c));var e=c/60;if(e<60)return d.localize("vs_base_strings",10,Math.floor(e));var f=e/60;if(f<24)return d.localize("vs_base_strings",11,Math.floor(f));var g=f/24;return d.localize("vs_base_strings",12,Math.floor(g))}function s(a){return a.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function t(a,b){for(var c=0,d=b.length;c<d;c++)if(a.charCodeAt(c)!==b.charCodeAt(c))return!1;return!0}function u(a,b){if(b.length>a.length)return!1;for(var c=0,d=a.length-b.length;c<b.length;c++,d++)if(a.charCodeAt(d)!==b.charCodeAt(c))return!1;return!0}function v(a,b,c,d){return typeof d=="undefined"&&(d=""),a.substring(0,b)+d+a.substring(b+c)}function w(a,b,c){return a.replace(new RegExp(B(b.toString()),"g"),c)}function x(a,b,c,d){if(a==="")throw new Error("Cannot create regex from empty string");b||(a=a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),d&&(a="\\b"+a+"\\b");var e="g";return c||(e+="i"),new RegExp(a,e)}function y(a){var b=a.exec("");return b&&a.lastIndex===0}function z(a,b){if(!a)return a;var c=encodeURIComponent(a);return b?w(c,"%2F","/"):c}function A(a){return/^\w[\w.]*$/.test(a)}function B(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function C(a,b,c){return b&&(a="^"+a),c&&(a+="$"),a}function D(a,b){if(y(new RegExp(a,b)))throw new Error("Regular expression /"+a+"/g results in infinitive matches")}function E(a){return a?(a.indexOf("/")===0&&(a=a.substring(1)),z(a,!0)):""}function F(a){return typeof a=="undefined"&&(a=8),I(a)}function I(a){var b="";for(var c=0;c<a;c++)b+=G[Math.floor(Math.random()*H)];return b}function J(a,b){return"["+a+"m"+b+"[0m"}function K(a){for(var b=0,c=a.length;b<c;b++)if(a.charAt(b)!==" "&&a.charAt(b)!=="	")return b;return-1}function L(a){for(var b=0,c=a.length;b<c;b++)if(a.charAt(b)!==" "&&a.charAt(b)!=="	")return a.substring(0,b);return a}function M(a){for(var b=a.length-1;b>=0;b--)if(a.charAt(b)!==" "&&a.charAt(b)!=="	")return b;return-1}var d=c;b.pad=e,b.format=f,b.formatDate=g,b.formatTime=h,b.escape=i,b.stripHtml=j,b.trim=k,b.ltrim=l,b.rtrim=m,b.trimWhitespace=n,b.normalize=o;var p={SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5};b.formatDiff=q,b.conciseformatDiff=r,b.convertSimple2RegExpPattern=s,b.startsWith=t,b.endsWith=u,b.splice=v,b.replaceAll=w,b.createRegExp=x,b.regExpLeadsToEndlessLoop=y,b.encodeURIPart=z,b.isCamelCasePattern=A,b.toRegExpPattern=B,b.anchorPattern=C,b.assertRegExp=D,b.normalizePath=E,b.generateUuid=F;var G="0123456789abcdefghiklmnopkqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H=G.length;b.colorize=J,b.firstNonWhitespaceIndex=K,b.getLeadingWhitespace=L,b.lastNonWhitespaceIndex=M}),define("vs/base/assert",["require","exports","vs/base/strings"],function(a,b,c){function e(a,b){if(!a||a===null)throw new Error(b?d.format("Assertion failed ({0})",b):"Assertion Failed")}function f(a,b,c){if(a!==b||!a||!b)throw new Error(c?d.format("Assertion failed ({0})",c):"Assertion Failed")}var d=c;b.ok=e,b.equals=f});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/platform/platform",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/objects","vs/base/assert"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=function(){function a(a){j.ok(h.isFunction(a)),this.ctor=a}return a.prototype.createNew=function(){var a=[];for(var b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];return a.unshift(this.ctor),h.create.apply(this,a)},a.prototype.describes=function(a){return a===this.ctor||a instanceof this.ctor},a}();b.BaseDescriptor=k;var l=function(){function b(a,b){var c=[];for(var d=0;d<arguments.length-2;d++)c[d]=arguments[d+2];j.ok(!h.isUndefinedOrNull(a),"deferred desc must have a moduleId"),j.ok(!h.isUndefinedOrNull(b),"deferred desc must have a ctorName"),this.moduleId=a,this.ctorName=b,this.payload=c}return b.prototype.getModuleId=function(){return this.moduleId},b.prototype.getCtorName=function(){return this.ctorName},b.prototype.loadAndCreate=function(b){typeof b=="undefined"&&(b=null);var c=this;return new g.Promise(function(d,e,f){a([c.moduleId],function(a){try{var e=c.doCreate(a,b);d(e)}catch(f){f(f)}})})},b.prototype.syncLoadAndCreate=function(b){typeof b=="undefined"&&(b=null);var c=null,d;try{d=a(this.moduleId)}catch(e){return null}return c=this.doCreate(d,b),c},b.prototype.doCreate=function(a,b){if(h.isUndefinedOrNull(a[this.ctorName]))throw new Error("module "+this.moduleId+" does not export "+this.ctorName);var c=this.payload.slice(0);c.unshift(a[this.ctorName]);var d=h.create.apply(null,c);return b!==null&&b.injectTo(d),d},b}();b.DeferredDescriptor=l;var m=function(b){function c(a,c,d){var e=[];for(var f=0;f<arguments.length-3;f++)e[f]=arguments[f+3];b.call(this,c,d),this.payload=e,h.isString(a)?this.entryModuleIds=[a]:this.entryModuleIds=a}return __extends(c,b),c.prototype.loadAndCreate=function(b){typeof b=="undefined"&&(b=null);var c=this;return new g.Promise(function(d,e,f){a(c.entryModuleIds,function(){a([c.moduleId],function(a){h.isUndefinedOrNull(a[c.ctorName])&&e(new Error("module "+c.moduleId+" does not export "+c.ctorName));var f=c.payload.slice(0);f.unshift(a[c.ctorName]);var g=h.create.apply(null,f);b!==null&&b.injectTo(g),d(g)})})})},c}(l);b.EntryPointAwareDeferredDescriptor=m;var n={};b.Registry={mixin:function(a,b){j.ok(h.isString(a)),j.ok(h.isObject(b)),j.ok(typeof n[a]=="undefined","There is already an extension with this id"),i.mixin(this,b),n[a]=this},knows:function(a){return j.ok(h.isString(a)),n[a]===this},as:function(a){return j.ok(h.isString(a)),n[a]||null}}}),define("vs/base/env",["require","exports","vs/base/types"],function(a,b,c){function h(){return g}function i(){return b.browser.isIE8?self.parent!=self:self.parent!==self}function j(){return f}function k(a){f=a}var d=c,e=navigator.userAgent,f=self.isTest||!1,g=self.document&&self.document.URL.match(/[^\?]*\?[^\#]*pseudo=true/);b.browser={isWindows:e.indexOf("Windows")>=0,isMacintosh:e.indexOf("Macintosh")>=0,isOpera:e.indexOf("Opera")>=0,isIE:e.indexOf("IE")>=0,isIE9:e.indexOf("MSIE 9")>=0,isIE8:e.indexOf("MSIE 8")>=0,isFirefox:e.indexOf("Firefox")>=0,isWebKit:e.indexOf("AppleWebKit")>=0,isChrome:e.indexOf("Chrome")>=0,isSafari:e.indexOf("Chrome")===-1&&e.indexOf("Safari")>=0,canPushState:function(){return self&&self.history&&self.history.pushState},hasCSSAnimationSupport:function(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;var a=!1,b=document.createElement("div"),c=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"];for(var e=0;e<c.length;e++){var f=c[e];if(!d.isUndefinedOrNull(b.style[f])||b.style.hasOwnProperty(f)){a=!0;break}}return a?this._hasCSSAnimationSupport=!0:this._hasCSSAnimationSupport=!1,this._hasCSSAnimationSupport},canPlayVideo:function(a){var b=document.createElement("video");if(b.canPlayType){var c=b.canPlayType(a);return c==="maybe"||c==="probably"}return!1},canPlayAudio:function(a){var b=document.createElement("audio");if(b.canPlayType){var c=b.canPlayType(a);return c==="maybe"||c==="probably"}return!1},getInternetExplorerVersion:function(){var a=-1;if(navigator.appName==="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}return a}},b.isDevelopment=self.MonacoEnvironment?self.MonacoEnvironment.isDevelopment:!1,b.isProduction=self.MonacoEnvironment?self.MonacoEnvironment.isProduction:!0,b.isSelfhost=self.MonacoEnvironment?self.MonacoEnvironment.isSelfhost:!1,b.enableWI=self.MonacoEnvironment?self.MonacoEnvironment.enableWI:!0,b.enableTEST=self.MonacoEnvironment?self.MonacoEnvironment.enableTEST:!0,b.enableNode=self.MonacoEnvironment?self.MonacoEnvironment.enableNode:!1,b.enableDebug=self.MonacoEnvironment?self.MonacoEnvironment.enableNode:!1,b.enablePerformanceEvents=self.MonacoEnvironment?self.MonacoEnvironment.enablePerformanceEvents:!1,b.showPerformanceBox=self.MonacoEnvironment?self.MonacoEnvironment.showPerformanceBox:!1,b.isPseudoLanguage=h,b.isInIframe=i,b.isTesting=j,b.setTesting=k}),define("vs/base/eventEmitter",["require","exports"],function(a,b){function c(a){for(var b=0,c=a.length;b<c;b++)a[b].dispose();return[]}b.dispose=c;var d=function(){function a(a,b,c){typeof c=="undefined"&&(c=null),this._type=a,this._data=b,this._emitterType=c}return a.prototype.getType=function(){return this._type},a.prototype.getData=function(){return this._data},a.prototype.getEmitterType=function(){return this._emitterType},a}();b.EmitterEvent=d;var e=function(){function a(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0}return a.prototype.addListener=function(a,b){var c=this;if(a==="*")throw new Error("Use addBulkListener(listener) to register your listener!");return this._listeners.hasOwnProperty(a)?this._listeners[a].push(b):this._listeners[a]=[b],function(){c._removeListener(a,b)}},a.prototype.addListener2=function(a,b){var c=this.addListener(a,b);return{dispose:c}},a.prototype.on=function(a,b){return this.addListener(a,b)},a.prototype.addOneTimeListener=function(a,b){var c=this.addListener(a,function(a){c(),b(a)});return c},a.prototype.addBulkListener=function(a){var b=this;return this._bulkListeners.push(a),function(){b._removeBulkListener(a)}},a.prototype.addEmitter=function(a,b){typeof b=="undefined"&&(b=null);var c=this;return a.addBulkListener(function(a){var e=a;if(b){e=[];for(var f=0,g=a.length;f<g;f++)e.push(new d(a[f].getType(),a[f].getData(),b))}c._deferredCnt===0?c._emitEvents(e):c._collectedEvents.push.apply(c._collectedEvents,e)})},a.prototype.addEmitterTypeListener=function(a,b,c){if(b){if(a==="*")throw new Error("Bulk listeners cannot specify an emitter type");return this.addListener(a+"/"+b,c)}return this.addListener(a,c)},a.prototype._removeListener=function(a,b){if(this._listeners.hasOwnProperty(a)){var c=this._listeners[a];for(var d=0,e=c.length;d<e;d++)if(c[d]===b){c.splice(d,1);break}}},a.prototype._removeBulkListener=function(a){for(var b=0,c=this._bulkListeners.length;b<c;b++)if(this._bulkListeners[b]===a){this._bulkListeners.splice(b,1);break}},a.prototype._emitToSpecificTypeListeners=function(a,b){if(this._listeners.hasOwnProperty(a)){var c=this._listeners[a].slice(0);for(var d=0,e=c.length;d<e;d++)c[d](b)}},a.prototype._emitToBulkListeners=function(a){var b=this._bulkListeners.slice(0);for(var c=0,d=b.length;c<d;c++)b[c](a)},a.prototype._emitEvents=function(a){this._bulkListeners.length>0&&this._emitToBulkListeners(a);for(var b=0,c=a.length;b<c;b++){var d=a[b];this._emitToSpecificTypeListeners(d.getType(),d.getData()),d.getEmitterType()&&this._emitToSpecificTypeListeners(d.getType()+"/"+d.getEmitterType(),d.getData())}},a.prototype.emit=function(a,b){typeof b=="undefined"&&(b={});if(!this._listeners.hasOwnProperty(a)&&this._bulkListeners.length===0)return;var c=new d(a,b);this._deferredCnt===0?this._emitEvents([c]):this._collectedEvents.push(c)},a.prototype.deferredEmit=function(a){this._deferredCnt=this._deferredCnt+1;var b=a();return this._deferredCnt=this._deferredCnt-1,this._deferredCnt===0&&this._emitCollected(),b},a.prototype._emitCollected=function(){var a=this._collectedEvents;this._collectedEvents=[],a.length>0&&this._emitEvents(a)},a.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0},a}();b.EventEmitter=e}),define("vs/base/dom/dom",["require","exports","vs/base/env","vs/base/types","vs/base/eventEmitter"],function(a,b,c,d,e){function i(a){while(a.firstChild)a.removeChild(a.firstChild)}function j(a){while(a){if(a===document.body)return!0;a=a.parentNode}return!1}function k(a){return new RegExp("(\\s|^)("+a+")(\\s|$)")}function l(a,b){var c=a.className;return c&&k(b).test(c)}function m(a,b){l(a,b)||(a.className=a.className?a.className+" "+b:b)}function n(a,b){a.className=a.className.replace(k(b),function(a,b,c,d){return b.length+d.length===2?" ":""})}function o(a,b,c){var d=l(a,b);d&&!c&&n(a,b),!d&&c&&m(a,b)}function p(a,b,c,d){function e(a){a=a||window.event,c(a)}return g.isFunction(a.addEventListener)?(a.addEventListener(b,e,d||!1),function(){a.removeEventListener(b,e,d||!1)}):(a.attachEvent("on"+b,e),function(){a.detachEvent("on"+b,e)})}function q(a,b,c,d){var e=p(a,b,c,d);return{dispose:e}}function r(a,b){return p(a,"mouseout",function(c){var d=c.relatedTarget||c.toElement;while(d&&d!==a)d=d.parentNode;if(d===a)return;b(c)})}function s(a){var b=[]}function v(a,c,d,e){typeof e=="undefined"&&(e=u);var f=null,g=!1,h=function(){if(g)return;f&&d(f),f=null},i=p(a,c,function(a){f=e(f,a),b.scheduleAtNextAnimationFrame(h)});return function(){g=!0,i()}}function w(a,b,c,d){typeof d=="undefined"&&(d=u);var e=null,f=0,g=-1,h=function(){g=-1,f=(new Date).getTime(),c(e),e=null},i=p(a,b,function(a){e=d(e,a);var b=(new Date).getTime()-f;b>t?(g!==-1&&window.clearTimeout(g),h()):g===-1&&(g=window.setTimeout(h,t-b))});return function(){g!==-1&&window.clearTimeout(g),i()}}function x(a){return document.defaultView&&g.isFunction(document.defaultView.getComputedStyle)?document.defaultView.getComputedStyle(a,null):a.currentStyle}function z(a,b,c){var d=x(a),e="0";return d.getPropertyValue?e=d.getPropertyValue(b):e=d.getAttribute(c),y(a,e)}function B(a){var b=a.offsetParent,c=a.offsetTop,d=a.offsetLeft;while((a=a.parentNode)!==null&&a!==document.body&&a!==document.documentElement){c-=a.scrollTop;var e=x(a);e&&(d-=e.direction!=="rtl"?a.scrollLeft:-a.scrollLeft),a===b&&(d+=A.getBorderLeftWidth(a),c+=A.getBorderTopWidth(a),c+=a.offsetTop,d+=a.offsetLeft,b=a.offsetParent)}return{left:d,top:c}}function C(a){var b=B(a);return{left:b.left,top:b.top,width:a.clientWidth,height:a.clientHeight}}function D(a){var b=A.getBorderLeftWidth(a)+A.getBorderRightWidth(a),c=A.getPaddingLeft(a)+A.getPaddingRight(a);return a.offsetWidth-b-c}function E(a){var b=A.getMarginLeft(a)+A.getMarginRight(a);return a.offsetWidth+b}function F(a){var b=A.getBorderTopWidth(a)+A.getBorderBottomWidth(a),c=A.getPaddingTop(a)+A.getPaddingBottom(a);return a.offsetHeight-b-c}function G(a){var b=A.getMarginTop(a)+A.getMarginBottom(a);return a.offsetHeight+b}function H(a,b){if(a===null)return 0;var c=a.offsetLeft,d=a.parentNode;while(d!==null){c-=d.offsetLeft;if(d===b)break;d=d.parentNode}return c}function I(a,b){if(a===null)return 0;var c=a.offsetTop,d=a.parentNode;while(d!==null){c-=d.offsetTop;if(d===b)break;d=d.parentNode}return c}function J(a,b){while(a){if(a===b)return!0;a=a.parentNode}return!1}function L(){K=document.createElement("style"),K.type="text/css",K.media="screen",document.getElementsByTagName("head")[0].appendChild(K)}function M(a,b){if(f.isTesting())return;if(!b)return;K||L(),K.sheet?K.sheet.insertRule(a+"{"+b+"}",0):K.styleSheet.addRule(a,b)}function N(a){return typeof HTMLElement=="object"?a instanceof HTMLElement:a&&typeof a=="object"&&a.nodeType===1&&typeof a.nodeName=="string"}function O(a){var c=!1,d=!1,e=new h.EventEmitter,f=[],g=null;g={addFocusListener:function(a){var b=e.addListener("focus",a);return f.push(b),b},addBlurListener:function(a){var b=e.addListener("blur",a);return f.push(b),b},dispose:function(){while(f.length>0)f.pop()()}};var i=function(a){d=!1,c||(c=!0,e.emit("focus",{}))},j=function(a){c&&(d=!0,window.setTimeout(function(){d&&(d=!1,c=!1,e.emit("blur",{}))},0))};return f.push(p(a,b.EventType.FOCUS,i,!0)),f.push(p(a,b.EventType.BLUR,j,!0)),g}var f=c,g=d,h=e;b.clearNode=i,b.isInDOM=j,b.hasClass=l,b.addClass=m,b.removeClass=n,b.toggleClass=o,b.addListener=p,b.addDisposableListener=q,b.addNonBubblingMouseOutListener=r,b.animationFrame=function(){var a=function(a){return a((new Date).getTime()),0},b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,c=function(a){},d=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,e=!!b,f=b||a,g=d||d;return{isNative:e,request:function(a){return f(a)},cancel:function(a){return g(a)}}}(),b.scheduleAtNextAnimationFrame=function(){var a=[],c=!1,d=function(){c=!1;var b=a;a=[],b.forEach(function(a){a()})};return function(e){a.push(e),c||(c=!0,b.animationFrame.request(d))}}();var t=16,u=function(a,b){return b};b.addThrottledListener=function(){return b.animationFrame.isNative?v:w}(),b.getComputedStyle=x;var y=function(){var a=/^-?\d+(px)?$/i,b=/^-?\d+/i;return function(c,d){if(!a.test(d)&&b.test(d)){var e=c.style.left;c.style.left=d;var f=c.style.pixelLeft;return c.style.left=e,f}return parseInt(d,10)||0}}(),A={getBorderLeftWidth:function(a){return z(a,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(a){return z(a,"border-top-width","borderTopWidth")},getBorderRightWidth:function(a){return z(a,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(a){return z(a,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(a){return z(a,"padding-left","paddingLeft")},getPaddingTop:function(a){return z(a,"padding-top","paddingTop")},getPaddingRight:function(a){return z(a,"padding-right","paddingRight")},getPaddingBottom:function(a){return z(a,"padding-bottom","paddingBottom")},getMarginLeft:function(a){return z(a,"margin-left","marginLeft")},getMarginTop:function(a){return z(a,"margin-top","marginTop")},getMarginRight:function(a){return z(a,"margin-right","marginRight")},getMarginBottom:function(a){return z(a,"margin-bottom","marginBottom")},__commaSentinel:!1};b.getTopLeftOffset=B,b.getDomNodePosition=C,b.getContentWidth=D,b.getTotalWidth=E,b.getContentHeight=F,b.getTotalHeight=G,b.getRelativeLeft=H,b.getRelativeTop=I,b.isAncestor=J;var K=null;b.createCSSRule=M,b.isHTMLElement=N,b.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.browser.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.browser.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.browser.isWebKit?"webkitAnimationIteration":"animationiteration"},b.EventHelper={stop:function(a,b){a.preventDefault?a.preventDefault():a.returnValue=!1,b&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}},b.trackFocus=O,b.UnitConverter={_emInPx:-1,emToPixel:function(a){if(this._emInPx<0){var b=document.createElement("div");b.style.position="absolute",b.style.top="10000px",b.style.left="10000px",b.style.fontSize="1em",b.innerHTML="AbcDef",document.body.appendChild(b);var c=G(b);document.body.removeChild(b),this._emInPx=c}var d=a*this._emInPx,e=Math.round(d);return e}}}),define("vs/editor/core/config",["require","exports","vs/base/env","vs/editor/core/constants"],function(a,b,c,d){function h(a,b){return e.browser.isMacintosh?{shift:a,alt:!0,key:b}:{ctrlCmd:!0,shift:a,key:b}}var e=c,f=d,g=function(){function a(){this.editor={lineHeight:20,lineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,tabSize:4,insertSpaces:!1,roundedSelection:!0,nativeContextMenu:!0,theme:"vs",pageSize:1,readOnly:!1,scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},scrollBeyondLastLine:!0,automaticLayout:!1,fontIsMonospace:!1,hover:!0,quickSuggestions:!0,quickSuggestionsDelay:500,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0},this.keyBindings={},this.tokens={comment:{italic:!0},"meta.code1":{bold:!0}}}return a.prototype.addSyntaxOptions=function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this.tokens[b]=a[b])},a.prototype.addKeyBinding=function(a,b){this.keyBindings[a]=this.keyBindings[a]||[],this.keyBindings[a].push(b)},a}();b.ConfigClass=g,b.Config=new g,b.Config.addKeyBinding(f.Handler.CursorLeft,{key:"LeftArrow"}),b.Config.addKeyBinding(f.Handler.CursorLeftSelect,{shift:!0,key:"LeftArrow"}),b.Config.addKeyBinding(f.Handler.CursorRight,{key:"RightArrow"}),b.Config.addKeyBinding(f.Handler.CursorRightSelect,{shift:!0,key:"RightArrow"}),b.Config.addKeyBinding(f.Handler.CursorUp,{key:"UpArrow"}),b.Config.addKeyBinding(f.Handler.CursorUpSelect,{shift:!0,key:"UpArrow"}),b.Config.addKeyBinding(f.Handler.CursorDown,{key:"DownArrow"}),b.Config.addKeyBinding(f.Handler.CursorDownSelect,{shift:!0,key:"DownArrow"}),b.Config.addKeyBinding(f.Handler.CursorPageUp,{key:"PageUp"}),b.Config.addKeyBinding(f.Handler.CursorPageUpSelect,{shift:!0,key:"PageUp"}),b.Config.addKeyBinding(f.Handler.CursorPageDown,{key:"PageDown"}),b.Config.addKeyBinding(f.Handler.CursorPageDownSelect,{shift:!0,key:"PageDown"}),b.Config.addKeyBinding(f.Handler.CursorHome,{key:"Home"}),b.Config.addKeyBinding(f.Handler.CursorHomeSelect,{shift:!0,key:"Home"}),b.Config.addKeyBinding(f.Handler.CursorEnd,{key:"End"}),b.Config.addKeyBinding(f.Handler.CursorEndSelect,{shift:!0,key:"End"}),b.Config.addKeyBinding(f.Handler.Tab,{key:"Tab"}),b.Config.addKeyBinding(f.Handler.Outdent,{shift:!0,key:"Tab"}),b.Config.addKeyBinding(f.Handler.DeleteLeft,{key:"Backspace"}),b.Config.addKeyBinding(f.Handler.DeleteLeft,{shift:!0,key:"Backspace"}),b.Config.addKeyBinding(f.Handler.DeleteRight,{key:"Delete"}),b.Config.addKeyBinding(f.Handler.DeleteRight,{shift:!0,key:"Delete"}),b.Config.addKeyBinding(f.Handler.Indent,{ctrlCmd:!0,key:"]"}),b.Config.addKeyBinding(f.Handler.Outdent,{ctrlCmd:!0,key:"["}),b.Config.addKeyBinding(f.Handler.SelectAll,{ctrlCmd:!0,key:"A"}),b.Config.addKeyBinding(f.Handler.Escape,{key:"Escape"}),b.Config.addKeyBinding(f.Handler.AddCursorUp,{ctrlCmd:!0,alt:!0,key:"UpArrow"}),b.Config.addKeyBinding(f.Handler.AddCursorDown,{ctrlCmd:!0,alt:!0,key:"DownArrow"}),b.Config.addKeyBinding(f.Handler.CursorWordLeft,h(!1,"LeftArrow")),b.Config.addKeyBinding(f.Handler.CursorWordLeftSelect,h(!0,"LeftArrow")),b.Config.addKeyBinding(f.Handler.CursorWordRight,h(!1,"RightArrow")),b.Config.addKeyBinding(f.Handler.CursorWordRightSelect,h(!0,"RightArrow")),b.Config.addKeyBinding(f.Handler.CursorDownSelect,h(!0,"DownArrow")),b.Config.addKeyBinding(f.Handler.CursorUpSelect,h(!0,"UpArrow")),b.Config.addKeyBinding(f.Handler.DeleteWordLeft,h(!1,"Backspace")),b.Config.addKeyBinding(f.Handler.DeleteWordRight,h(!1,"Delete")),e.browser.isMacintosh?(b.Config.addKeyBinding(f.Handler.CursorTop,{ctrlCmd:!0,key:"UpArrow"}),b.Config.addKeyBinding(f.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"UpArrow"}),b.Config.addKeyBinding(f.Handler.CursorBottom,{ctrlCmd:!0,key:"DownArrow"}),b.Config.addKeyBinding(f.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"DownArrow"}),e.browser.isOpera?(b.Config.addKeyBinding(f.Handler.Undo,{winCtrl:!0,key:"Z"}),b.Config.addKeyBinding(f.Handler.Redo,{winCtrl:!0,key:"Y"})):(b.Config.addKeyBinding(f.Handler.Undo,{ctrlCmd:!0,key:"Z"}),b.Config.addKeyBinding(f.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"})),b.Config.addKeyBinding(f.Handler.CursorHome,{ctrlCmd:!0,key:"LeftArrow"}),b.Config.addKeyBinding(f.Handler.CursorHomeSelect,{ctrlCmd:!0,shift:!0,key:"LeftArrow"}),b.Config.addKeyBinding(f.Handler.CursorEnd,{ctrlCmd:!0,key:"RightArrow"}),b.Config.addKeyBinding(f.Handler.CursorEndSelect,{ctrlCmd:!0,shift:!0,key:"RightArrow"})):(b.Config.addKeyBinding(f.Handler.CursorTop,{ctrlCmd:!0,key:"Home"}),b.Config.addKeyBinding(f.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"Home"}),b.Config.addKeyBinding(f.Handler.CursorBottom,{ctrlCmd:!0,key:"End"}),b.Config.addKeyBinding(f.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"End"}),b.Config.addKeyBinding(f.Handler.Undo,{ctrlCmd:!0,key:"Z"}),b.Config.addKeyBinding(f.Handler.Redo,{ctrlCmd:!0,key:"Y"}),b.Config.addKeyBinding(f.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"}))}),define("vs/editor/core/handlerDispatcher",["require","exports"],function(a,b){var c=function(){function a(a,b){this.source=a,this.data=b}return a.prototype.getSource=function(){return this.source},a.prototype.getData=function(){return this.data},a}();b.DispatcherEvent=c;var d=function(){function a(){this.registry={}}return a.prototype.setHandler=function(a,b){this.registry[a]=b},a.prototype.getHandler=function(a){return this.registry.hasOwnProperty(a)?this.registry[a]:null},a.prototype.trigger=function(a,b,d){var e=this.getHandler(b),f=!1;if(e){var g=new c(a,d);f=e(g)}return f},a}();b.HandlerDispatcher=d}),define("vs/base/dom/measurementHelper",["require","exports","./dom"],function(a,b,c){function f(a){if(a[a.length-1]==="%")throw new Error("Relative dimensions not supported");return parseInt(a,10)}var d=c,e=function(){function a(){this.measurements=[]}return a.prototype.measure=function(a){var b=this;this.measurements=[];var c={create:function(a,b,c){var d=document.createElement(a);return d.className=b,d.innerHTML=c,d},measure:function(a,c){b.measurements.push({domNode:a,measureFunc:c,container:null})}};a(c),this._doMeasurements()},a.prototype._doMeasurements=function(){var a,b=this.measurements.length,c;for(a=0;a<b;a++)c=this.measurements[a],c.container=document.createElement("div"),c.container.style.position="absolute",c.container.style.top="-5000px",c.container.appendChild(c.domNode);for(a=0;a<b;a++)document.body.appendChild(this.measurements[a].container);for(a=0;a<b;a++){c=this.measurements[a];try{c.measureFunc(c.domNode,d.getComputedStyle(c.domNode))}catch(e){console.error("Measurement failed"),console.error(e)}}for(a=0;a<b;a++)document.body.removeChild(this.measurements[a].container)},a}();b.MeasurementHelper=e;var g=function(){function a(a){this._computedStyle=d.getComputedStyle(a),this._dimensions={width:this._computedStyle.getPropertyValue("width"),height:this._computedStyle.getPropertyValue("height")},this._margin={top:this._computedStyle.getPropertyValue("margin-top"),bottom:this._computedStyle.getPropertyValue("margin-bottom"),left:this._computedStyle.getPropertyValue("margin-left"),right:this._computedStyle.getPropertyValue("margin-right")},this._padding={top:this._computedStyle.getPropertyValue("padding-top"),bottom:this._computedStyle.getPropertyValue("padding-bottom"),left:this._computedStyle.getPropertyValue("padding-left"),right:this._computedStyle.getPropertyValue("padding-right")},this._border={top:this._computedStyle.getPropertyValue("border-top-width"),bottom:this._computedStyle.getPropertyValue("border-bottom-width"),left:this._computedStyle.getPropertyValue("border-left-width"),right:this._computedStyle.getPropertyValue("border-right-width")}}return a.prototype.getComputedStyle=function(){return this._computedStyle},a.prototype.getDimensions=function(){return this._dimensions},a.prototype.getMargin=function(){return this._margin},a.prototype.getPadding=function(){return this._padding},a.prototype.getBorder=function(){return this._border},a.prototype.getTotalWidth=function(){return f(this._margin.left)+f(this._border.left)+f(this._padding.left)+f(this._dimensions.width)+f(this._padding.right)+f(this._border.right)+f(this._margin.right)},a.prototype.getTotalHeight=function(){return f(this._margin.top)+f(this._border.top)+f(this._padding.top)+f(this._dimensions.height)+f(this._padding.bottom)+f(this._border.bottom)+f(this._margin.bottom)},a}();b.ComputedDimensions=g}),define("vs/editor/modes/modes",["require","exports"],function(a,b){(function(a){a._map=[],a.None=0,a.Open=1,a.Close=-1})(b.Bracket||(b.Bracket={}));var c=b.Bracket;(function(a){a._map=[],a._map[0]="PREFIX",a.PREFIX=0,a._map[1]="SUFFIX",a.SUFFIX=1})(b.TypesFormat||(b.TypesFormat={}));var d=b.TypesFormat;(function(a){a._map=[],a._map[0]="None",a.None=0,a._map[1]="Indent",a.Indent=1,a._map[2]="IndentOutdent",a.IndentOutdent=2})(b.IndentAction||(b.IndentAction={}));var e=b.IndentAction}),define("vs/editor/core/view/viewContext",["require","exports"],function(a,b){var c=function(){function a(a,b,c,d,e,f,g,h){this.editorId=a,this.configuration=b,this.cursor=c,this.model=d,this.internalEventBus=e,this.layoutManager=f,this.layoutProvider=g,this.privateViewEventBus=h}return a}();b.ViewContext=c}),define("vs/editor/core/view/syntaxStyleManager",["require","exports","vs/base/dom/dom","vs/editor/core/config"],function(a,b,c,d){var e=c,f=d,g={},h=function(){function a(a){this.configuration=a,this.ruleBook=this._generateCSSRules(this._parseConfiguration(this.configuration.tokens))}return a.prototype.lookup=function(a){a===""&&(a="default");if(this.ruleBook.hasOwnProperty(a))return this.ruleBook[a];var b=a;while(!this.ruleBook.hasOwnProperty(b)){var c=b.lastIndexOf(".");c===-1?b="default":b=b.substring(0,c)}return this.ruleBook[a]={className:this._generateClassName(a),italic:this.ruleBook[b].italic,bold:this.ruleBook[b].bold},this.ruleBook[a]},a.prototype._generateCSSRuleName=function(a){return"token."+a},a.prototype._generateClassName=function(a){return"token "+a.replace(/[\.]/g," ")},a.prototype._CSSruleKey=function(a,b){return a+"_"+b},a.prototype._generateCSSRuleText=function(a){var b="";return a.bold&&(b+="font-weight:bold;"),a.italic&&(b+="font-style:italic;"),b},a.prototype._generateCSSRules=function(a){var b={},c,d,f,h,i;for(var j in a)a.hasOwnProperty(j)&&(c=a[j],d=this._generateCSSRuleName(j),f=this._generateCSSRuleText(c),h=this._CSSruleKey(d,f),i=this._generateClassName(j),g.hasOwnProperty(h)||(e.createCSSRule("."+d,f),g[h]=!0),b[j]={className:i,italic:c.italic,bold:c.bold});return b},a.prototype._parseConfiguration=function(a){var b={italic:!1,bold:!1};a.hasOwnProperty("default")&&(b=this._mergeTokenOptions(b,a["default"]));var c={"default":b};for(var d in a)a.hasOwnProperty(d)&&d!=="default"&&(c[d]=this._processRule(c,d,a[d]));return c},a.prototype._processRule=function(a,b,c){var d=a["default"],e=-1,f;do e=b.indexOf(".",e+1),f=e===-1?b:b.substr(0,e),a.hasOwnProperty(f)&&(d=this._mergeTokenOptions(d,a[f]));while(e!==-1);return this._mergeTokenOptions(d,c)},a.prototype._mergeTokenOptions=function(a,b){return{italic:b.italic||a.italic,bold:b.bold||a.bold}},a}();b.SyntaxStyleManager=h}),define("vs/base/dom/keyboardEvent",["require","vs/base/lib/winjs.base","vs/base/env","vs/base/dom/dom"],function(a,b,c,d){var e=function(){var a={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};c.browser.isIE?a.Meta=91:c.browser.isFirefox?(a["-"]=109,a["="]=107,a[";"]=59,c.browser.isMacintosh&&(a.Meta=224)):c.browser.isOpera?(a["-"]=109,a["="]=61,a[";"]=59,c.browser.isMacintosh&&(a.Meta=57392)):c.browser.isWebKit&&c.browser.isMacintosh&&(a.Meta=91);var b={};(function(){for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c)})(),c.browser.isOpera?(b[189]="-",b[187]="=",b[186]=";"):c.browser.isWebKit&&c.browser.isMacintosh&&(b[93]="Meta");var d=function(a,c){return b.hasOwnProperty(a)?b[a]:c},e=null;return c.browser.isOpera?e=function(a){return a.type==="keypress"?a.which<=32?d(a.keyCode,String.fromCharCode(a.keyCode).toUpperCase()):String.fromCharCode(a.which).toUpperCase():d(a.keyCode,"unknown")}:c.browser.isIE8?e=function(a){return a.type==="keypress"?String.fromCharCode(a.keyCode).toUpperCase():d(a.keyCode,"unknown")}:e=function(a){return a.charCode?String.fromCharCode(a.charCode).toUpperCase():d(a.keyCode,"unknown")},{CHAR_TO_CODE:a,CODE_TO_CHAR:b,extractKey:e}}(),f=b.Class.define(function(b){this.browserEvent=b,this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,this.target=b.target||b.targetNode,this.key=e.extractKey(b),this.ctrlKey=this.ctrlKey||this.key==="Ctrl",this.altKey=this.altKey||this.key==="Alt",this.shiftKey=this.shiftKey||this.key==="Shift",this.metaKey=this.metaKey||this.key==="Meta";if(c.browser.isOpera&&c.browser.isMacintosh){var d=this.metaKey;this.metaKey=this.ctrlKey,this.ctrlKey=d,this.key==="Ctrl"?this.key="Meta":this.key==="Meta"&&(this.key="Ctrl")}},{preventDefault:function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},stopPropagation:function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},clone:function(){var a=this.asString();return{ctrlKey:this.ctrlKey,shiftKey:this.shiftKey,altKey:this.altKey,metaKey:this.metaKey,target:this.target,key:this.key,preventDefault:function(){},stopPropagation:function(){},asString:function(){return a}}},asString:function(){var a="";return this.ctrlKey&&(a+="Ctrl"),this.shiftKey&&(a+=(a===""?"":"-")+"Shift"),this.altKey&&(a+=(a===""?"":"-")+"Alt"),this.metaKey&&(a+=(a===""?"":"-")+"Meta"),this.key&&this.key!=="Ctrl"&&this.key!=="Shift"&&this.key!=="Alt"&&this.key!=="Meta"&&(a+=(a===""?"":"-")+this.key),a}}),g=b.Class.define(function(b){this._listeners={},this._previousKeyDown=null,this._previousEventType=null,this.listenersToRemove=[],this.listenersToRemove.push(d.addListener(b,"keydown",this._onKeyDown.bind(this))),this.listenersToRemove.push(d.addListener(b,"keypress",this._onKeyPress.bind(this))),this.listenersToRemove.push(d.addListener(b,"keyup",this._onKeyUp.bind(this)))},{destroy:function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},addListener:function(a,b){return this._listeners[a]=b,function(){this._listeners[a]=null}.bind(this)},_fire:function(a,b){this._listeners.hasOwnProperty(a)&&this._listeners[a](b)},_onKeyDown:function(a){var b=new f(a);this._previousKeyDown=b.clone(),this._previousEventType="keydown",this._fire("keydown",b)},_onKeyPress:function(a){var b=new f(a);b.shiftKey&&this._previousKeyDown.asString()!==b.asString()&&(b.shiftKey=!1),this._previousEventType==="keypress"&&this._fire("keydown",this._previousKeyDown),this._previousEventType="keypress",this._fire("keypress",b)},_onKeyUp:function(a){this._fire("keyup",new f(a))}});return{KEYS:e.CHAR_TO_CODE,KeyboardEvent:f,KeyboardController:g}}),define("vs/base/dom/mouseEvent",["vs/base/lib/winjs.base","vs/base/env"],function(a,b){var c=function(a){var b=window.MonacoScrollDivisor||120;return a/b},d=a.Class.define(function(c,d){this.browserEvent=c,this.extraData=d,b.browser.isIE8?(this.leftButton=c.button===1,this.middleButton=c.button===4,this.rightButton=c.button===2):(this.leftButton=c.button===0,this.middleButton=c.button===1,this.rightButton=c.button===2),this.target=c.target||c.targetNode||c.srcElement,this.detail=c.detail||1,c.type==="dblclick"&&(this.detail=2),this.posx=0,this.posy=0,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey;if(c.clientX||c.clientY)this.posx=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;else if(c.pageX||c.pageY)this.posx=c.pageX,this.posy=c.pageY},{preventDefault:function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},stopPropagation:function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0}}),e=a.Class.derive(d,function(b){d.call(this,b),this.dataTransfer=b.dataTransfer}),f=a.Class.derive(e,function(b){e.call(this,b)}),g=a.Class.define(function(d,e,f){d?this.browserEvent=d:d=d||{},this.deltaY=f||0,d.wheeldeltaY||d.wheeldeltaY===0?this.deltaY=c(d.wheeldeltaY):(d.VERTICAL_AXIS||d.VERTICAL_AXIS===0)&&d.axis===d.VERTICAL_AXIS&&(this.deltaY=-d.detail/3),this.deltaX=e||0,d.wheelDeltaX?b.browser.isSafari&&b.browser.isWindows?this.deltaX=-c(d.wheelDeltaX):this.deltaX=c(d.wheelDeltaX):(d.HORIZONTAL_AXIS||d.HORIZONTAL_AXIS===0)&&d.axis===d.HORIZONTAL_AXIS&&(this.deltaX=-d.detail/3),this.deltaY===0&&this.deltaX===0&&d.wheelDelta&&(this.deltaY=c(d.wheelDelta)),this.target=d.target||d.targetNode},{preventDefault:function(){this.browserEvent&&(this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1)},stopPropagation:function(){this.browserEvent&&(this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0)}});return{MouseEvent:d,DragMouseEvent:e,DropMouseEvent:f,MouseWheelEvent:g}}),define("vs/editor/core/view/parts/overviewRuler",["require","exports","vs/base/eventEmitter"],function(a,b,c){var d=c,e=window.navigator.userAgent.indexOf("MSIE 8")===-1,f=function(){function a(a,b,c,d){var e=this;this.context=a,this.minimumHeight=c,this.maximumHeight=d,this.listenersToDispose=[],this.zones=[],this.listenersToDispose.push(this.context.layoutManager.addScrollHeightChangeListener(function(){return e._scrollHeightChanged()})),this.domNode=document.createElement("canvas"),this.domNode.className=b,this.domNode.style.position="absolute",this.width=0,this.height=0,this.outerHeight=this.context.layoutManager.getScrollHeight()}return a.prototype.setLayout=function(a,b){this.domNode.style.top=a.top+"px",this.domNode.style.right=a.right+"px";if(this.width!==a.width||this.height!==a.height)this.width=a.width,this.height=a.height,this.domNode.width=this.width,this.domNode.height=this.height,b&&this.render()},a.prototype.getDomNode=function(){return this.domNode},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype._scrollHeightChanged=function(){this.outerHeight=this.context.layoutManager.getScrollHeight(),this.render()},a.prototype.destroy=function(){this.listenersToDispose=d.dispose(this.listenersToDispose),this.zones=[]},a.prototype.setZones=function(a,b){this.zones=a,b&&this.render()},a.prototype._insertZone=function(a,b,c,d,e){var f=Math.floor((b+c)/2),g=c-f;g>d/2&&(g=d/2),g<this.minimumHeight/2&&(g=this.minimumHeight/2),f-g<0&&(f=g),f+g>this.height&&(f=this.height-g),a[e]=a[e]||[],a[e].push({from:f-g,to:f+g})},a.prototype.render=function(){if(this.outerHeight===0)return;if(!e)return;var a=this.height/this.outerHeight,b=this.domNode.getContext("2d");b.clearRect(0,0,this.width,this.height);var c={},d,f,g,h,i,j,k;for(d=0,f=this.zones.length;d<f;d++){g=this.zones[d],h=this.context.layoutProvider.getVerticalOffsetForLineNumber(g.startLineNumber),i=this.context.layoutProvider.getVerticalOffsetForLineNumber(g.endLineNumber)+this.context.configuration.editor.lineHeight,h*=a,i*=a,j=g.endLineNumber-g.startLineNumber+1,k=j*this.maximumHeight;if(i-h>k)for(var l=g.startLineNumber;l<=g.endLineNumber;l++)h=this.context.layoutProvider.getVerticalOffsetForLineNumber(l),i=h+this.context.configuration.editor.lineHeight,h*=a,i*=a,this._insertZone(c,h,i,this.maximumHeight,g.color);else this._insertZone(c,h,i,k,g.color)}var m=function(a,b){return a.from-b.from},n,o,p,q;for(n in c)if(c.hasOwnProperty(n)){o=c[n],o.sort(m),p=o[0].from,q=o[0].to,b.fillStyle=n;for(d=1,f=o.length;d<f;d++)q>=o[d].from?q=Math.max(q,o[d].to):(b.fillRect(0,p,this.width,q-p),p=o[d].from,q=o[d].to);b.fillRect(0,p,this.width,q-p)}},a}();b.OverviewRuler=f}),define("vs/editor/core/view/parts/viewCursor",["require","exports"],function(a,b){var c=function(){function a(a,b){this.context=a,this.position={lineNumber:1,column:1},this.isInEditableRange=!0,this.domNode=this._createCursorDomNode(b),this.positionTop=0,this.positionLeft=0,this.shouldUpdatePositionLeft=!0}return a.prototype._createCursorDomNode=function(a){var b=document.createElement("div");return b.className="cursor",a&&(b.className+=" secondary"),b.style.height=this.context.configuration.editor.lineHeight+"px",b.style.top="0px",b.style.left="0px",b.setAttribute("role","presentation"),b.setAttribute("aria-hidden","true"),b},a.prototype.getIsInEditableRange=function(){return this.isInEditableRange},a.prototype.getPositionTop=function(){return this.positionTop},a.prototype.getDomNode=function(){return this.domNode},a.prototype.getPosition=function(){return this.position},a.prototype.show=function(){this.domNode.style.display="block"},a.prototype.hide=function(){this.domNode.style.display="none"},a.prototype.onConfigurationLineHeightChanged=function(){return this.domNode.style.height=this.context.configuration.editor.lineHeight+"px",!0},a.prototype.onModelFlushed=function(){return this.position={lineNumber:1,column:1},this.isInEditableRange=!0,this.positionTop=0,this.positionLeft=0,this.shouldUpdatePositionLeft=!0,!0},a.prototype.onModelLineChanged=function(a){return a.lineNumber===this.position.lineNumber?(this.shouldUpdatePositionLeft=!0,!0):!1},a.prototype.onCursorPositionChanged=function(a,b){return this.position=a,this.isInEditableRange=b,this.shouldUpdatePositionLeft=!0,!0},a.prototype.prepareRender=function(a){if(this.shouldUpdatePositionLeft){var b=a.getOffsetForColumn(this.position.lineNumber,this.position.column);b!==-1?(this.shouldUpdatePositionLeft=!1,this.positionLeft=b):this.positionLeft=0}},a.prototype.render=function(){this.positionTop=this.context.layoutProvider.getVerticalOffsetForLineNumber(this.position.lineNumber),this.domNode.setAttribute("lineNumber",this.position.lineNumber.toString()),this.domNode.setAttribute("column",this.position.column.toString()),this.domNode.style.left=this.positionLeft+"px",this.context.layoutManager.setLinesContentDomNodeTop(this.domNode,this.positionTop)},a}();b.ViewCursor=c}),define("vs/base/ui/scrollbar/abstractScrollbar",["require","vs/base/lib/winjs.base","vs/base/env","vs/base/dom/dom","vs/base/dom/mouseEvent"],function(a,b){function g(a){return a+"px"}function h(a,b,c,d,e){b!==null&&(a.style.top=g(b)),c!==null&&(a.style.left=g(c)),d!==null&&(a.style.bottom=g(d)),e!==null&&(a.style.right=g(e))}function i(a,b,c){b!==null&&(a.style.width=g(b)),c!==null&&(a.style.height=g(c))}var c=20,d=a("vs/base/env"),e=a("vs/base/dom/dom"),f=a("vs/base/dom/mouseEvent"),j=b.Class.define(function(b,c,d,e,f){this.listenersToRemove=[],this.scrollable=b,this.parent=c,this.options=d,this.visibility=e,this.hasArrows=f,this._hookUnbind=[],this.isDragging=!1,this.scrollPosition=0,this.scrollSize=0,this.sliderSize=0,this.sliderPosition=0,this.isNeeded=!1,this.isVisible=!1,this.shouldBeVisible=!1,this.ARROW_ID=0,this.arrowIntervals={},this.arrowTimeouts={},this.hideTimeout=-1},{ARROW_IMG_SIZE:11,_createDomNode:function(){this.domNode=document.createElement("div"),this._hide(),this.domNode.style.position="absolute",this.listenersToRemove.push(e.addListener(this.domNode,"mousedown",this._domNodeMouseDown.bind(this)))},_createArrow:function(a,b,c,d,f,g){var j=document.createElement("div");return j.className=a,j.style.position="absolute",i(j,this.ARROW_IMG_SIZE,this.ARROW_IMG_SIZE),h(j,b,c,d,f),this.ARROW_ID++,this.listenersToRemove.push(e.addListener(j,"mousedown",this._arrowMouseDown.bind(this,this.ARROW_ID,g))),this.listenersToRemove.push(e.addListener(j,"mouseup",this._arrowMouseUp.bind(this,this.ARROW_ID))),this.arrowIntervals[this.ARROW_ID]=-1,this.arrowTimeouts[this.ARROW_ID]=-1,this.domNode.appendChild(j),j},_arrowMouseDown:function(a,b,c){var d=function(){this.parent.onChildMouseWheel(b(c))}.bind(this),e=function(){this.arrowIntervals[a]=window.setInterval(d,1e3/24)}.bind(this);d(),this._clearArrowTimers(a),this.arrowTimeouts[a]=window.setTimeout(e,200)},_clearArrowTimers:function(a){this.arrowIntervals[a]!==-1&&(window.clearInterval(this.arrowIntervals[a]),this.arrowIntervals[a]=-1),this.arrowTimeouts[a]!==-1&&(window.clearTimeout(this.arrowTimeouts[a]),this.arrowTimeouts[a]=-1)},_arrowMouseUp:function(a,b){this._clearArrowTimers(a)},_createSlider:function(a,b){this.slider=document.createElement("div"),this.slider.className="slider",this.slider.style.position="absolute",this.slider.style.left=0,i(this.slider,a,b),this.domNode.appendChild(this.slider),this.listenersToRemove.push(e.addListener(this.slider,"mousedown",this._sliderMouseDown.bind(this)))},destroy:function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[];for(var a=1;a<=this.ARROW_ID;a++)this._clearArrowTimers(a)},reveal:function(){this.shouldBeVisible=!0,this.isNeeded&&this._reveal()},hide:function(){this.shouldBeVisible=!1,this._hide()},_reveal:function(){if(this.visibility==="hidden")return;if(this.isVisible)return;this.isVisible=!0,this.domNode.style.display="block",window.setTimeout(function(){this.domNode.className=this._getDomNodeRevealClassName()}.bind(this),0),this.hideTimeout!==-1&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=-1)},_hide:function(){if(this.visibility==="visible")return;if(!this.isVisible)return;this.isVisible=!1,this.domNode.className=this._getDomNodeHideClassName(),this.hideTimeout===-1&&(this.hideTimeout=window.setTimeout(function(){this.hideTimeout=-1,this.isVisible=!1,this.domNode.style.display="none"}.bind(this),800))},onElementDimensions:function(a,b){this.dimensions=a,this.visibleSize=b,this.representableSize=b-(this.hasArrows?2*this.options.arrowSize:0)-this._getOppositeScrollbarSize(),this.ratio=this.scrollSize>0?this.representableSize/this.scrollSize:0,this._renderDomNode(),this._renderSlider()},onElementScrollSize:function(a){this.scrollSize!==a&&(this.scrollSize=a,this.dimensions&&(this.ratio=this.scrollSize>0?this.representableSize/this.scrollSize:0,this._renderSlider()))},onElementScrollPosition:function(a){this.scrollPosition!==a&&(this.scrollPosition=a,this.dimensions&&this._renderSlider())},_renderSlider:function(){this.isNeeded=this.scrollSize>this.visibleSize,this.isNeeded||(this._hide(),this.isVisible=!1,this.domNode.style.display="none"),this.sliderSize=Math.floor(this.visibleSize*this.ratio);var a=0,b;this.sliderPosition=Math.floor(this.scrollPosition*this.ratio),this.sliderSize<c&&(b=(c-this.sliderSize)/2,this.sliderSize=c,this.sliderPosition<b?a=-this.sliderPosition:a=-b,this.sliderPosition+a+this.sliderSize>this.representableSize&&(a=this.representableSize-this.sliderSize-this.sliderPosition)),this._updateSlider(this.sliderSize,(this.hasArrows?this.options.arrowSize:0)+this.sliderPosition+a),this.shouldBeVisible&&this.isNeeded&&this._reveal()},_domNodeMouseDown:function(a){var b=new f.MouseEvent(a);if(b.target!==this.domNode)return;this.onMouseDown(a)},onMouseDown:function(a){var b=new f.MouseEvent(a),c=e.getDomNodePosition(this.domNode),d=this._mouseDownRelativePosition(b,c)-(this.hasArrows?this.options.arrowSize:0)-this.sliderSize/2;this.setDesiredScrollPosition(d/this.ratio),this._sliderMouseDown(a)},_unHookGlobalMouse:function(){this._hookUnbind.forEach(function(a){a()}),this._hookUnbind=[]},_hookGlobalMouse:function(){if(this._hookUnbind.length>0)return;this._hookUnbind.push(e.addThrottledListener(document,"mousemove",this._docMouseMove.bind(this),function(b,c){var d=new f.MouseEvent(c);return d.preventDefault(),{leftButton:d.leftButton,posx:d.posx,posy:d.posy}})),this._hookUnbind.push(e.addListener(document,"mouseup",this._sliderDragFinish.bind(this))),d.isInIframe()&&(this._hookUnbind.push(e.addListener(document,"mouseout",function(a){var b=new f.MouseEvent(a);b.target.tagName.toLowerCase()==="html"&&this._sliderDragFinish()}.bind(this))),this._hookUnbind.push(e.addListener(document,"mouseover",function(a){var b=new f.MouseEvent(a);b.target.tagName.toLowerCase()==="html"&&this._sliderDragFinish()}.bind(this))),this._hookUnbind.push(e.addListener(document.body,"mouseleave",function(a){this._sliderDragFinish()}.bind(this))))},_sliderMouseDown:function(a){var b=new f.MouseEvent(a);b.leftButton&&(this.isDragging=!0,this.draggingDelta=this._sliderMousePosition(b)-this.sliderPosition,e.toggleClass(this.slider,"active",!0),this._hookGlobalMouse(),b.preventDefault(),this.parent.onDragStart())},_docMouseMove:function(a){var b=this._sliderMousePosition(a)-this.draggingDelta;this.setDesiredScrollPosition(b/this.ratio)},_sliderDragFinish:function(){this._unHookGlobalMouse(),this.isDragging=!1,e.toggleClass(this.slider,"active",!1),this.parent.onDragEnd()},validateScrollPosition:function(a){return a=Math.round(a),a=Math.max(a,0),a=Math.min(a,this.scrollSize-this.visibleSize),a},setDesiredScrollPosition:function(a){a=this.validateScrollPosition(a),this._setScrollPosition(a),this.onElementScrollPosition(a),this._renderSlider()},_renderDomNode:function(){},_getDomNodeRevealClassName:function(){return"visible scrollbar"},_getDomNodeHideClassName:function(){return"invisible scrollbar"},_updateSlider:function(a,b){},_mouseDownRelativePosition:function(a){},_sliderMousePosition:function(a){},_setScrollPosition:function(a){},_getScrollbarSize:function(){},_getOppositeScrollbarSize:function(){}});return{AbstractScrollbar:j}}),define("vs/base/ui/scrollbar/horizontalScrollbar",["vs/base/lib/winjs.base","./abstractScrollbar","vs/base/dom/mouseEvent"],function(a,b,c){function e(a){return a+"px"}var d=b.AbstractScrollbar,f=a.Class.derive(d,function(b,c,e){d.call(this,b,c,e,e.horizontal,e.horizontalHasArrows),this._createDomNode();if(this.options.horizontalHasArrows){var f=(this.options.arrowSize-this.ARROW_IMG_SIZE)/2,g=(this._getScrollbarSize()-this.ARROW_IMG_SIZE)/2;this.leftArrow=this._createArrow("left-arrow",g,f,null,null,this._createMouseWheelEvent.bind(this,1)),this.rightArrow=this._createArrow("right-arrow",g,null,null,f,this._createMouseWheelEvent.bind(this,-1))}this._createSlider(null,this._getScrollbarSize()),this.visibility==="visible"?this.reveal():this.hide()},{_createMouseWheelEvent:function(a){return new c.MouseWheelEvent(null,a,0)},_updateSlider:function(a,b){this.slider.style.width=e(a),this.slider.style.left=e(b)},_renderDomNode:function(){this.domNode.style.width=e(Math.max(0,this.visibleSize-this._getOppositeScrollbarSize())),this.domNode.style.height=e(Math.max(0,this._getScrollbarSize())),this.domNode.style.left="0",this.domNode.style.bottom="0"},_mouseDownRelativePosition:function(a,b){return a.posx-b.left},_sliderMousePosition:function(a){return a.posx},_setScrollPosition:function(a){this.scrollable.setScrollLeft(a)},_getScrollbarSize:function(){return this.options.horizontalScrollbarSize},_getOppositeScrollbarSize:function(){return this.options.verticalScrollbarSize}});return{HorizontalScrollbar:f}}),define("vs/base/ui/scrollbar/verticalScrollbar",["vs/base/lib/winjs.base","./abstractScrollbar","vs/base/dom/mouseEvent"],function(a,b,c){function e(a){return a+"px"}var d=b.AbstractScrollbar,f=a.Class.derive(d,function(b,c,e){d.call(this,b,c,e,e.vertical,e.verticalHasArrows),this._createDomNode();if(this.options.verticalHasArrows){var f=(this.options.arrowSize-this.ARROW_IMG_SIZE)/2,g=(this._getScrollbarSize()-this.ARROW_IMG_SIZE)/2;this.topArrow=this._createArrow("up-arrow",f,g,null,null,this._createMouseWheelEvent.bind(this,1)),this.bottomArrow=this._createArrow("down-arrow",null,g,f,null,this._createMouseWheelEvent.bind(this,-1))}this._createSlider(this._getScrollbarSize(),null),this.visibility==="visible"?this.reveal():this.hide()},{_createMouseWheelEvent:function(a){return new c.MouseWheelEvent(null,0,a)},_updateSlider:function(a,b){this.slider.style.height=e(a),this.slider.style.top=e(b)},_renderDomNode:function(){this.domNode.style.width=e(Math.max(0,this._getScrollbarSize())),this.domNode.style.height=e(Math.max(0,this.visibleSize-this._getOppositeScrollbarSize())),this.domNode.style.right="0",this.domNode.style.top="0"},_mouseDownRelativePosition:function(a,b){return a.posy-b.top},_sliderMousePosition:function(a){return a.posy},_setScrollPosition:function(a){this.scrollable.setScrollTop(a)},_getScrollbarSize:function(){return this.options.verticalScrollbarSize},_getOppositeScrollbarSize:function(){return this.options.horizontalScrollbarSize}});return{VerticalScrollbar:f}}),define("vs/base/ui/scrollbar/scrollable",["vs/base/lib/winjs.base","vs/base/eventEmitter"],function(a,b){var c=b.EventEmitter,d=a.Class.derive(c,function(){c.call(this)},{getScrollHeight:function(){},getScrollWidth:function(){},getScrollLeft:function(){},setScrollLeft:function(a){},getScrollTop:function(){},setScrollTop:function(a){}});return{Scrollable:d}}),define("vs/base/ui/scrollbar/domNodeScrollable",["vs/base/lib/winjs.base","vs/base/dom/dom","./scrollable","vs/base/eventEmitter"],function(a,b,c,d){var e=b,f=c.Scrollable,g=d.EventEmitter,h=a.Class.derive(f,function(b){f.call(this),this.domNode=b},{getScrollHeight:function(){return this.domNode.scrollHeight},getScrollWidth:function(){return this.domNode.scrollWidth},getScrollLeft:function(){return this.domNode.scrollLeft},setScrollLeft:function(a){this.domNode.scrollLeft=a},getScrollTop:function(){return this.domNode.scrollTop},setScrollTop:function(a){this.domNode.scrollTop=a},addListener:function(a,b){var c=g.prototype.addListener.call(this,a,b),d=e.addListener(this.domNode,a,function(b){this.emit(a,{browserEvent:b})}.bind(this));return function(){d(),c()}}});return{DomNodeScrollable:h}}),define("vs/editor/core/view/layout/linesLayout",["require","exports"],function(a,b){var c=function(){function a(a){this.configuration=a,this.lastWhitespaceId=0,this.whitespace=[],this.whitespaceMap={},this.whitespaceIsDirty=!1,this.whitespaceNeedsSorting=!1}return a.VIRTUAL_LINES_AROUND=0,a.prototype.addWhitespace=function(a,b){var c={id:++this.lastWhitespaceId,height:b,afterLineNumber:a,computedAccumulatedHeight:0,computedAbsoluteTop:0};return this.whitespace.push(c),this.whitespaceMap[c.id.toString()]=c,this.whitespaceIsDirty=!0,this.whitespaceNeedsSorting=!0,c.id},a.prototype.changeWhitespace=function(a,b){if(this.whitespaceMap.hasOwnProperty(a.toString())){var c=this.whitespaceMap[a.toString()],d=c.height;return d!==b&&(c.height=b,this.whitespaceIsDirty=!0),!0}return!1},a.prototype.removeWhitespace=function(a){this.whitespaceMap.hasOwnProperty(a.toString())&&delete this.whitespaceMap[a.toString()];for(var b=0,c=this.whitespace.length;b<c;b++)if(this.whitespace[b].id===a)return this.whitespace.splice(b,1),this.whitespaceIsDirty=!0,!0;return!1},a.prototype.getWhitespaceData=function(a){return this.whitespaceMap[a.toString()]||null},a.prototype.onConfigurationLineHeightChanged=function(){this.whitespaceIsDirty=!0},a.prototype.onModelLinesDeleted=function(a){var b;for(var c=0,d=this.whitespace.length;c<d;c++)b=this.whitespace[c],a.fromLineNumber<=b.afterLineNumber&&b.afterLineNumber<=a.toLineNumber?b.afterLineNumber=a.fromLineNumber-1:b.afterLineNumber>a.toLineNumber&&(b.afterLineNumber-=a.toLineNumber-a.fromLineNumber+1);this.whitespaceIsDirty=!0,this.whitespaceNeedsSorting=!0},a.prototype.onModelLinesInserted=function(a){var b;for(var c=0,d=this.whitespace.length;c<d;c++)b=this.whitespace[c],a.fromLineNumber<=b.afterLineNumber&&(b.afterLineNumber+=a.toLineNumber-a.fromLineNumber+1);this.whitespaceIsDirty=!0,this.whitespaceNeedsSorting=!0},a.prototype.ensureComputedValues=function(){this.whitespaceNeedsSorting&&(this.whitespaceNeedsSorting=!1,this.whitespace.sort(function(a,b){return a.afterLineNumber-b.afterLineNumber}));if(this.whitespaceIsDirty){this.whitespaceIsDirty=!1;var a=0,b;for(var c=0,d=this.whitespace.length;c<d;c++)b=this.whitespace[c],b.computedAbsoluteTop=a+b.afterLineNumber*this.configuration.editor.lineHeight,a+=b.height,b.computedAccumulatedHeight=a}},a.prototype.getVerticalOffsetForLineNumber=function(a){this.ensureComputedValues();var b=0;while(b<this.whitespace.length&&a>this.whitespace[b].afterLineNumber)b++;b--;var c=(a-1)*this.configuration.editor.lineHeight;return b>=0?c+this.whitespace[b].computedAccumulatedHeight:c},a.prototype.getWhitespaceTotalHeight=function(){return this.ensureComputedValues(),this.whitespace.length>0?this.whitespace[this.whitespace.length-1].computedAccumulatedHeight:0},a.prototype.getWhitespaceAtVerticalOffset=function(a){this.ensureComputedValues();var b=0;while(b<this.whitespace.length&&a>this.whitespace[b].computedAbsoluteTop)b++;b--;if(b>=0){var c=this.whitespace[b],d=c.computedAbsoluteTop,e=d+c.height;if(d<=a&&a<=e)return c}return null},a.prototype.getLineNumberAtVerticalOffset=function(a){this.ensureComputedValues();var b=0;while(b<this.whitespace.length&&a>this.whitespace[b].computedAbsoluteTop)b++;return b--,b>=0&&(a-=Math.min(a-this.whitespace[b].computedAbsoluteTop,this.whitespace[b].height),b-1>=0&&(a-=this.whitespace[b-1].computedAccumulatedHeight)),Math.floor(a/this.configuration.editor.lineHeight)+1},a.prototype.getLinesInViewport=function(b){var c=this.getLineNumberAtVerticalOffset(b.top)-a.VIRTUAL_LINES_AROUND,d=this.getLineNumberAtVerticalOffset(b.top+b.height)+a.VIRTUAL_LINES_AROUND;return{startLineNumber:c,endLineNumber:d}},a}();b.LinesLayout=c}),define("vs/editor/core/view/layout/partsLayout",["require","exports","vs/editor/core/view/layout/linesLayout"],function(a,b,c){var d=c,e=function(){function a(a,b,c){this.configuration=a,this.model=b,this.scrollManager=c,this.linesLayout=new d.LinesLayout(a)}return a.prototype.onConfigurationLineHeightChanged=function(){this.linesLayout.onConfigurationLineHeightChanged()},a.prototype.onModelLinesDeleted=function(a){this.linesLayout.onModelLinesDeleted(a)},a.prototype.onModelLinesInserted=function(a){this.linesLayout.onModelLinesInserted(a)},a.prototype.addWhitespace=function(a,b){return this.linesLayout.addWhitespace(a,b)},a.prototype.changeWhitespace=function(a,b){return this.linesLayout.changeWhitespace(a,b)},a.prototype.removeWhitespace=function(a){return this.linesLayout.removeWhitespace(a)},a.prototype.getWhitespaceData=function(a){return this.linesLayout.getWhitespaceData(a)},a.prototype.getVerticalOffsetForLineNumber=function(a){return this.linesLayout.getVerticalOffsetForLineNumber(a)},a.prototype.getLinesTotalHeight=function(){var a=this.linesLayout.getWhitespaceTotalHeight();return a+this.model.getLineCount()*this.configuration.editor.lineHeight},a.prototype.getTotalHeight=function(a){var b=this.getLinesTotalHeight();return this.configuration.editor.scrollBeyondLastLine&&(b+=a.height-this.configuration.editor.lineHeight),Math.max(a.height,b)},a.prototype.getWhitespaceAtVerticalOffset=function(a){return this.linesLayout.getWhitespaceAtVerticalOffset(a)},a.prototype.getLineNumberAtVerticalOffset=function(a){var b=this.linesLayout.getLineNumberAtVerticalOffset(a);return Math.min(b,this.model.getLineCount())},a.prototype.getLinesInViewport=function(a){var b=this.linesLayout.getLinesInViewport(a);return b.startLineNumber=Math.max(b.startLineNumber,1),b.endLineNumber=Math.min(b.endLineNumber,this.model.getLineCount()),b},a.prototype.layoutBoxInViewport=function(a,b,c,d,e){var f=this.getVerticalOffsetForLineNumber(b),g=f-a.top,h=f+this.configuration.editor.lineHeight,i=a.top+a.height-h,j=f-e,k=g>=e,l=h,m=i>=e,n=c;return n+d>a.left+a.width&&(n=a.left+a.width-d),n<a.left&&(n=a.left),{aboveTop:j,fitsAbove:k,belowTop:l,fitsBelow:m,left:n}},a.prototype.computeScrollTopToRevealRange=function(a,b,c){var d=a.top,e=a.height,f=d+e,g=this.getVerticalOffsetForLineNumber(b.startLineNumber),h=this.getVerticalOffsetForLineNumber(b.endLineNumber)+2*this.configuration.editor.lineHeight;if(c){var i=(g+h)/2;return Math.max(0,i-e/2)}return this.computeMinimumScrolling(d,f,g,h)},a.prototype.computeMinimumScrolling=function(a,b,c,d){var e=b-a,f=d-c;if(f<e){if(c<a)return c;if(d>b)return Math.max(0,d-e)}else{if(d<b)return Math.max(0,d-e);if(c>a)return c}return a},a}();b.PartsLayout=e}),define("vs/editor/core/view/layout/containerObserver",["require","exports","vs/base/eventEmitter"],function(a,b,c){var d=c,e=function(){function a(a,b){this.referenceDomElement=a,this.changeCallback=b,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement()}return a.prototype.dispose=function(){this.stopObserving()},a.prototype.startObserving=function(){var a=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=window.setInterval(function(){return a.measureReferenceDomElement()},100))},a.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(window.clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},a.prototype.observe=function(){this.measureReferenceDomElement()},a.prototype.measureReferenceDomElement=function(){var a=Math.max(5,this.referenceDomElement.clientWidth),b=Math.max(5,this.referenceDomElement.clientHeight);if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.changeCallback(this.width,this.height)},a.prototype.getReferenceElementWidth=function(){return},a}();b.ContainerObserver=e}),define("vs/editor/core/view/layout/editorLayoutProvider",["require","exports"],function(a,b){var c=function(){function a(a,b,c,d,e,f,g){this.scrollbarWidth=10,this.scrollbarHeight=10,this.outerWidth=a,this.outerHeight=b,this.lineHeight=c,this.showGlyphMargin=d,this.glyphMarginWidth=this.computeGlyphMarginWidth(),this.showLineNumbers=e,this.lineNumbersMinChars=f,this.lineCount=0,this.maxDigitWidth=g,this.lineNumbersWidth=this.computeLineNumbersWidth(),this.layoutInfo=this.layout()}return a.DECORATIONS_WIDTH=10,a.prototype.setDimensions=function(a,b){return this.outerWidth!==a||this.outerHeight!==b?(this.outerWidth=a,this.outerHeight=b,this.layoutInfo=this.layout(),!0):!1},a.prototype.setScrollbarSize=function(a,b){return this.scrollbarWidth!==a||this.scrollbarHeight!==b?(this.scrollbarWidth=a,this.scrollbarHeight=b,this.layoutInfo=this.layout(),!0):!1},a.prototype.setGlyphMargin=function(a){return this.showGlyphMargin=a,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},a.prototype.setLineHeight=function(a){return this.lineHeight=a,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},a.prototype.computeGlyphMarginWidth=function(){return this.showGlyphMargin?this.lineHeight:0},a.prototype.setGlyphMarginWidth=function(a){return this.glyphMarginWidth!==a?(this.glyphMarginWidth=a,this.layoutInfo=this.layout(),!0):!1},a.prototype.setShowLineNumbers=function(a){return this.showLineNumbers=a,this.setLineNumbersWidth(this.computeLineNumbersWidth())},a.prototype.setLineNumbersMinChars=function(a){return this.lineNumbersMinChars=a,this.setLineNumbersWidth(this.computeLineNumbersWidth())},a.prototype.setLineCount=function(a){return this.lineCount=a,this.setLineNumbersWidth(this.computeLineNumbersWidth())},a.prototype.setMaxDigitWidth=function(a){return this.maxDigitWidth=a,this.setLineNumbersWidth(this.computeLineNumbersWidth())},a.prototype.setLineNumbersWidth=function(a){return this.lineNumbersWidth!==a?(this.lineNumbersWidth=a,this.layoutInfo=this.layout(),!0):!1},a.prototype.getLayoutInfo=function(){return this.layoutInfo},a.prototype.layout=function(){var b=this.outerWidth,c=this.outerHeight,d=this.lineNumbersWidth,e=this.glyphMarginWidth,f=c,g=c,h=a.DECORATIONS_WIDTH,i=c,j=b-e-d-h,k=c,l=this.scrollbarWidth,m=this.scrollbarHeight,n=0,o=n+e,p=o+d,q=p+h;return{width:b,height:c,glyphMarginLeft:n,glyphMarginWidth:e,glyphMarginHeight:g,lineNumbersLeft:o,lineNumbersWidth:d,lineNumbersHeight:f,decorationsLeft:p,decorationsWidth:h,decorationsHeight:i,contentLeft:q,contentWidth:j,contentHeight:k,verticalScrollbarWidth:l,horizontalScrollbarHeight:m}},a.prototype.digitCount=function(a){var b=0;while(a)a=Math.floor(a/10),b++;return b?b:1},a.prototype.computeLineNumbersWidth=function(){if(this.showLineNumbers){var a=Math.max(this.digitCount(this.lineCount),this.lineNumbersMinChars);return a*this.maxDigitWidth}return 0},a}();b.EditorLayoutProvider=c}),define("vs/editor/core/view/viewEventHandler",["require","exports","vs/editor/core/constants"],function(a,b,c){var d=c,e=function(){function a(){this.shouldRender=!0}return a.prototype.onModelFlushed=function(){return!1},a.prototype.onModelDecorationsChanged=function(a){return!1},a.prototype.onModelLinesDeleted=function(a){return!1},a.prototype.onModelLineChanged=function(a){return!1},a.prototype.onModelLinesInserted=function(a){return!1},a.prototype.onCursorPositionChanged=function(a){return!1},a.prototype.onCursorSelectionChanged=function(a){return!1},a.prototype.onCursorRevealRange=function(a){return!1},a.prototype.onConfigurationChanged=function(){return!1},a.prototype.onConfigurationFontChanged=function(){return!1},a.prototype.onConfigurationLineHeightChanged=function(){return!1},a.prototype.onLayoutChanged=function(a){return!1},a.prototype.onVerticalScrollChanged=function(){return!1},a.prototype.onZonesChanged=function(){return!1},a.prototype.handleEvents=function(a){var b,c,e,f,g;for(b=0,c=a.length;b<c;b++){e=a[b],f=e.getData();switch(e.getType()){case d.EventType.ModelContentChanged:g=f;switch(g.changeType){case d.EventType.ModelContentChangedFlush:this.shouldRender=this.onModelFlushed()||this.shouldRender;break;case d.EventType.ModelContentChangedLinesDeleted:this.shouldRender=this.onModelLinesDeleted(g)||this.shouldRender;break;case d.EventType.ModelContentChangedLinesInserted:this.shouldRender=this.onModelLinesInserted(g)||this.shouldRender;break;case d.EventType.ModelContentChangedLineChanged:this.shouldRender=this.onModelLineChanged(g)||this.shouldRender;break;default:console.info("View received unkown event: "),console.info(e)}break;case d.EventType.ModelPropertiesChanged:break;case d.EventType.ModelOnBeforeViewAttached:break;case d.EventType.ModelDecorationsChanged:this.shouldRender=this.onModelDecorationsChanged(f)||this.shouldRender;break;case d.EventType.CursorPositionChanged:this.shouldRender=this.onCursorPositionChanged(f)||this.shouldRender;break;case d.EventType.CursorSelectionChanged:this.shouldRender=this.onCursorSelectionChanged(f)||this.shouldRender;break;case d.EventType.CursorRevealRange:this.shouldRender=this.onCursorRevealRange(f)||this.shouldRender;break;case d.EventType.ConfigurationChanged:this.shouldRender=this.onConfigurationChanged()||this.shouldRender;break;case d.EventType.ConfigurationLineHeightChanged:this.shouldRender=this.onConfigurationLineHeightChanged()||this.shouldRender;break;case d.EventType.ConfigurationFontChanged:this.shouldRender=this.onConfigurationFontChanged()||this.shouldRender;break;case d.EventType.ViewLayoutChanged:this.shouldRender=this.onLayoutChanged(f)||this.shouldRender;break;case d.EventType.ViewVerticalScrollChanged:this.shouldRender=this.onVerticalScrollChanged()||this.shouldRender;break;case d.EventType.ViewZonesChanged:this.shouldRender=this.onZonesChanged()||this.shouldRender;break;default:console.info("View received unkown event: "),console.info(e)}}},a}();b.ViewEventHandler=e});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/viewZones",["require","exports","vs/base/types","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b){a.call(this),this.context=b,this.domNode=document.createElement("div"),this.domNode.className="view-zones",this.domNode.style.position="absolute",this.domNode.style.width="1000000px",this.domNode.style.height="1000000px",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.zones={}}return __extends(b,a),b.prototype.destroy=function(){this.zones={}},b.prototype.onConfigurationLineHeightChanged=function(){var a,b,c;for(a in this.zones)this.zones.hasOwnProperty(a)&&(b=this.zones[a],c=this.heightInLinesToPixels(b.delegate.heightInLines),f.isFunction(b.delegate.onComputedHeight)&&b.delegate.onComputedHeight(c),b.delegate.domNode.style.height=c+"px",this.context.layoutProvider.changeWhitespace(parseInt(a,10),c));return!0},b.prototype.onLayoutChanged=function(a){return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelLinesDeleted=function(a){return!0},b.prototype.onModelLinesInserted=function(a){return!0},b.prototype.addZone=function(a){var b=this.heightInLinesToPixels(a.heightInLines),c=this.context.layoutProvider.addWhitespace(a.afterLineNumber,b),d={whitespaceId:c,delegate:a,isRendered:!1};return f.isFunction(d.delegate.onComputedHeight)&&d.delegate.onComputedHeight(b),d.delegate.domNode.style.position="absolute",d.delegate.domNode.style.height=b+"px",this.zones[d.whitespaceId.toString()]=d,d.whitespaceId},b.prototype.removeZone=function(a){if(this.zones.hasOwnProperty(a.toString())){var b=this.zones[a.toString()];return delete this.zones[a.toString()],b.delegate.domNode.parentNode&&b.delegate.domNode.parentNode.removeChild(b.delegate.domNode),this.context.layoutProvider.removeWhitespace(b.whitespaceId),!0}return!1},b.prototype.heightInLinesToPixels=function(a){return this.context.configuration.editor.lineHeight*a},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;var a=this.context.layoutProvider.getCurrentViewport(),b=a.top,c=a.top+a.height,d,e,g,h,i,j;for(d in this.zones)this.zones.hasOwnProperty(d)&&(g=this.zones[d],e=this.context.layoutProvider.getWhitespaceData(parseInt(d,10)),h=e.computedAbsoluteTop,i=h+e.height,j=this.context.layoutManager.getLinesContentScrolledTopFromAbsoluteTop(h),f.isFunction(g.delegate.onDomNodeTop)&&g.delegate.onDomNodeTop(this.context.layoutManager.getScrolledTopFromAbsoluteTop(h)),i<b||h>c?g.isRendered&&(g.delegate.domNode.parentNode.removeChild(g.delegate.domNode),g.isRendered=!1):(this.context.layoutManager.setLinesContentDomNodeTop(g.delegate.domNode,h),g.isRendered||(this.domNode.appendChild(g.delegate.domNode),g.isRendered=!0),g.delegate.domNode.style.width="100%"))},b}(h.ViewEventHandler);b.ViewZones=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/lineNumbers",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler"],function(a,b,c,d){var e=c,f=d,g=function(a){function b(b){a.call(this),this.context=b,this.domNode=document.createElement("div"),this.domNode.className="line-numbers",this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.lineNumbersWidth=0}return __extends(b,a),b.prototype.destroy=function(){},b.prototype.onConfigurationLineHeightChanged=function(){return!0},b.prototype.onLayoutChanged=function(a){this.lineNumbersWidth=a.lineNumbersWidth,this.domNode.style.left=a.lineNumbersLeft+"px",this.domNode.style.height=a.height+"px",this.domNode.style.width=a.lineNumbersWidth+"px";for(var b=0;b<this.domNode.children.length;b++)this.domNode.children[b].style.width=a.lineNumbersWidth+"px";return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return!0},b.prototype.onModelLinesDeleted=function(a){return!0},b.prototype.onModelLinesInserted=function(a){return!0},b.prototype.onConfigurationChanged=function(){return!0},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;if(this.context.configuration.editor.lineNumbers){var a=this.context.layoutProvider.getLinesInViewport(),b=function(a){return a};typeof this.context.configuration.editor.lineNumbers=="function"&&(b=this.context.configuration.editor.lineNumbers);var c="",d;for(var e=a.startLineNumber;e<=a.endLineNumber;e++)d="position:absolute;",d+="width:"+this.lineNumbersWidth+"px;",d+="top:"+this.context.layoutManager.getScrolledTopFromAbsoluteTop(this.context.layoutProvider.getVerticalOffsetForLineNumber(e))+"px;",c+='<div style="'+d+'" role="presentation">'+b(e)+"</div>";this.domNode.innerHTML=c}},b}(f.ViewEventHandler);b.LineNumbers=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/glyphMargin",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler"],function(a,b,c,d){var e=c,f=d,g=function(a){function b(b){a.call(this),this.context=b,this.domNode=document.createElement("div"),this.domNode.className="glyph-margin",this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.glyphMarginWidth=0}return __extends(b,a),b.prototype.destroy=function(){},b.prototype.onConfigurationLineHeightChanged=function(){return!0},b.prototype.onLayoutChanged=function(a){this.glyphMarginWidth=a.glyphMarginWidth,this.domNode.style.left=a.glyphMarginLeft+"px",this.domNode.style.height=a.height+"px",this.domNode.style.width=a.glyphMarginWidth+"px";for(var b=0;b<this.domNode.children.length;b++)this.domNode.children[b].style.width=a.glyphMarginWidth+"px";return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return!0},b.prototype.onModelDecorationsChanged=function(a){return!0},b.prototype.onModelLinesDeleted=function(a){return!0},b.prototype.onModelLinesInserted=function(a){return!0},b.prototype.onConfigurationChanged=function(){return!0},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;if(this.context.configuration.editor.glyphMargin){var a=this.context.layoutProvider.getLinesInViewport(),b=a.startLineNumber,c=a.endLineNumber,d,e,f=[],g,h,i,j,k;for(g=c-b;g>=0;g--)f[g]="";d=this.context.model.getLinesDecorations(b,c,this.context.editorId,this.context.configuration.editor.readOnly);for(g=0,h=d.length;g<h;g++){e=d[g];if(e.options.glyphMarginClassName){i=Math.max(e.range.startLineNumber,b),j=Math.min(e.range.endLineNumber,c);for(k=i;k<=j;k++)f[k-b]+=" "+e.options.glyphMarginClassName}}var l=this.context.configuration.editor.lineHeight,m,n="";for(g=c-b;g>=0;g--)m=f[g],m&&(n+='<div style="position:absolute;width:'+this.glyphMarginWidth+"px;",n+="top:"+this.context.layoutManager.getScrolledTopFromAbsoluteTop(this.context.layoutProvider.getVerticalOffsetForLineNumber(g+b))+"px;",n+="height:"+l+'px;" class="'+m+'" role="presentation"></div>');this.domNode.innerHTML=n}},b}(f.ViewEventHandler);b.GlyphMargin=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layers/viewLayer",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewEventHandler"],function(a,b,c,d){var e=c,f=d,g=!1,h=function(a){function b(b,c){typeof c=="undefined"&&(c=!0);var d=this;a.call(this),this._useOneUpdateRenderer=c,this._context=b,this.domNode=this._createDomNode(),this._guardElement=this._createGuard(),this.domNode.appendChild(this._guardElement),this._lines=[],this._rendLineNumberStart=1,this._manyUpdatesCounter=new k,this._manyUpdatesRenderer=new j(function(a){return d._createLine(a)},function(a,b,c){return d._getLineInnerHTML(a,b,c)},function(a,b){return d._layoutLine(a,b)}),this._oneUpdateRenderer=new l(function(a){return d._createLine(a)},function(a,b,c){return d._getLineOuterHTML(a,b,c)})}return __extends(b,a),b.prototype.destroy=function(){},b.prototype.onConfigurationLineHeightChanged=function(){for(var a=0,b=this._lines.length;a<b;a++){var c=this._rendLineNumberStart+a,d=this._lines[a].domNode;d.style.height=this._context.configuration.editor.lineHeight+"px"}return!0},b.prototype.onLayoutChanged=function(a){return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return this._lines=[],this._rendLineNumberStart=1,e.clearNode(this.domNode),this.domNode.appendChild(this._guardElement),!0},b.prototype.onModelLinesDeleted=function(a){var b=Math.max(a.fromLineNumber-this._rendLineNumberStart,0),c=Math.min(a.toLineNumber-this._rendLineNumberStart,this._lines.length-1),d;a.fromLineNumber<this._rendLineNumberStart&&(a.toLineNumber<this._rendLineNumberStart?this._rendLineNumberStart-=a.toLineNumber-a.fromLineNumber+1:this._rendLineNumberStart=a.fromLineNumber);if(b<=c){for(d=b;d<=c;d++)this.domNode.removeChild(this._lines[d].domNode);this._lines.splice(b,c-b+1)}for(d=b;d<this._lines.length;d++)this._lines[d].isMaybeInvalid=!0;return!0},b.prototype.onModelLineChanged=function(a){var b=a.lineNumber-this._rendLineNumberStart,c=!1;b>=0&&b<this._lines.length&&(this._lines[b].isInvalid=!0,c=!0);for(var d=Math.max(b,0);d<this._lines.length;d++)this._lines[d].isMaybeInvalid=!0,c=!0;return c},b.prototype.onModelLinesInserted=function(a){var b;if(a.fromLineNumber<=this._rendLineNumberStart){this._rendLineNumberStart+=a.toLineNumber-a.fromLineNumber+1;for(b=0;b<this._lines.length;b++)this._lines[b].isMaybeInvalid=!0;return!0}if(a.fromLineNumber>=this._rendLineNumberStart+this._lines.length)return!1;var c=Math.min(a.fromLineNumber-this._rendLineNumberStart,this._lines.length-1),d=Math.min(a.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(c<=d){var e=this._lines[c].domNode;for(b=c;b<=d;b++){var f=this._createLine(!0);this.domNode.insertBefore(f.domNode,e),this._lines.splice(b,0,f)}var g=d-c+1;for(var b=this._lines.length-g;b<this._lines.length;b++)this.domNode.removeChild(this._lines[b].domNode);this._lines.splice(this._lines.length-g,g)}for(b=d;b<this._lines.length;b++)this._lines[b].isMaybeInvalid=!0;return!0},b.prototype.onConfigurationChanged=function(){for(var a=0;a<this._lines.length;a++)this._lines[a].isInvalid=!0;return!0},b.prototype._decideIfLinesAreInvalid=function(){var a,b,c;for(a=0,b=this._lines.length;a<b;a++)c=this._lines[a],c.isInvalid||(c.isMaybeInvalid&&c.lineTokenizationState&&c.lineTokenizationState.equals(this._context.model.getStateBeforeLine(a+this._rendLineNumberStart))&&(c.isMaybeInvalid=!1),c.isInvalid=c.isMaybeInvalid),c.isMaybeInvalid=!1},b.prototype._renderLines=function(a,b,c){var d;b===0&&(b=1),this._decideIfLinesAreInvalid();var e={domNode:this.domNode,guardElement:this._guardElement,rendLineNumberStart:this._rendLineNumberStart,lines:this._lines,linesLength:this._lines.length,renderData:a},f=!1;if(this._useOneUpdateRenderer){var g=this._manyUpdatesCounter.estimateEffort(e,b,c);f=e.linesLength/3<g.setInnerHTML}var h;f?h=this._oneUpdateRenderer.render(e,b,c):h=this._manyUpdatesRenderer.render(e,b,c),this._guardElement=h.guardElement,this._rendLineNumberStart=h.rendLineNumberStart,this._lines=h.lines},b.prototype._createDomNode=function(){var a=document.createElement("div");return a.className="view-layer",a.style.position="absolute",a.style.width="1000000px",a.style.height="1000000px",a.setAttribute("role","presentation"),a.setAttribute("aria-hidden","true"),a},b.prototype._createGuard=function(){return document.createElement("div")},b.prototype._createLine=function(a){var b=null;return a&&(b=document.createElement("div"),b.className="view-layer-line"),{domNode:b,lineTokenizationState:null,isInvalid:!0,isMaybeInvalid:!1,html:null}},b.prototype._getLineInnerHTML=function(a,b,c){return c.isInvalid&&(c.html=this._doGetLineInnerHTML(a,b,c),c.lineTokenizationState=this._context.model.getStateBeforeLine(b),c.isInvalid=!1),c.html},b.prototype._doGetLineInnerHTML=function(a,b,c){return""},b.prototype._getLineOuterHTML=function(a,b,c){var d=this._context.layoutManager.getLinesContentScrolledTopFromAbsoluteTop(this._context.layoutProvider.getVerticalOffsetForLineNumber(b)),e=this._context.configuration.editor.lineHeight;return'<div class="view-layer-line" style="top: '+d+"px;height:"+e+'px">'+this._getLineInnerHTML(a,b,c)+"</div>"},b.prototype._layoutLine=function(a,b){this._context.layoutManager.setLinesContentDomNodeTop(b.domNode,this._context.layoutProvider.getVerticalOffsetForLineNumber(a))},b}(f.ViewEventHandler);b.ViewLayer=h;var i=function(){function a(){}return a.prototype._render=function(a,b,c){var d={domNode:a.domNode,guardElement:a.guardElement,rendLineNumberStart:a.rendLineNumberStart,lines:a.lines.slice(0),linesLength:a.linesLength,renderData:a.renderData};this._renderUntouchedLines(d,Math.max(b-d.rendLineNumberStart,0),Math.min(c-d.rendLineNumberStart,d.linesLength-1));var e,f,g,h;return d.rendLineNumberStart>b?(f=b,g=Math.min(c,d.rendLineNumberStart-1),f<=g&&(this._insertLinesBefore(d,f,g),d.linesLength+=g-f+1)):d.rendLineNumberStart<b&&(h=Math.min(d.linesLength,b-d.rendLineNumberStart),h>0&&(this._removeLinesBefore(d,h),d.linesLength-=h)),d.rendLineNumberStart=b,d.rendLineNumberStart+d.linesLength-1<c?(f=d.rendLineNumberStart+d.linesLength,g=c,f<=g&&(this._insertLinesAfter(d,f,g),d.linesLength+=g-f+1)):d.rendLineNumberStart+d.linesLength-1>c&&(f=Math.max(0,c-d.rendLineNumberStart+1),g=d.linesLength-1,h=g-f+1,h>0&&(this._removeLinesAfter(d,h),d.linesLength-=h)),this._finishRendering(d),d},a.prototype._renderUntouchedLines=function(a,b,c){},a.prototype._insertLinesBefore=function(a,b,c){},a.prototype._removeLinesBefore=function(a,b){},a.prototype._insertLinesAfter=function(a,b,c){},a.prototype._removeLinesAfter=function(a,b){},a.prototype._finishRendering=function(a){},a}(),j=function(a){function b(b,c,d){a.call(this),this._createLine=b,this._getLineInnerHTML=c,this._layoutLine=d}return __extends(b,a),b.prototype.render=function(a,b,c){return this._render(a,b,c)},b.prototype._renderUntouchedLines=function(a,b,c){var d;for(d=b;d<=c;d++)this._layoutLine(a.rendLineNumberStart+d,a.lines[d])},b.prototype._insertLinesBefore=function(a,b,c){var d=a.linesLength>0?a.lines[0].domNode:a.guardElement,e=[],f,g;for(g=b;g<=c;g++)f=this._createLine(!0),e.push(f),this._layoutLine(g,f),a.domNode.insertBefore(f.domNode,d);a.lines=e.concat(a.lines)},b.prototype._removeLinesBefore=function(a,b){var c;for(c=0;c<b;c++)a.domNode.removeChild(a.lines[c].domNode);a.lines.splice(0,b)},b.prototype._insertLinesAfter=function(a,b,c){var d=a.guardElement,e=[],f,g;for(g=b;g<=c;g++)f=this._createLine(!0),e.push(f),this._layoutLine(g,f),a.domNode.insertBefore(f.domNode,d);a.lines=a.lines.concat(e)},b.prototype._removeLinesAfter=function(a,b){var c,d=a.linesLength-b;for(c=0;c<b;c++)a.domNode.removeChild(a.lines[d+c].domNode);a.lines.splice(d,b)},b.prototype._finishRendering=function(a){var b,c;if(g){var d=[],e="";for(b=0;b<a.linesLength;b++)c=a.lines[b],c.isInvalid&&(e+="<div>"+this._getLineInnerHTML(a.renderData,b+a.rendLineNumberStart,c)+"</div>",d[b]=!0);var f=document.createElement("div");f.innerHTML=e;var h=0;for(b=0;b<a.linesLength;b++){c=a.lines[b];if(d[b]){while(c.domNode.firstChild)c.domNode.removeChild(c.domNode.firstChild);var i=f.children[h];while(i.lastChild)c.domNode.insertBefore(i.lastChild,c.domNode.firstChild);h++}}}else for(b=0;b<a.linesLength;b++)c=a.lines[b],c.isInvalid&&(c.domNode.innerHTML=this._getLineInnerHTML(a.renderData,b+a.rendLineNumberStart,c)+"</div>")},b}(i),k=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.estimateEffort=function(a,b,c){return this.insertCount=0,this.removeCount=0,this.setInnerHTMLCount=0,this._render(a,b,c),{domInsert:this.insertCount,domRemove:this.removeCount,setInnerHTML:this.setInnerHTMLCount}},b.prototype._renderUntouchedLines=function(a,b,c){var d;for(d=b;d<=c;d++)a.lines[d].isInvalid&&this.setInnerHTMLCount++},b.prototype._insertLinesBefore=function(a,b,c){this.insertCount+=c-b+1,this.setInnerHTMLCount+=c-b+1},b.prototype._removeLinesBefore=function(a,b){this.removeCount+=b},b.prototype._insertLinesAfter=function(a,b,c){this.insertCount+=c-b+1,this.setInnerHTMLCount+=c-b+1},b.prototype._removeLinesAfter=function(a,b){this.removeCount+=b},b.prototype._finishRendering=function(a){},b}(i),l=function(a){function b(b,c){a.call(this),this._createLine=b,this._getLineOuterHTML=c}return __extends(b,a),b.prototype.render=function(a,b,c){return this._render(a,b,c)},b.prototype._insertLinesBefore=function(a,b,c){var d=[],e,f;for(f=b;f<=c;f++)e=this._createLine(!1),d.push(e);a.lines=d.concat(a.lines)},b.prototype._removeLinesBefore=function(a,b){a.lines.splice(0,b)},b.prototype._insertLinesAfter=function(a,b,c){var d=[],e,f;for(f=b;f<=c;f++)e=this._createLine(!1),d.push(e);a.lines=a.lines.concat(d)},b.prototype._removeLinesAfter=function(a,b){var c=a.linesLength-b;a.lines.splice(c,b)},b.prototype._finishRendering=function(a){var b,c="";for(b=0;b<a.linesLength;b++)c+=this._getLineOuterHTML(a.renderData,b+a.rendLineNumberStart,a.lines[b]);c+="<div></div>",a.domNode.innerHTML=c;var d=a.domNode.children;for(b=0;b<a.linesLength;b++)a.lines[b].domNode=d[b],a.lines[b].isInvalid=!1;a.guardElement=d[a.linesLength]},b}(i)}),define("vs/editor/core/view/layers/viewLine",["require","exports","vs/editor/core/constants","vs/editor/core/view/layers/viewLayer"],function(a,b,c,d){var e=c,f=d,g=" ".charCodeAt(0),h="	".charCodeAt(0),i="<".charCodeAt(0),j=">".charCodeAt(0),k="&".charCodeAt(0),l=function(){function a(){}return a.getWidth=function(b){if(b.domNode.children.length===0)return 0;if(document.createRange){var c=document.createRange();c.setStart(b.domNode.firstChild.firstChild,0),c.setEnd(b.domNode.lastChild.firstChild,b.charOffsetInToken[b.charOffsetInToken.length-1]);var d=c.getBoundingClientRect().width;return c.detach(),window.screen&&window.screen.deviceXDPI&&(d=Math.round(d*screen.logicalXDPI/screen.deviceXDPI)),d}var e=document.body.createTextRange();e.moveToElementText(b.domNode.firstChild),e.moveStart("character",0),e.collapse(!0);var f=document.body.createTextRange();f.moveToElementText(b.domNode.lastChild),f.moveStart("character",b.charOffsetInToken[b.charOffsetInToken.length-1]),f.collapse(!0);var g=e.duplicate();return g.setEndPoint("StartToStart",e),g.setEndPoint("EndToStart",f),g.boundingWidth},a.getColumnOfNodeOffset=function(b,c,d,e,f){var g=e.childNodes[0].data.length,h=-1;while(e)e=e.previousSibling,h++;var i=b.model.getLineTokens(d),j=i[h].startIndex;if(f===0)return i[h].startIndex+f+1;var k=b.model.getLineContent(d),l=(h+1<i.length?i[h+1].startIndex:k.length)-1,m,n,o;for(var p=j;p<=l;p++){m=c.charOffsetInToken[p],n=p===l?g:c.charOffsetInToken[p+1],o=(n+m)/2;if(f<o)break}return p+1},a.getVisibleRangesForRange=function(c,d,f,g,h){if(!document.createRange)return null;g>e.STOP_LINE_RENDERING_AFTER&&(g=e.STOP_LINE_RENDERING_AFTER),h>e.STOP_LINE_RENDERING_AFTER&&(h=e.STOP_LINE_RENDERING_AFTER);var i=c.model.getLineTokens(f),j=a.findIndexInArray(i,g-1),k=d.charOffsetInToken[g-1],l=a.findIndexInArray(i,h-1),m=d.charOffsetInToken[h-1],n=d.domNode.children.length;j>=n&&(j=n-1),l>=n&&(l=n-1);var o=document.createRange();o.setStart(d.domNode.children[j].firstChild,k),o.setEnd(d.domNode.children[l].firstChild,m);var p=o.getClientRects();o.detach();var q=[],r=document.body.scrollLeft+document.documentElement.scrollLeft;for(var s=0;s<p.length;s++){var t=p[s].left,u=p[s].width;window.screen&&window.screen.deviceXDPI&&(t=Math.round(t*screen.logicalXDPI/screen.deviceXDPI),u=Math.round(u*screen.logicalXDPI/screen.deviceXDPI)),q.push({offsetLeft:t+r,offsetRight:t+r+u})}return q},a.getLeftAtPosition=function(c,d,f,g){g>e.STOP_LINE_RENDERING_AFTER&&(g=e.STOP_LINE_RENDERING_AFTER);var h=c.model.getLineTokens(f),i=a.findIndexInArray(h,g-1),j=d.domNode.children.length;i>=j&&(i=j-1);var k=d.charOffsetInToken[g-1],l=document.body.scrollLeft+document.documentElement.scrollLeft,m;if(document.createRange){var n=document.createRange();n.setStart(d.domNode.children[i].firstChild,k),n.setEnd(d.domNode.children[i].firstChild,k);var o=n.getClientRects();o.length>0&&(m=o[0].left,window.screen&&window.screen.deviceXDPI&&(m=Math.round(m*screen.logicalXDPI/screen.deviceXDPI))),n.detach()}else{var p=document.body.createTextRange();p.moveToElementText(d.domNode.firstChild),p.moveStart("character",0),p.collapse(!0);var q=document.body.createTextRange();q.moveToElementText(d.domNode.children[i]),q.moveStart("character",k),q.collapse(!0);var r=p.duplicate();r.setEndPoint("StartToStart",p),r.setEndPoint("EndToStart",q),m=r.boundingLeft+r.boundingWidth}return m+l},a.findIndexInArray=function(b,c){var d=0,e=b.length-1,f;while(d<e)f=d+Math.ceil((e-d)/2),b[f].startIndex>c?e=f-1:d=f;return d},a.createLine=function(b,c){var d=null;return c&&(d=document.createElement("div"),d.className="view-line",d.style.height=b.configuration.editor.lineHeight+"px"),{domNode:d,isInvalid:!0,isMaybeInvalid:!1,lineTokenizationState:null,html:null,charOffsetInToken:[]}},a.renderLine=function(b,c,d,f){var l=b.model.getLineContent(f),m=b.model.getLineTokens(f),n="";d.charOffsetInToken=[];if(l.length>0){var o,p,q,r=-1,s,q=Math.min(l.length,e.STOP_LINE_RENDERING_AFTER-1),t=m.length>r+1?m[r+1].startIndex:q,u=0,v=0;for(p=0;p<q;p++){p===t&&(r++,s=c.lookup(m[r].type),t=m.length>r+1?m[r+1].startIndex:q,p>0&&(n+="</span>"),n+='<span class="'+s.className+'">',v=0),d.charOffsetInToken[p]=v,o=l.charCodeAt(p);if(o===h){var w=b.configuration.editor.tabSize-(p+u)%b.configuration.editor.tabSize;u+=w-1,v+=w-1;while(w>0)n+="&nbsp;",w--}else o===g?n+="&nbsp;":o===i?n+="&lt;":o===j?n+="&gt;":o===k?n+="&amp;":n+=l.charAt(p);v++}d.charOffsetInToken[q]=v,n+="</span>"}else n="&nbsp;";return n},a}();b.StaticViewLine=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layers/viewLines",["require","exports","vs/editor/core/constants","vs/editor/core/view/layers/viewLine","vs/base/dom/dom","vs/editor/core/view/layers/viewLayer","vs/editor/core/view/viewContext"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(a){function b(b,c){a.call(this,b),this.domNode.className="view-lines",this.pointerDomNode=this.domNode,this._syntaxStyleManager=c,this._widths=[-1],this._width=-1,this._updateWidth(),this._updateHeight()}return __extends(b,a),b.SUPPORT_BREAKABLE_SELECTION=!1,b.HORIZONTAL_EXTRA_PX=30,b.prototype._computeWidth=function(){var a=this._context.layoutProvider.getCurrentViewport(),c=a.width,d=this._widths,e,f;for(e=0,f=d.length;e<f;e++)d[e]+b.HORIZONTAL_EXTRA_PX>c&&(c=d[e]+b.HORIZONTAL_EXTRA_PX);return c},b.prototype._changeWidth=function(a){this._width=a,this._context.layoutManager.setScrollWidth(this._width),this._context.internalEventBus.emit(h.EventType.ViewMaxLineWidthChanged,{width:this._width})},b.prototype._updateWidth=function(){var a=this._computeWidth();a!==this._width&&this._changeWidth(a)},b.prototype._updateHeight=function(){var a=this._context.layoutProvider.getTotalHeight();this._context.layoutManager.setScrollHeight(a),this.domNode.style.height=a+"px"},b.prototype.onConfigurationLineHeightChanged=function(){var b=a.prototype.onConfigurationLineHeightChanged.call(this);return this._updateHeight(),b},b.prototype.onConfigurationChanged=function(){var b=a.prototype.onConfigurationChanged.call(this);return this._widths=[-1],this._updateHeight(),b},b.prototype.onLayoutChanged=function(b){var c=a.prototype.onLayoutChanged.call(this,b);return this._updateWidth(),c},b.prototype.onZonesChanged=function(){var b=a.prototype.onZonesChanged.call(this);return this._updateHeight(),b},b.prototype.onModelFlushed=function(){var b=a.prototype.onModelFlushed.call(this);return this._widths=[-1],this._updateWidth(),this._updateHeight(),b},b.prototype.onModelLinesDeleted=function(b){var c=a.prototype.onModelLinesDeleted.call(this,b);return b.fromLineNumber<this._widths.length&&this._widths.splice(b.fromLineNumber,Math.min(b.toLineNumber+1,this._widths.length)-b.fromLineNumber),this._updateHeight(),c},b.prototype.onModelLineChanged=function(b){var c=a.prototype.onModelLineChanged.call(this,b);return this._widths[b.lineNumber]=-1,c},b.prototype.onModelLinesInserted=function(b){var c=a.prototype.onModelLinesInserted.call(this,b);for(var d=b.fromLineNumber;d<=b.toLineNumber;d++)this._widths.splice(d,0,-1);return this._updateHeight(),c},b.prototype.getPositionFromDOMInfo=function(a,b){var c=this._getLineNumberFromDOMInfo(a);if(c===-1)return null;if(this._context.model.getLineMaxColumn(c)===1)return{lineNumber:c,column:1};var d=c-this._rendLineNumberStart;if(d<0||d>=this._lines.length)return null;var e=i.StaticViewLine.getColumnOfNodeOffset(this._context,this._lines[d],c,a,b);return{lineNumber:c,column:e}},b.prototype._getLineNumberFromDOMInfo=function(a){while(a){if(a.className==="view-line")return parseInt(a.getAttribute("lineNumber"),10);a=a.parentElement}return-1},b.prototype.getLineWidth=function(a){if(a<this._widths.length)return this._widths[a];var b=a-this._rendLineNumberStart;return b<0||b>this._lines.length?-1:i.StaticViewLine.getWidth(this._lines[b])},b.prototype.visibleRangesForRange=function(a,c,d){var e=this._context.model.getLineMaxColumn(a);if(e===1)return null;if(a<this._widths.length&&c===1&&d===e)return a<this._widths.length&&this._widths[a]!==-1?[{offsetLeft:0,offsetRight:this._widths[a]}]:null;var f=a-this._rendLineNumberStart;if(f<0||f>this._lines.length)return null;var g=this._lines[f],h=j.getDomNodePosition(this.domNode);if(b.SUPPORT_BREAKABLE_SELECTION){var i=this._internalGetVisibleRangesWithGapsForRange(h.left,g,a,c,d);if(i)return i}var k=this._internalGetOffsetForColumn(h.left,g,a,c),l=this._internalGetOffsetForColumn(h.left,g,a,d);if(k>l){var m=k;k=l,l=m}return[{offsetLeft:k,offsetRight:l}]},b.prototype._internalGetVisibleRangesWithGapsForRange=function(a,b,c,d,e){var f=i.StaticViewLine.getVisibleRangesForRange(this._context,b,c,d,e);if(f)for(var g=0;g<f.length;g++)f[g].offsetLeft-=a,f[g].offsetRight-=a;return f},b.prototype._internalGetOffsetForColumn=function(a,b,c,d){var e=i.StaticViewLine.getLeftAtPosition(this._context,b,c,d);return e-a},b.prototype.getOffsetForColumn=function(a,b){if(this._context.model.getLineMaxColumn(a)===1)return 0;var c=a-this._rendLineNumberStart;if(c<0||c>=this._lines.length)return-1;if(!j.isInDOM(this.domNode))return 0;var d=j.getDomNodePosition(this.domNode);return this._internalGetOffsetForColumn(d.left,this._lines[c],a,b)},b.prototype.computeScrollLeftToRevealRange=function(a){if(a.startLineNumber!==a.endLineNumber)return 0;var c=this._context.layoutProvider.getCurrentViewport(),d=c.left,e=d+c.width,f=this.getOffsetForColumn(a.startLineNumber,a.startColumn),g=this.getOffsetForColumn(a.startLineNumber,a.endColumn);return f===-1||g===-1?d:(g+=b.HORIZONTAL_EXTRA_PX,this._context.layoutProvider.computeMinimumScrolling(d,e,f,g))},b.prototype._createLine=function(a){return i.StaticViewLine.createLine(this._context,a)},b.prototype._getLineOuterHTML=function(a,b,c){var d=this._context.layoutManager.getLinesContentScrolledTopFromAbsoluteTop(this._context.layoutProvider.getVerticalOffsetForLineNumber(b)),e=this._context.configuration.editor.lineHeight;return'<div lineNumber="'+b+'" class="view-line" style="top: '+d+"px;height:"+e+'px">'+this._getLineInnerHTML(a,b,c)+"</div>"},b.prototype._doGetLineInnerHTML=function(a,b,c){return i.StaticViewLine.renderLine(this._context,this._syntaxStyleManager,c,b)},b.prototype._layoutLine=function(b,c){c.domNode.setAttribute("lineNumber",b.toString()),a.prototype._layoutLine.call(this,b,c)},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;var c=this._context.layoutProvider.getLinesInViewport();a.prototype._renderLines.call(this,null,c.startLineNumber,c.endLineNumber);if(j.isInDOM(this.domNode)){var d=this._width;for(var e=0;e<this._lines.length;e++)if(!this._widths[e+this._rendLineNumberStart]||this._widths[e+this._rendLineNumberStart]===-1){var f=i.StaticViewLine.getWidth(this._lines[e]);this._widths[e+this._rendLineNumberStart]=f,f+b.HORIZONTAL_EXTRA_PX>d&&(d=f+b.HORIZONTAL_EXTRA_PX)}this._width!==d&&this._changeWidth(d)}},b}(k.ViewLayer);b.ViewLines=m});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layers/decorationsLayer",["require","exports","vs/editor/core/view/layers/viewLayer","vs/editor/core/view/viewContext"],function(a,b,c,d){var e=c,f=d,g=function(a){function b(b){a.call(this,b),this.domNode.className="view-decorations-layer"}return __extends(b,a),b.prototype.onModelDecorationsChanged=function(b){var c=a.prototype.onModelDecorationsChanged.call(this,b),d,e,f,g,h;for(d=0,e=b.affectedDecorationData.length;d<e;d++){if(b.affectedDecorationData[d].ownerId&&b.affectedDecorationData[d].ownerId!==this._context.editorId)continue;g=Math.max(b.affectedDecorationData[d].startLineNumber-this._rendLineNumberStart,0),h=Math.min(b.affectedDecorationData[d].endLineNumber-this._rendLineNumberStart,this._lines.length-1);for(f=g;f<=h;f++)this._lines[f].isInvalid=!0,c=!0}return c},b.prototype._doGetLineInnerHTML=function(a,b,c){var d,e,f,g,h="",i=a.lines[b-a.deltaLineNumber].decorations,j,k=this._context.configuration.editor.lineHeight;for(d=0;d<i.length;d++){j=i[d];if(j.ranges)for(f=0,g=j.ranges.length;f<g;f++)h+='<span class="'+j.className+'" style="position:absolute;left:',h+=j.ranges[f].offsetLeft+"px;width:",h+=j.ranges[f].offsetRight-j.ranges[f].offsetLeft+"px;height:",h+=k+'px;"></span>';else h+='<span style="display:inline-block;position:absolute;width:100%;height:'+k+'px;" class="'+j.className+'"></span>'}return h},b.prototype._getLinesRenderData=function(a,b,c){var d=[],e=a,f,g,h,i,j,k,l,m,n,o,p={};for(f=0;f<this._lines.length;f++)p[(f+this._rendLineNumberStart).toString()]=!this._lines[f].isInvalid;for(f=b-a;f>=0;f--)d[f]={decorations:[]};var q=this._context.model.getLinesDecorations(a,b,this._context.editorId,this._context.configuration.editor.readOnly);for(f=0,g=q.length;f<g;f++){l=q[f],j=Math.max(l.range.startLineNumber,a),k=Math.min(l.range.endLineNumber,b);if(l.options.isWholeLine)for(h=j;h<=k;h++){if(p[h.toString()])continue;i=h-e,d[i].decorations.push({className:l.options.className,ranges:null})}else for(h=j;h<=k;h++){if(p[h.toString()])continue;n=l.range.startLineNumber===h?l.range.startColumn:1,o=l.range.endLineNumber===h?l.range.endColumn:this._context.model.getLineMaxColumn(h),m=c.visibleRangesForRange(h,n,o),m&&(i=h-e,d[i].decorations.push({className:l.options.className,ranges:m}))}}return{lines:d,deltaLineNumber:e,startLineNumber:a,stopLineNumber:b}},b.prototype.prepareRender=function(a){if(!this.shouldRender)return null;var b=this._context.layoutProvider.getLinesInViewport();return this._decideIfLinesAreInvalid(),this._getLinesRenderData(b.startLineNumber,b.endLineNumber,a)},b.prototype.render=function(a){if(!this.shouldRender)return;this.shouldRender=!1,this._renderLines(a,a.startLineNumber,a.stopLineNumber)},b}(e.ViewLayer);b.DecorationsLayer=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/decorationsOverviewRuler",["require","exports","vs/editor/core/view/parts/overviewRuler","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(c){a.call(this),this.context=c,this.overviewRuler=new f.OverviewRuler(c,"decorationsOverviewRuler",b.DECORATION_HEIGHT,b.DECORATION_HEIGHT),this.shouldUpdateDecorations=!0,this.hasDecorations=!1}return __extends(b,a),b.DECORATION_HEIGHT=4,b.prototype.destroy=function(){this.overviewRuler.destroy()},b.prototype.onConfigurationLineHeightChanged=function(){return!0},b.prototype.onLayoutChanged=function(a){var b=this.context.layoutManager.getOverviewRulerLayoutInfo();return this.overviewRuler.setLayout({top:b.top,width:b.width,height:a.height-b.top-b.bottom,right:0},!1),!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return!0},b.prototype.onModelDecorationsChanged=function(a){return this.shouldUpdateDecorations=!0,!0},b.prototype.getDomNode=function(){return this.overviewRuler.getDomNode()},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;if(this.shouldUpdateDecorations){this.shouldUpdateDecorations=!1;var a=this.context.model.getAllDecorations(this.context.editorId,this.context.configuration.editor.readOnly),b=[],c,d,e;for(c=0,d=a.length;c<d;c++)e=a[c],e.options.showInOverviewRuler&&b.push({startLineNumber:e.range.startLineNumber,endLineNumber:e.range.endLineNumber,color:e.options.showInOverviewRuler});this.hasDecorations=b.length>0,this.overviewRuler.setZones(b,!1)}this.overviewRuler.render();if(this.hasDecorations){var f=this.overviewRuler.getDomNode().getContext("2d");f.fillStyle="rgba(197,197,197,0.4)",f.fillRect(0,0,this.overviewRuler.getWidth(),1),f.fillRect(0,0,1,this.overviewRuler.getHeight()),f.fillRect(0,this.overviewRuler.getHeight()-1,this.overviewRuler.getWidth(),1)}},b}(h.ViewEventHandler);b.DecorationsOverviewRuler=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/viewCursors",["require","exports","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/editor/core/view/parts/viewCursor"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k;(function(a){a._map=[],a._map[0]="Hidden",a.Hidden=0,a._map[1]="Visible",a.Visible=1,a._map[2]="Blink",a.Blink=2})(k||(k={}));var l=function(a){function b(b){var c=this;a.call(this),this.listenersToRemove=[],this.context=b,this.listenersToRemove.push(this.context.internalEventBus.addListener(g.EventType.ViewMaxLineWidthChanged,function(a){return c._maxLineWidthChanged()})),this.listenersToRemove.push(this.context.internalEventBus.addListener(g.EventType.ViewFocusGained,function(){return c._onFocusGained()})),this.listenersToRemove.push(this.context.internalEventBus.addListener(g.EventType.ViewFocusLost,function(){return c._onFocusLost()})),this.primaryCursor=new j.ViewCursor(this.context,!1),this.secondaryCursors=[],this.currentLine=document.createElement("div"),this.currentLine.className="current-line",this.currentLine.style.position="absolute",this.currentLine.style.left="0px",this.currentLine.style.width=this.context.layoutManager.getScrollWidth()+"px",this.currentLine.style.height=this.context.configuration.editor.lineHeight+"px",this.currentLine.setAttribute("role","presentation"),this.currentLine.setAttribute("aria-hidden","true"),this.blinkTimer=-1,this.selectionIsEmpty=!0,this.editorHasFocus=!1,this.updateCurrentLine(),this.updateBlinking(),this.lastCursorRevealRangeEvent=null}return __extends(b,a),b.BLINK_INTERVAL=500,b.prototype.onConfigurationLineHeightChanged=function(){return this.primaryCursor.onConfigurationLineHeightChanged(),this.secondaryCursors.forEach(function(a){a.onConfigurationLineHeightChanged()}),this.currentLine.style.height=this.context.configuration.editor.lineHeight+"px",!0},b.prototype.onLayoutChanged=function(a){return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return this.primaryCursor.onModelFlushed(),this.secondaryCursors.forEach(function(a){a.getDomNode().parentNode.removeChild(a.getDomNode())}),this.secondaryCursors=[],!0},b.prototype.onModelLineChanged=function(a){var b=!1;return this.primaryCursor.onModelLineChanged(a)&&(b=!0),this.secondaryCursors.forEach(function(c){c.onModelLineChanged(a)&&(b=!0)}),b},b.prototype.onCursorPositionChanged=function(a){this.primaryCursor.onCursorPositionChanged(a.position,a.isInEditableRange),this.updateBlinking(),this.updateCurrentLine();if(this.secondaryCursors.length<a.secondaryPositions.length){var b=a.secondaryPositions.length-this.secondaryCursors.length;for(var c=0;c<b;c++){var d=new j.ViewCursor(this.context,!0);this.primaryCursor.getDomNode().parentNode.insertBefore(d.getDomNode(),this.primaryCursor.getDomNode().nextSibling),this.secondaryCursors.push(d)}}else if(this.secondaryCursors.length>a.secondaryPositions.length){var e=this.secondaryCursors.length-a.secondaryPositions.length;for(var c=0;c<e;c++)this.secondaryCursors[0].getDomNode().parentNode.removeChild(this.secondaryCursors[0].getDomNode()),this.secondaryCursors.splice(0,1)}for(var c=0;c<a.secondaryPositions.length;c++)this.secondaryCursors[c].onCursorPositionChanged(a.secondaryPositions[c],a.isInEditableRange);return!0},b.prototype.onCursorSelectionChanged=function(a){return this.selectionIsEmpty=a.selection.isEmpty(),this.updateCurrentLine(),!1},b.prototype.onCursorRevealRange=function(a){var b=this.context.layoutProvider.computeScrollTopToRevealRange(a.range,a.revealVerticalInCenter);return this.context.layoutManager.setScrollTop(b),this.lastCursorRevealRangeEvent=a,!0},b.prototype.onConfigurationChanged=function(){return!0},b.prototype.getDomNode=function(){return this.primaryCursor.getDomNode()},b.prototype.getPosition=function(){return this.primaryCursor.getPosition()},b.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},b.prototype._shouldShowCurrentLine=function(){return this.selectionIsEmpty&&this.primaryCursor.getIsInEditableRange()&&!this.context.configuration.editor.readOnly},b.prototype.updateCurrentLine=function(){this._shouldShowCurrentLine()?this.currentLine.style.display="block":this.currentLine.style.display="none"},b.prototype._onFocusGained=function(){this.editorHasFocus=!0,this.updateBlinking()},b.prototype._onFocusLost=function(){this.editorHasFocus=!1,this.updateBlinking()},b.prototype.getRenderType=function(){return this.editorHasFocus?this.primaryCursor.getIsInEditableRange()&&!this.context.configuration.editor.readOnly?k.Blink:k.Visible:k.Hidden},b.prototype.updateBlinking=function(){var a=this;this.blinkTimer!==-1&&(window.clearInterval(this.blinkTimer),this.blinkTimer=-1);var c=this.getRenderType();c===k.Visible||c===k.Blink?this._show():this._hide(),c===k.Blink&&(this.blinkTimer=window.setInterval(function(){return a._blink()},b.BLINK_INTERVAL))},b.prototype._maxLineWidthChanged=function(){this.currentLine.style.width=this.context.layoutManager.getScrollWidth()+"px"},b.prototype._blink=function(){this.isVisible?this._hide():this._show()},b.prototype._show=function(){this.primaryCursor.show(),this.secondaryCursors.forEach(function(a){a.show()}),this.isVisible=!0},b.prototype._hide=function(){this.primaryCursor.hide(),this.secondaryCursors.forEach(function(a){a.hide()}),this.isVisible=!1},b.prototype.prepareRender=function(a){if(this.lastCursorRevealRangeEvent){var b=this.lastCursorRevealRangeEvent;this.lastCursorRevealRangeEvent=null;if(b.revealHorizontal){var c=a.computeScrollLeftToRevealRange(b.range);this.context.layoutManager.setScrollLeft(c)}}return this.primaryCursor.prepareRender(a),this.secondaryCursors.forEach(function(b){b.prepareRender(a)}),null},b.prototype.render=function(a){this.primaryCursor.render(),this.secondaryCursors.forEach(function(a){a.render()}),this.context.layoutManager.setLinesContentDomNodeTop(this.currentLine,this.primaryCursor.getPositionTop())},b}(i.ViewEventHandler);b.ViewCursors=l}),define("vs/editor/core/view/viewEventDispatcher",["require","exports","vs/base/eventEmitter","vs/editor/core/view/viewContext"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a){this.eventHandlerGateKeeper=a,this.eventHandlers=[],this.eventQueue=[],this.isConsumingQueue=!1}return a.prototype.addEventHandler=function(a){this.eventHandlers.push(a)},a.prototype.emit=function(a,b){this.eventQueue.push(new e.EmitterEvent(a,b)),this.isConsumingQueue||this.consumeQueue()},a.prototype.emitBulk=function(a){this.eventQueue=this.eventQueue.concat(a),this.isConsumingQueue||this.consumeQueue()},a.prototype.consumeQueue=function(){var a=this;this.eventHandlerGateKeeper(function(){a.isConsumingQueue=!0;var b,c=a.eventHandlers.length,d;while(a.eventQueue.length>0){d=a.eventQueue,a.eventQueue=[];for(b=0;b<c;b++)a.eventHandlers[b].handleEvents(d)}a.isConsumingQueue=!1})},a}();b.ViewEventDispatcher=g}),define("vs/base/performance/timer",["require","exports","vs/base/env"],function(a,b,c){function k(a,b){return j.start(a,b)}function l(){return j}var d=c,e=!!self.msWriteProfilerMark;(function(a){a._map=[],a._map[0]="EDITOR",a.EDITOR=0,a._map[1]="LANGUAGES",a.LANGUAGES=1,a._map[2]="WORKER",a.WORKER=2,a._map[3]="WORKBENCH",a.WORKBENCH=3})(b.Topic||(b.Topic={}));var f=b.Topic,g=function(){function a(){}return a.prototype.stop=function(){return},a.prototype.timeTaken=function(){return-1},a}();b.NullTimerEvent=g;var h=function(){function a(a,b,c){this.name=a,this.topic=b;if(c){this.startTime=c;return}this.startTime=(new Date).getTime();if(e){var d=["Monaco",this.topic,this.name,"start"];self.msWriteProfilerMark(d.join("|"))}}return a.prototype.stop=function(a){if(a){this.stopTime=a;return}this.stopTime=(new Date).getTime();if(e){var b=["Monaco",this.topic,this.name,"stop"];self.msWriteProfilerMark(b.join("|"))}},a.prototype.timeTaken=function(){return this.stopTime?this.stopTime-this.startTime:-1},a}();b.TimerEvent=h;var i=function(){function a(){this.collectedEvents=[]}return a.EVENT_ID=1,a.PARSE_TIME=(new Date).getTime(),a.prototype.enabled=function(){return d.enablePerformanceEvents?!0:d.isProduction||d.isSelfhost?!1:!0},a.prototype.start=function(a,b){if(this.enabled()===!1)return new g;a===f.EDITOR?a="Editor":a===f.LANGUAGES?a="Languages":a===f.WORKER?a="Worker":a===f.WORKBENCH&&(a="Workbench");var c=new h(b,a);return this.addEvent(c),c},a.prototype.addEvent=function(b){b.id=a.EVENT_ID,a.EVENT_ID++,this.collectedEvents.push(b)},a.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},a.prototype.setInitialCollectedEvents=function(b,c){var d=this;if(this.enabled()===!1)return;c&&(a.PARSE_TIME=c),b.forEach(function(a){var b=new h(a.name,a.topic,a.startTime);b.stop(a.stopTime),d.addEvent(b)})},a}();b.TimeKeeper=i;var j=new i;b.start=k,b.getTimeKeeper=l}),define("vs/editor/core/view/layout/characterSizeProvider",["require","exports","vs/base/env","vs/base/performance/timer"],function(a,b,c,d){var e=c,f=d,g=function(){function a(b){this.configuration=b,this.charactersToMeasure=a.USUAL_CHARS,this.configuration.editor.fontIsMonospace&&(this.charactersToMeasure=a.REFERENCE_CHARACTER),this.defaultCharWidth=7.69921875,this.charWidths={};var c=this._configurationHash();a.CHAR_MEASUREMENTS_CACHE.hasOwnProperty(c)?(this.charWidths=a.CHAR_MEASUREMENTS_CACHE[c],this.defaultCharWidth=this.charWidths[a.REFERENCE_CHARACTER]):e.isTesting()||this.doMeasurements()}return a.USUAL_CHARS="1234567890",a.REFERENCE_CHARACTER="0",a.CHAR_MEASUREMENTS_CACHE={},a.prototype.doMeasurements=function(){var a=f.start(f.Topic.EDITOR,"SizeProvider.measurements"),b=this._measureCharSizePart2(this._measureCharSizePart1());return a.stop(),b},a.prototype.getCharWidth=function(a){return this.charWidths.hasOwnProperty(a)?this.charWidths[a]:this.defaultCharWidth},a.prototype._configurationHash=function(){return this.configuration.editor.font+"-"+this.configuration.editor.fontIsMonospace},a.prototype.maxDigitWidth=function(){var a=0;for(var b=0;b<=9;b++)a=Math.max(a,this.getCharWidth(b.toString()));return a},a.prototype._testElementId=function(a){return"editorSizeProvider"+a},a.prototype._createTestElement=function(a,b){var c=document.createElement("span");c.id=this._testElementId(a);var d=b===" "?"&nbsp;":b;for(var e=0;e<8;e++)d+=d;return b===" "?c.innerHTML=d:c.appendChild(document.createTextNode(d)),c},a.prototype._measureTestElementWidth=function(a){return document.getElementById(this._testElementId(a)).offsetWidth/256},a.prototype._measureTestElementHeight=function(a){return document.getElementById(this._testElementId(a)).offsetHeight},a.prototype._createTestElements=function(){var a=document.createElement("div");a.className=this.configuration.getEditorClassName(),a.style.width="50000px";for(var b=0,c=this.charactersToMeasure.length;b<c;b++)a.appendChild(document.createElement("br")),a.appendChild(this._createTestElement(b,this.charactersToMeasure[b]));return a},a.prototype._measureCharSizePart1=function(){var a=this._createTestElements();return document.body.appendChild(a),a},a.prototype._measureCharSizePart2=function(b){var c,d,e,f=!1,g,h;for(c=0,d=this.charactersToMeasure.length;c<d;c++)e=this.charactersToMeasure[c],g=this.charWidths.hasOwnProperty(e)?this.charWidths[e]:0,h=this._measureTestElementWidth(c),g!==h&&(this.charWidths[e]=h,f=!0);return document.body.removeChild(b),f&&(a.CHAR_MEASUREMENTS_CACHE[this._configurationHash()]=this.charWidths,this.defaultCharWidth=this.charWidths[a.REFERENCE_CHARACTER]),f},a}();b.CharacterSizeProvider=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layout/layoutProvider",["require","exports","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/layout/partsLayout","vs/editor/core/view/viewEventHandler","vs/editor/core/view/layout/containerObserver","vs/editor/core/view/layout/characterSizeProvider","vs/editor/core/view/layout/editorLayoutProvider"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q=function(a){function b(b,c,d,e,f){var g=this;a.call(this),this.configuration=c,this.privateViewEventBus=e,this.model=d,this.scrollManager=f,this.charSizeProvider=new o.CharacterSizeProvider(this.configuration),this.editorLayoutProvider=new p.EditorLayoutProvider(-1,-1,this.configuration.editor.lineHeight,this.configuration.editor.glyphMargin,this.configuration.editor.lineNumbers,this.configuration.editor.lineNumbersMinChars,this.charSizeProvider.maxDigitWidth()),this.editorLayoutProvider.setLineCount(this.model.getLineCount()),this.editorLayoutProvider.setScrollbarSize(this.scrollManager.getVerticalScrollbarWidth(),this.scrollManager.getHorizontalScrollbarHeight()),this.containerObserver=new n.ContainerObserver(b,function(a,b){return g._onContainerSizeChanged(a,b)}),this.configuration.editor.automaticLayout&&this.containerObserver.startObserving(),this.verticalLayoutProvider=new l.PartsLayout(c,d,f),this._updatePageSize()}return __extends(b,a),b.prototype.dispose=function(){this.containerObserver.dispose()},b.prototype.layout=function(){this.containerObserver.observe()},b.prototype.updateLineCount=function(){var a=this.editorLayoutProvider.setLineCount(this.model.getLineCount());a&&this._emitLayoutChangedEvent()},b.prototype.onModelFlushed=function(){return this.updateLineCount(),!1},b.prototype.onModelLinesDeleted=function(a){return this.verticalLayoutProvider.onModelLinesDeleted(a),this.updateLineCount(),!1},b.prototype.onModelLinesInserted=function(a){return this.verticalLayoutProvider.onModelLinesInserted(a),this.updateLineCount(),!1},b.prototype.onConfigurationChanged=function(){var a=this.editorLayoutProvider.setShowLineNumbers(this.configuration.editor.lineNumbers);return a=this.editorLayoutProvider.setLineNumbersMinChars(this.configuration.editor.lineNumbersMinChars)||a,a=this.editorLayoutProvider.setGlyphMargin(this.configuration.editor.glyphMargin)||a,a&&this._emitLayoutChangedEvent(),!1},b.prototype.onConfigurationLineHeightChanged=function(){this._updatePageSize(),this.verticalLayoutProvider.onConfigurationLineHeightChanged();var a=this.editorLayoutProvider.setLineHeight(this.configuration.editor.lineHeight);return a&&this._emitLayoutChangedEvent(),!1},b.prototype.onConfigurationFontChanged=function(){var a=this.charSizeProvider.doMeasurements();if(a){var b=this.editorLayoutProvider.setMaxDigitWidth(this.charSizeProvider.maxDigitWidth());b&&this._emitLayoutChangedEvent()}return!1},b.prototype._onContainerSizeChanged=function(a,b){var c=this.editorLayoutProvider.setDimensions(a,b);c&&(this._updatePageSize(),this._emitLayoutChangedEvent())},b.prototype._updatePageSize=function(){var a=this.editorLayoutProvider.getLayoutInfo();this.configuration.editor.pageSize=Math.floor(a.height/this.configuration.editor.lineHeight)-2},b.prototype.getLayoutInfo=function(){return this.editorLayoutProvider.getLayoutInfo()},b.prototype.getCurrentViewport=function(){var a=this.editorLayoutProvider.getLayoutInfo();return{top:this.scrollManager.getScrollTop(),left:this.scrollManager.getScrollLeft(),width:a.contentWidth,height:a.contentHeight}},b.prototype._emitLayoutChangedEvent=function(){this.privateViewEventBus.emit(j.EventType.ViewLayoutChanged,this.editorLayoutProvider.getLayoutInfo())},b.prototype.addWhitespace=function(a,b){return this.verticalLayoutProvider.addWhitespace(a,b)},b.prototype.changeWhitespace=function(a,b){return this.verticalLayoutProvider.changeWhitespace(a,b)},b.prototype.removeWhitespace=function(a){return this.verticalLayoutProvider.removeWhitespace(a)},b.prototype.getWhitespaceData=function(a){return this.verticalLayoutProvider.getWhitespaceData(a)},b.prototype.getVerticalOffsetForLineNumber=function(a){return this.verticalLayoutProvider.getVerticalOffsetForLineNumber(a)},b.prototype.getLineNumberAtVerticalOffset=function(a){return this.verticalLayoutProvider.getLineNumberAtVerticalOffset(a)},b.prototype.getLinesTotalHeight=function(){return this.verticalLayoutProvider.getLinesTotalHeight()},b.prototype.getTotalHeight=function(){return this.verticalLayoutProvider.getTotalHeight(this.getCurrentViewport())},b.prototype.getWhitespaceAtVerticalOffset=function(a){return this.verticalLayoutProvider.getWhitespaceAtVerticalOffset(a)},b.prototype.getLinesInViewport=function(){return this.verticalLayoutProvider.getLinesInViewport(this.getCurrentViewport())},b.prototype.layoutBoxInViewport=function(a,b,c,d){return this.verticalLayoutProvider.layoutBoxInViewport(this.getCurrentViewport(),a,b,c,d)},b.prototype.computeScrollTopToRevealRange=function(a,b){return this.verticalLayoutProvider.computeScrollTopToRevealRange(this.getCurrentViewport(),a,b)},b.prototype.computeMinimumScrolling=function(a,b,c,d){return this.verticalLayoutProvider.computeMinimumScrolling(a,b,c,d)},b}(m.ViewEventHandler);b.LayoutProvider=q}),define("vs/base/network",["require","exports","./assert"],function(a,b,c){var d=c,e=function(){function a(a){d.ok(!!a,"spec must not be null"),this.spec=a,this.scheme=undefined}return a.prototype.toJSON=function(){return{$url:this.spec}},a.prototype.toExternal=function(){return this.spec},a.prototype.toString=function(){return this.spec},a.prototype.getScheme=function(){return this.scheme===undefined&&(this.scheme=this.doGetScheme()),this.scheme},a.prototype.doGetScheme=function(){var a=this.spec.indexOf(":");return a===-1?null:this.spec.substring(0,a)},a.prototype.getPath=function(){var a=0,b=-1;for(var c=0,d=this.spec.length;c<d;c++){var e=this.spec.charAt(c);switch(e){case"/":++a===3&&(b=c);break;case"?":case"#":if(b===-1)return null;return this.spec.substring(b,c)}}return b===-1?null:b===this.spec.length-1?"":this.spec.substring(b)},a}();b.URL=e});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/platform/services",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/strings","vs/base/network","vs/base/eventEmitter"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(a,b,c){typeof c=="undefined"&&(c={}),this.workspace=a,this.configuration=b,this.options=c}return a.prototype.getWorkspace=function(){return this.workspace},a.prototype.getConfiguration=function(){return this.configuration},a.prototype.getOptions=function(){return this.options},a}();b.BaseContextService=m;var n=function(){function a(){}return a.prototype.injectContextService=function(a){if(!this.contextService){this.contextService=a;if(this.contextService.getConfiguration()){this.origin=this.contextService.getConfiguration().paths.PUBLIC_WORKSPACE_URL;var b=(new k.URL(this.origin)).getPath();b&&b.length>0&&(this.origin=this.origin.substring(0,this.origin.length-b.length+1)),j.endsWith(this.origin,"/")||(this.origin+="/")}else this.origin="/"}},a.prototype.getRequestUrl=function(a,b,c){var d=this.contextService.getWorkspace();if(d[a]){var e=d[a]+j.normalizePath(b);return c?this.origin+j.ltrim(e,"/"):e}return null},a.prototype.getPath=function(a,b){var c=this.getRequestUrl(a,"/",!0);if(!c)return null;var d=b.toExternal().indexOf(c);return d===0?b.toExternal().substr(c.length-1):null},a.prototype.getAdditionalHeaders=function(){return this.contextService.getConfiguration().additionalHeaders||{}},a.prototype.poll=function(a,b){return h.Promise.wrapError("Not Implemented")},a.prototype.establishPrivateChannel=function(a,b){return h.Promise.wrapError("Not Implemented")},a}();b.BaseRequestService=n;var o=function(){function a(a){this.selection=a||[]}return a.EMPTY=new a([]),a.prototype.isEmpty=function(){return this.selection.length===0},a}();b.Selection=o;var p=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.toArray=function(){return this.selection},b}(o);b.StructuredSelection=p,function(a){a._map=[],a._map[0]="Info",a.Info=0,a._map[1]="Warning",a.Warning=1,a._map[2]="Error",a.Error=2}(b.Severity||(b.Severity={}));var q=b.Severity,r=function(){function a(){}return a.SERVICE_CHANGED="service-changed",a.SET_CHANGED="set-changed",a.SET_ADDED="set-added",a.SET_REMOVED="set-removed",a}();b.MarkerServiceConstants=r,b.ResourceEvents={ADDED:"resource.added",REMOVED:"resource.removed",CHANGED:"resource.changed"}});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/actions",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter"],function(a,b,c,d){function i(a){function b(b){return function(){a.forEach(function(a){a.setChecked(a===b)})}}return a.map(function(a){return new h(a,b(a))})}var e=c,f=d,g=function(a){function b(b,c,d,e,f){typeof c=="undefined"&&(c=""),typeof d=="undefined"&&(d=""),typeof e=="undefined"&&(e=!0),typeof f=="undefined"&&(f=null),a.call(this),this.id=b,this.label=c,this.cssClass=d,this.enabled=e,this.actionCallback=f}return __extends(b,a),b.LABEL="label",b.CLASS="class",b.ENABLED="enabled",b.CHECKED="checked",b.prototype.getId=function(){return this.id},b.prototype.getLabel=function(){return this.label},b.prototype.setLabel=function(a){name!==a&&(this.label=a,this.emit(b.LABEL,{source:this}))},b.prototype.getClass=function(){return this.cssClass},b.prototype.setClass=function(a){this.cssClass!==a&&(this.cssClass=a,this.emit(b.CLASS,{source:this}))},b.prototype.isEnabled=function(){return this.enabled},b.prototype.setEnabled=function(a){this.enabled!==a&&(this.enabled=a,this.emit(b.ENABLED,{source:this}))},b.prototype.isChecked=function(){return this.checked},b.prototype.setChecked=function(a){this.checked!==a&&(this.checked=a,this.emit(b.CHECKED,{source:this}))},b.prototype.getOrder=function(){return this.order},b.prototype.setOrder=function(a){this.order=a},b.prototype.run=function(a){return this.actionCallback!==null?this.actionCallback(a):e.Promise.as(!0)},b}(f.EventEmitter);b.Action=g;var h=function(a){function b(b,c){a.call(this,b.getId(),b.getLabel(),b.getClass(),b.isEnabled(),null),this.delegate=b,this.runHandler=c}return __extends(b,a),b.prototype.getId=function(){return this.delegate.getId()},b.prototype.getLabel=function(){return this.delegate.getLabel()},b.prototype.setLabel=function(a){this.delegate.setLabel(a)},b.prototype.getClass=function(){return this.delegate.getClass()},b.prototype.setClass=function(a){this.delegate.setClass(a)},b.prototype.isEnabled=function(){return this.delegate.isEnabled()},b.prototype.setEnabled=function(a){this.delegate.setEnabled(a)},b.prototype.isChecked=function(){return this.delegate.isChecked()},b.prototype.setChecked=function(a){this.delegate.setChecked(a)},b.prototype.run=function(a){return this.runHandler(a),this.delegate.run(a)},b.prototype.addListener=function(a,b){return this.delegate.addListener(a,b)},b.prototype.addBulkListener=function(a){return this.delegate.addBulkListener(a)},b.prototype.addEmitter=function(a,b){return this.delegate.addEmitter(a,b)},b.prototype.addEmitterTypeListener=function(a,b,c){return this.delegate.addEmitterTypeListener(a,b,c)},b.prototype.emit=function(a,b){this.delegate.emit(a,b)},b}(g);b.radioGroup=i}),define("vs/editor/editor",["require","exports","vs/base/eventEmitter"],function(a,b,c){var d=c;(function(a){a._map=[],a._map[0]="LTR",a.LTR=0,a._map[1]="RTL",a.RTL=1})(b.SelectionDirection||(b.SelectionDirection={}));var e=b.SelectionDirection;(function(a){a._map=[],a._map[0]="TextDefined",a.TextDefined=0,a._map[1]="LF",a.LF=1,a._map[2]="CRLF",a.CRLF=2})(b.EndOfLinePreference||(b.EndOfLinePreference={}));var f=b.EndOfLinePreference;(function(a){a._map=[],a._map[0]="EXACT",a.EXACT=0,a._map[1]="ABOVE",a.ABOVE=1,a._map[2]="BELOW",a.BELOW=2})(b.ContentWidgetPositionPreference||(b.ContentWidgetPositionPreference={}));var g=b.ContentWidgetPositionPreference;(function(a){a._map=[],a._map[0]="TOP_RIGHT_CORNER",a.TOP_RIGHT_CORNER=0})(b.OverlayWidgetPositionPreference||(b.OverlayWidgetPositionPreference={}));var h=b.OverlayWidgetPositionPreference;(function(a){a._map=[],a._map[0]="UNKNOWN",a.UNKNOWN=0,a._map[1]="TEXTAREA",a.TEXTAREA=1,a._map[2]="GUTTER_GLYPH_MARGIN",a.GUTTER_GLYPH_MARGIN=2,a._map[3]="GUTTER_LINE_NUMBERS",a.GUTTER_LINE_NUMBERS=3,a._map[4]="GUTTER_LINE_DECORATIONS",a.GUTTER_LINE_DECORATIONS=4,a._map[5]="GUTTER_VIEW_ZONE",a.GUTTER_VIEW_ZONE=5,a._map[6]="CONTENT_TEXT",a.CONTENT_TEXT=6,a._map[7]="CONTENT_EMPTY",a.CONTENT_EMPTY=7,a._map[8]="CONTENT_VIEW_ZONE",a.CONTENT_VIEW_ZONE=8,a._map[9]="CONTENT_WIDGET",a.CONTENT_WIDGET=9,a._map[10]="OVERVIEW_RULER",a.OVERVIEW_RULER=10,a._map[11]="SCROLLBAR",a.SCROLLBAR=11,a._map[12]="OVERLAY_WIDGET",a.OVERLAY_WIDGET=12})(b.MouseTargetType||(b.MouseTargetType={}));var i=b.MouseTargetType});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/configuration",["require","exports","vs/base/env","./config","vs/base/objects","./handlerDispatcher","vs/base/eventEmitter","vs/base/dom/measurementHelper","./constants","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s={},t=function(a){function b(b){a.call(this),this.keyBindings=m.clone(l.Config.keyBindings),this.tokens=m.clone(l.Config.tokens),this.editor=m.clone(l.Config.editor),this._mergeOptionsIn(b),this.handlerDispatcher=new n.HandlerDispatcher,this._readCSSConfiguration()}return __extends(b,a),b.prototype._mergeOptionsIn=function(a){a=a||{};if(a.keyBindings)for(var b in a.keyBindings)a.keyBindings.hasOwnProperty(b)&&(this.keyBindings[b]=this.keyBindings[b]||[],this.keyBindings[b].push(a.keyBindings[b]));a.keyBindings&&delete a.keyBindings,this.tokens=m.mixin(this.tokens,a.tokens),a.tokens&&delete a.tokens,this.editor=m.mixin(this.editor,a)},b.prototype.bindKeys=function(a){var b=this,c=a.bindGroup(function(a){for(var c in b.keyBindings)if(b.keyBindings.hasOwnProperty(c)){var d=b.handlerDispatcher.trigger.bind(b.handlerDispatcher,"keyboard",c),e=b.keyBindings[c];for(var f=0;f<e.length;f++){var g=e[f];a(g,d,{id:c})}}});return c},b.prototype.destroy=function(){},b.prototype.updateOptions=function(a){this._mergeOptionsIn(a),this._readCSSConfiguration(),this.emit(q.EventType.ConfigurationChanged,{})},b.prototype.getEditorClassName=function(){var a="";return k.browser.isIE8?a+="ie8 ":k.browser.isFirefox&&(a+="ff "),k.browser.isMacintosh&&(a+="mac "),"monaco-editor "+a+this.editor.theme},b.prototype.normalizeIndentation=function(a){var b=0,c;for(c=0;c<a.length;c++)a.charAt(c)==="	"?b+=this.editor.tabSize:b++;var d="";if(!this.editor.insertSpaces){var e=Math.floor(b/this.editor.tabSize);b%=this.editor.tabSize;for(c=0;c<e;c++)d+="	"}for(c=0;c<b;c++)d+=" ";return d},b.prototype.getOneIndent=function(){if(this.editor.insertSpaces){var a="";for(var b=0;b<this.editor.tabSize;b++)a+=" ";return a}return"	"},b.prototype._readCSSConfiguration=function(){var a=this;this._withCSSConfiguration(function(b){a.editor.font!==b.font&&(a.editor.font=b.font,a.emit(q.EventType.ConfigurationFontChanged,{font:a.editor.font})),a.editor.lineHeight!==b.lineHeight&&(a.editor.lineHeight=b.lineHeight,a.emit(q.EventType.ConfigurationLineHeightChanged,a.editor.lineHeight))})},b.prototype._withCSSConfiguration=function(a){var b=this,c=this.getEditorClassName();if(s.hasOwnProperty(c))a(s[c]);else{var d=new p.MeasurementHelper;d.measure(function(d){d.measure(d.create("div",c,"just some text"),function(d,e){var f={lineHeight:d.clientHeight,font:b._readFontFromComputedStyle(e)};s[c]=f,a(s[c])})})}},b.prototype._readFontFromComputedStyle=function(a){return a.font?a.font:a.fontFamily+" "+a.fontSize+" "+a.fontSizeAdjust+" "+a.fontStretch+" "+a.fontStyle+" "+a.fontVariant+" "+a.fontWeight+" "},b}(o.EventEmitter);b.Configuration=t});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/viewContentWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewEventHandler"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b,c){a.call(this),this.context=b,this.linesContent=c,this.listenersToRemove=[],this.widgets={},this.shouldRender=!0}return __extends(b,a),b.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=null},b.prototype.onConfigurationLineHeightChanged=function(){return!0},b.prototype.onLayoutChanged=function(a){return!0},b.prototype.onVerticalScrollChanged=function(){return!0},b.prototype.onZonesChanged=function(){return!0},b.prototype.onModelFlushed=function(){return!0},b.prototype.onConfigurationChanged=function(){return!0},b.prototype.addWidget=function(a){this.widgets[a.getId()]={widget:a,position:null,preference:null};var b=a.getDomNode();b.style.position="absolute",b.setAttribute("widgetId",a.getId()),this.linesContent.appendChild(b)},b.prototype.setWidgetPosition=function(a,b,c,d){var e=this.widgets[a.getId()];e.position=b,e.preference=c,this._renderWidget(this._getWidgetRenderData(e,d),e)},b.prototype.removeWidget=function(a){var b=a.getId();if(this.widgets.hasOwnProperty(b)){var c=this.widgets[b],d=c.widget.getDomNode();d.parentNode.removeChild(d),delete this.widgets[b]}},b.prototype._getWidgetRenderData=function(a,b){if(!a.position||!a.preference)return null;var c=this.context.model.validatePosition(a.position),d=b.getOffsetForColumn(c.lineNumber,c.column);return{position:c,horizontalOffset:d}},b.prototype._renderWidget=function(a,b){var c=this;if(!a)return;var d=b.widget.getDomNode(),e=a.position,f=a.horizontalOffset,h=null,i=function(){if(h)return;var a=c.context.layoutProvider.getCurrentViewport();d.style.maxWidth=a.width+"px";var b=d.offsetWidth,g=d.offsetHeight;h=c.context.layoutProvider.layoutBoxInViewport(e.lineNumber,f,b,g)};for(var j=0;j<=1;j++)for(var k=0;k<b.preference.length;k++){var l=b.preference[k];if(l===g.ContentWidgetPositionPreference.ABOVE){i();if(j===1||h.fitsAbove){this.context.layoutManager.setLinesContentDomNodeTop(d,h.aboveTop+2),d.style.left=h.left+"px";return}}else{if(l!==g.ContentWidgetPositionPreference.BELOW){this.context.layoutManager.setLinesContentDomNodeTop(d,this.context.layoutProvider.getVerticalOffsetForLineNumber(e.lineNumber)),d.style.left=f+"px";return}i();if(j===1||h.fitsBelow){this.context.layoutManager.setLinesContentDomNodeTop(d,h.belowTop),d.style.left=h.left+"px";return}}}},b.prototype.prepareRender=function(a){if(!this.shouldRender)return null;var b={},c,d,e,f,g;for(d in this.widgets)this.widgets.hasOwnProperty(d)&&(b[d]=this._getWidgetRenderData(this.widgets[d],a));return b},b.prototype.render=function(a){if(!this.shouldRender)return;this.shouldRender=!1;var b;for(b in a)a.hasOwnProperty(b)&&this._renderWidget(a[b],this.widgets[b])},b}(h.ViewEventHandler);b.ViewContentWidgets=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/parts/viewOverlayWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewEventHandler"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b,c){a.call(this),this.context=b,this.textArea=c,this.widgets={},this.verticalScrollbarWidth=0}return __extends(b,a),b.prototype.destroy=function(){},b.prototype.onLayoutChanged=function(a){return this.verticalScrollbarWidth=a.verticalScrollbarWidth,!0},b.prototype.addWidget=function(a){this.widgets[a.getId()]={widget:a,preference:null};var b=a.getDomNode();b.style.position="absolute",b.setAttribute("widgetId",a.getId()),this.textArea.parentNode.insertBefore(b,this.textArea)},b.prototype.setWidgetPosition=function(a,b){var c=this.widgets[a.getId()];c.preference=b,this._renderWidget(c)},b.prototype.removeWidget=function(a){var b=a.getId();if(this.widgets.hasOwnProperty(b)){var c=this.widgets[b],d=c.widget.getDomNode();d.parentNode.removeChild(d),delete this.widgets[b]}},b.prototype._renderWidget=function(a){if(a.preference===null)return;if(a.preference===g.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER){var b=a.widget.getDomNode();b.style.top="0px",b.style.right=2*this.verticalScrollbarWidth+"px"}},b.prototype.render=function(){if(!this.shouldRender)return;this.shouldRender=!1;var a;for(a in this.widgets)this.widgets.hasOwnProperty(a)&&this._renderWidget(this.widgets[a])},b}(h.ViewEventHandler);b.ViewOverlayWidgets=i}),define("vs/editor/core/position",["require","exports","vs/editor/editor"],function(a,b,c){function e(a){return a&&typeof a.lineNumber=="number"&&typeof a.column=="number"}var d=c;b.isIPosition=e;var f=function(){function a(a,b){this.lineNumber=a,this.column=b}return a.prototype.equals=function(a){return this.lineNumber===a.lineNumber&&this.column===a.column},a.prototype.isBefore=function(a){return this.lineNumber<a.lineNumber?!0:a.lineNumber<this.lineNumber?!1:this.column<a.column},a.prototype.isBeforeOrEqual=function(a){return this.lineNumber<a.lineNumber?!0:a.lineNumber<this.lineNumber?!1:this.column<=a.column},a.prototype.clone=function(){return new a(this.lineNumber,this.column)},a.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},a}();b.Position=f}),define("vs/editor/core/range",["require","exports","vs/editor/core/position","vs/editor/editor"],function(a,b,c,d){function g(a){return a&&typeof a.startLineNumber=="number"&&typeof a.startColumn=="number"&&typeof a.endLineNumber=="number"&&typeof a.endColumn=="number"}function j(a){return new i(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}var e=c,f=d;b.isIRange=g;var h=function(){function a(){}return a.isEmpty=function(b){return b.startLineNumber===b.endLineNumber&&b.startColumn===b.endColumn},a.containsPosition=function(b,c){return c.lineNumber<b.startLineNumber||c.lineNumber>b.endLineNumber?!1:c.lineNumber===b.startLineNumber&&c.column<b.startColumn?!1:c.lineNumber===b.endLineNumber&&c.column>b.endColumn?!1:!0},a.containsRange=function(b,c){return c.startLineNumber<b.startLineNumber||c.endLineNumber<b.startLineNumber?!1:c.startLineNumber>b.endLineNumber||c.endLineNumber>b.endLineNumber?!1:c.startLineNumber===b.startLineNumber&&c.startColumn<b.startColumn?!1:c.endLineNumber===b.endLineNumber&&c.endColumn>b.endColumn?!1:!0},a.plusRange=function(b,c){var d,e,f,g;return c.startLineNumber<b.startLineNumber?(d=c.startLineNumber,e=c.startColumn):c.startLineNumber===b.startLineNumber?(d=c.startLineNumber,e=Math.min(c.startColumn,b.startColumn)):(d=b.startLineNumber,e=b.startColumn),c.endLineNumber>b.endLineNumber?(f=c.endLineNumber,g=c.endColumn):c.endLineNumber===b.endLineNumber?(f=c.endLineNumber,g=Math.max(c.endColumn,b.endColumn)):(f=b.endLineNumber,g=b.endColumn),new i(d,e,f,g)},a.equalsRange=function(b,c){return b.startLineNumber===c.startLineNumber&&b.startColumn===c.startColumn&&b.endLineNumber===c.endLineNumber&&b.endColumn===c.endColumn},a.compareRangesUsingEnds=function(b,c){if(b.endLineNumber===c.endLineNumber)return b.endColumn===c.endColumn?b.startLineNumber===c.startLineNumber?b.startColumn-c.startColumn:b.startLineNumber-c.startLineNumber:b.endColumn-c.endColumn;return b.endLineNumber-c.endLineNumber},a}();b.RangeUtils=h;var i=function(){function a(a,b,c,d){a>c||a===c&&b>d?(this.startLineNumber=c,this.startColumn=d,this.endLineNumber=a,this.endColumn=b):(this.startLineNumber=a,this.startColumn=b,this.endLineNumber=c,this.endColumn=d)}return a.prototype.isEmpty=function(){return h.isEmpty(this)},a.prototype.containsPosition=function(a){return h.containsPosition(this,a)},a.prototype.containsRange=function(a){return h.containsRange(this,a)},a.prototype.plusRange=function(a){return h.plusRange(this,a)},a.prototype.equalsRange=function(a){return h.equalsRange(this,a)},a.prototype.getEndPosition=function(){return new e.Position(this.endLineNumber,this.endColumn)},a.prototype.getStartPosition=function(){return new e.Position(this.startLineNumber,this.startColumn)},a.prototype.cloneRange=function(){return new a(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},a.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},a.prototype.setEndPosition=function(b,c){return new a(this.startLineNumber,this.startColumn,b,c)},a.prototype.setStartPosition=function(b,c){return new a(b,c,this.endLineNumber,this.endColumn)},a}();b.Range=i,b.create=j}),define("vs/editor/core/command/shiftCommand",["require","exports","vs/editor/core/range","vs/editor/editor"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b,c){this._configuration=a,this._isUnshift=b,this._selection=c}return a.prototype.getEditOperations=function(a,b){var c=this._selection.startLineNumber,d=this._selection.endLineNumber;this._selection.endColumn===1&&c!==d&&(d-=1);var f;if(this._isUnshift){var g=this._configuration.editor.tabSize;for(f=c;f<=d;f++){var h=a.getLineContent(f),i;if(h.charAt(0)==="	")i=1;else for(i=0;i<h.length&&i<g;i++){if(h.charAt(i)==="	"){i++;break}if(h.charAt(i)!==" ")break}i!==0&&b.addEditOperation(new e.Range(f,1,f,i+1),null)}}else{var j=this._configuration.getOneIndent();for(f=c;f<=d;f++)b.addEditOperation(new e.Range(f,1,f,1),j)}this._selectionId=b.trackSelection(this._selection)},a.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this._selectionId)},a}();b.ShiftCommand=g}),define("vs/editor/core/controller/keyboardHandler",["require","exports","vs/editor/core/constants","vs/editor/core/range","vs/base/dom/keyboardEvent","vs/base/dom/dom","vs/base/env","vs/base/performance/timer","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q={"Ctrl-C":!0,"Ctrl-X":!0,"Meta-C":!0,"Meta-X":!0},r=function(){function a(a,b){var c=this;this.context=a,this.textArea=b,this.selection=new k.Range(1,1,1,1),this.lookoutTimeout=-1,this.lastCopiedValue=null,this.hasFocus=!1,this.kbController=new l.KeyboardController(this.textArea),this.listenersToRemove=[],this.listenersToRemove.push(this.kbController.addListener("keydown",function(a){return c._onKeyDown(a)})),this.listenersToRemove.push(this.kbController.addListener("keypress",function(a){return c._onKeyPress(a)})),this.listenersToRemove.push(m.addListener(this.textArea,"change",function(a){return c._scheduleLookout(j.Handler.Type)})),this.listenersToRemove.push(m.addListener(this.textArea,"cut",function(a){return c._onCut()})),this.listenersToRemove.push(m.addListener(this.textArea,"copy",function(a){return c._onCopy()})),this.listenersToRemove.push(m.addListener(this.textArea,"paste",function(a){return c._onPaste()})),this.focusGainTimeout=-1;var d=function(){c.focusGainTimeout=-1,c.hasFocus&&c.textArea.select()};this.listenersToRemove.push(this.context.internalEventBus.addListener(j.EventType.ViewFocusGained,function(a){c.hasFocus=!0,c.focusGainTimeout=window.setTimeout(d,0)})),this.listenersToRemove.push(this.context.internalEventBus.addListener(j.EventType.ViewFocusLost,function(a){c.hasFocus=!1})),this.listenersToRemove.push(m.addListener(this.textArea,"contextmenu",function(a){c.textArea.select(),c.focusGainTimeout!==-1&&(window.clearTimeout(c.focusGainTimeout),c.focusGainTimeout=-1)})),this._setSelectionToTextArea()}return a.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.kbController.destroy()},a.prototype._setSelectionToTextArea=function(){var a=o.start(o.Topic.EDITOR,"textArea.select"),b=this.context.cursor.getSelection(),c="";if(b.isEmpty()){var d=b.startLineNumber;b=new k.Range(d,1,d,this.context.model.getLineMaxColumn(d)),c="\n"}this.textArea.value=this.context.model.getValueInRange(b,p.EndOfLinePreference.LF)+c,!n.isTesting()&&this.hasFocus&&this.textArea.select(),a.stop()},a.prototype.selectionChanged=function(a){this.selection=a,this._setSelectionToTextArea()},a.prototype._scheduleLookout=function(a){var b=this;this.lookoutTimeout!==-1&&window.clearTimeout(this.lookoutTimeout),this.lookoutTimeout=window.setTimeout(function(){return b._lookout(a)},0)},a.prototype._lookout=function(a){this.lookoutTimeout=-1;if(this.textArea.selectionStart===this.textArea.selectionEnd){var b=this.textArea.value;if(b!==""){var c={text:b,sameSource:!1};a===j.Handler.Paste&&(c.sameSource=b===this.lastCopiedValue),this.context.configuration.handlerDispatcher.trigger("keyboard",a,c)}}this._setSelectionToTextArea()},a.prototype._onPaste=function(){this.focusGainTimeout!==-1&&(window.clearTimeout(this.focusGainTimeout),this.focusGainTimeout=-1),this.textArea.selectionStart!==this.textArea.selectionEnd&&(this.textArea.value=""),this._scheduleLookout(j.Handler.Paste)},a.prototype._onCopy=function(){this.lastCopiedValue=this.selection.isEmpty()?this.textArea.value:null},a.prototype._onCut=function(){var a=this;window.setTimeout(function(){a.context.configuration.handlerDispatcher.trigger("keyboard",j.Handler.Cut,null),a._setSelectionToTextArea()},0)},a.prototype._onKeyDown=function(a){this.context.internalEventBus.emit(j.EventType.KeyDown,{})},a.prototype._onKeyPress=function(a){if(!this.hasFocus)return;if(n.browser.isOpera&&n.browser.isWindows){if(a.asString()==="Ctrl-X"){this._onCut();return}if(a.asString()==="Ctrl-V"){this._onPaste();return}if(a.asString()==="Ctrl-C"){this._onCopy();return}}this.textArea.selectionStart!==this.textArea.selectionEnd&&(q.hasOwnProperty(a.asString())||(this.textArea.value="")),this._scheduleLookout(j.Handler.Type)},a}();b.KeyboardHandler=r}),define("vs/editor/core/controller/mouseHandler",["require","exports","vs/base/env","vs/editor/core/constants","vs/editor/core/position","vs/editor/core/range","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(){function a(a,b,c,d,e){typeof c=="undefined"&&(c=null),typeof d=="undefined"&&(d=null),typeof e=="undefined"&&(e=null),this.element=a,this.type=b,this.position=c,!d&&c&&(d=new n.Range(c.lineNumber,c.column,c.lineNumber,c.column)),this.range=d,this.detail=e}return a.prototype._typeToString=function(){return this.type===r.MouseTargetType.TEXTAREA?"TEXTAREA":this.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":this.type===r.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":this.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":this.type===r.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":this.type===r.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":this.type===r.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":this.type===r.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":this.type===r.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":this.type===r.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":this.type===r.MouseTargetType.SCROLLBAR?"SCROLLBAR":this.type===r.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},a.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},a}(),t=function(){function a(a,b,c){this.context=a,this.viewDomNodes=b,this.lineInfoProvider=c}return a.prototype.createMouseTarget=function(a,b){var c=Math.max(0,this.context.layoutManager.getScrollTop()+(b.posy-a.top)),d=this.context.layoutManager.getScrollLeft()+(b.posx-a.left),e=b.target,f=e.hasAttribute("lineNumber")?e.getAttribute("lineNumber"):null,g=e.hasAttribute("column")?e.getAttribute("column"):null;if(f&&g)return this.createMouseTargetFromViewCursor(e,parseInt(f,10),parseInt(g,10));if(e===this.viewDomNodes.textAreaCover)return this.context.configuration.editor.glyphMargin?this.createMouseTargetFromGlyphMargin(e,c):this.context.configuration.editor.lineNumbers?this.createMouseTargetFromLineNumbers(e,c):this.createMouseTargetFromLinesDecorationsChild(e,c);if(e===this.viewDomNodes.textArea)return new s(e,r.MouseTargetType.TEXTAREA);if(e===this.viewDomNodes.viewLines)return this.createMouseTargetFromViewLines(e,c);if(this._isChild(e,this.viewDomNodes.viewLines,this.viewDomNodes.view)){var h=this._doHitTest(b);if(h.position)return this.createMouseTargetFromHitTestPosition(e,h.position.lineNumber,h.position.column,d);h.hitTarget&&(e=h.hitTarget)}return this._isChild(e,this.viewDomNodes.linesContent,this.viewDomNodes.view)?this.createMouseTargetFromUnknownLinesContentChild(e):this._isChild(e,this.viewDomNodes.linesDecorations,this.viewDomNodes.view)?this.createMouseTargetFromLinesDecorationsChild(e,c):this._isChild(e,this.viewDomNodes.lineNumbers,this.viewDomNodes.view)?this.createMouseTargetFromLineNumbers(e,c):this._isChild(e,this.viewDomNodes.glyphMargin,this.viewDomNodes.view)?this.createMouseTargetFromGlyphMargin(e,c):this._isChild(e,this.context.layoutManager.getScrollbarContainerDomNode(),this.viewDomNodes.view)?this.createMouseTargetFromScrollbar(e,c):this.createMouseTargetFromUnknownTarget(e)},a.prototype._isChild=function(a,b,c){while(a&&a!==document.body){if(a===b)return!0;if(a===c)return!1;a=a.parentNode}return!1},a.prototype._findAttribute=function(a,b,c){while(a&&a!==document.body){if(a.hasAttribute(b))return a.getAttribute(b);if(a===c)return null;a=a.parentNode}return null},a.prototype._doHitTestWithCaretRangeFromPoint=function(a){var b=null,c=null,d=a.posx-document.body.scrollLeft-document.documentElement.scrollLeft,e=a.posy-document.body.scrollTop-document.documentElement.scrollTop,f=document.caretRangeFromPoint(d,e),g=f?f.startContainer:null,h=g?g.parentNode:null,i=h?h.parentNode:null,j=i?i.parentNode:null;return i===this.viewDomNodes.viewLines||j===this.viewDomNodes.viewLines?b=this.lineInfoProvider.getPositionFromDOMInfo(f.startContainer.parentNode,f.startOffset):c=h,f.detach(),{position:b,hitTarget:c}},a.prototype._doHitTestWithRangeProperties=function(a){var b=null,c=null,d,e;a.browserEvent.rangeParent?(d=a.browserEvent.rangeParent,e=a.browserEvent.rangeOffset):(d=a.extraData.rangeParent,e=a.extraData.rangeOffset);var f=document.createRange();return f.setStart(d,e),f.collapse(!0),b=this.lineInfoProvider.getPositionFromDOMInfo(f.startContainer.parentNode,f.startOffset),f.detach(),{position:b,hitTarget:c}},a.prototype._doHitTestWithMoveToPoint=function(a){var b=null,c=null,d=document.body.createTextRange();try{var e=a.posx-document.body.scrollLeft-document.documentElement.scrollLeft,f=a.posy-document.body.scrollTop-document.documentElement.scrollTop;d.moveToPoint(e,f)}catch(g){return{position:null,hitTarget:null}}d.collapse(!0);var h=d?d.parentElement():null,i=h?h.parentNode:null,j=i?i.parentNode:null;if(i===this.viewDomNodes.viewLines||j===this.viewDomNodes.viewLines){var k=d.duplicate();k.moveToElementText(h),k.setEndPoint("EndToStart",d),b=this.lineInfoProvider.getPositionFromDOMInfo(h,k.text.length)}else c=h;return{position:b,hitTarget:c}},a.prototype._doHitTest=function(a){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(a):a.extraData||a.browserEvent.rangeParent?this._doHitTestWithRangeProperties(a):document.body.createTextRange?this._doHitTestWithMoveToPoint(a):{position:null,hitTarget:null}},a.prototype._getZoneAtCoord=function(a){var b=this.context.layoutProvider.getWhitespaceAtVerticalOffset(a);if(b){var c=b.computedAbsoluteTop+b.computedAccumulatedHeight/2,d,e,f=this.context.model.getLineCount();b.afterLineNumber===f||a<c&&b.afterLineNumber>0?(d=b.afterLineNumber,e=this.context.model.getLineMaxColumn(d)):(d=b.afterLineNumber+1,e=1);var g=new m.Position(d,e);return{viewZoneId:b.id,position:g}}return null},a.prototype._getFullLineRangeAtCoord=function(a){var b=this.context.layoutProvider.getLineNumberAtVerticalOffset(a),c=this.context.model.getLineMaxColumn(b);return new n.Range(b,1,b,c)},a.prototype.createMouseTargetFromViewCursor=function(a,b,c){return new s(a,r.MouseTargetType.CONTENT_TEXT,new m.Position(b,c))},a.prototype.createMouseTargetFromViewLines=function(a,b){var c=this._getZoneAtCoord(b);if(c)return new s(a,r.MouseTargetType.CONTENT_VIEW_ZONE,c.position,null,c.viewZoneId);var d=this.context.model.getLineCount(),e=this.context.model.getLineMaxColumn(d);return new s(a,r.MouseTargetType.CONTENT_EMPTY,new m.Position(d,e))},a.prototype.createMouseTargetFromHitTestPosition=function(a,b,c,d){var e=new m.Position(b,c),f=this.lineInfoProvider.getLineWidth(b);if(d>f)return new s(a,r.MouseTargetType.CONTENT_EMPTY,e);var g=this.lineInfoProvider.getOffsetForColumn(b,c);if(d===g)return new s(a,r.MouseTargetType.CONTENT_TEXT,e);var h;if(c>1){var i=this.lineInfoProvider.getOffsetForColumn(b,c);h=!1,h=h||i<d&&d<g,h=h||g<d&&d<i;if(h){var j=new n.Range(b,c,b,c-1);return new s(a,r.MouseTargetType.CONTENT_TEXT,e,j)}}var k=this.context.model.getLineMaxColumn(b);if(c<k){var l=this.lineInfoProvider.getOffsetForColumn(b,c+1);h=!1,h=h||g<d&&d<l,h=h||l<d&&d<g;if(h){var j=new n.Range(b,c,b,c+1);return new s(a,r.MouseTargetType.CONTENT_TEXT,e,j)}}return new s(a,r.MouseTargetType.CONTENT_TEXT,e)},a.prototype.createMouseTargetFromUnknownLinesContentChild=function(a){var b=this._findAttribute(a,"widgetId",this.viewDomNodes.view);return b?new s(a,r.MouseTargetType.CONTENT_WIDGET,null,null,b):new s(a,r.MouseTargetType.UNKNOWN)},a.prototype.createMouseTargetFromLinesDecorationsChild=function(a,b){var c=this._getZoneAtCoord(b);if(c)return new s(a,r.MouseTargetType.GUTTER_VIEW_ZONE,c.position,null,c.viewZoneId);var d=this._getFullLineRangeAtCoord(b);return new s(a,r.MouseTargetType.GUTTER_LINE_DECORATIONS,new m.Position(d.startLineNumber,1),d)},a.prototype.createMouseTargetFromLineNumbers=function(a,b){var c=this._getZoneAtCoord(b);if(c)return new s(a,r.MouseTargetType.GUTTER_VIEW_ZONE,c.position,null,c.viewZoneId);var d=this._getFullLineRangeAtCoord(b);return new s(a,r.MouseTargetType.GUTTER_LINE_NUMBERS,new m.Position(d.startLineNumber,1),d)},a.prototype.createMouseTargetFromGlyphMargin=function(a,b){var c=this._getZoneAtCoord(b);if(c)return new s(a,r.MouseTargetType.GUTTER_VIEW_ZONE,c.position,null,c.viewZoneId);var d=this._getFullLineRangeAtCoord(b);return new s(a,r.MouseTargetType.GUTTER_GLYPH_MARGIN,new m.Position(d.startLineNumber,1),d)},a.prototype.createMouseTargetFromScrollbar=function(a,b){return new s(a,r.MouseTargetType.SCROLLBAR)},a.prototype.createMouseTargetFromUnknownTarget=function(a){var b=this._isChild(a,this.viewDomNodes.view,this.viewDomNodes.view),c=null;return b&&(c=this._findAttribute(a,"widgetId",this.viewDomNodes.view)),c?new s(a,r.MouseTargetType.OVERLAY_WIDGET,null,null,c):new s(a,r.MouseTargetType.UNKNOWN)},a}();b.MouseTargetFactory=t;var u=function(){function a(a,b,c){var d=this;this.context=a,this.viewDomNodes=b,this.lineInfoProvider=c,this.mouseTargetFactory=new t(this.context,this.viewDomNodes,this.lineInfoProvider),this.listenersToRemove=[],this.hideTextAreaTimeout=-1,this._hookUnbind=[],this._hookDispose=[],this.lastMouseEvent=null,this.lastMouseDownPosition=null,this.lastMouseDownPositionEqualCount=0,this.lastMouseDownCount=0,this.lastSetMouseDownCountTime=0,this.onScrollTimeout=-1,this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"mousedown",function(a){return d._onCaptureMouseDown(a)},!0)),this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"contextmenu",function(a){return d._onContextMenu(a)})),this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"mousemove",function(a){return d._onMouseMove(a)})),this.listenersToRemove.push(p.addNonBubblingMouseOutListener(this.viewDomNodes.view,function(a){return d._onMouseLeave(a)})),this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"mousedown",function(a){return d._onMouseDown(a)})),k.browser.isIE8&&(this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"dblclick",function(a){return d._onIE8DblClick(a)})),this.listenersToRemove.push(p.addListener(this.viewDomNodes.view,"mouseup",function(a){var b=new o.MouseEvent(a),c=p.getDomNodePosition(d.viewDomNodes.linesContent),e=d.mouseTargetFactory.createMouseTarget(c,b);(e.type===r.MouseTargetType.CONTENT_EMPTY||e.type===r.MouseTargetType.CONTENT_TEXT)&&d.viewDomNodes.textArea.focus()})))}return a.CLEAR_MOUSE_DOWN_COUNT_TIME=400,a.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this._unhook(),this.hideTextAreaTimeout!==-1&&(window.clearTimeout(this.hideTextAreaTimeout),this.hideTextAreaTimeout=-1)},a.prototype._stickTextAreaInFront=function(){var a=this,b=this.context.layoutProvider.getLayoutInfo();this.viewDomNodes.textArea.style.width=b.width+"px",this.viewDomNodes.textArea.style.height=b.height+1e4+"px",this.viewDomNodes.textArea.style.top="-10000px",this.viewDomNodes.textArea.select(),k.browser.isIE8?this.viewDomNodes.textArea.style.filter="alpha(opacity=0)":this.viewDomNodes.textArea.style.background="rgba(0,0,0,0)",this.hideTextAreaTimeout!==-1&&window.clearTimeout(this.hideTextAreaTimeout),this.hideTextAreaTimeout=window.setTimeout(function(){a.hideTextAreaTimeout=-1,a.viewDomNodes.textArea.style.top="0",a.viewDomNodes.textArea.style.width="4px",a.viewDomNodes.textArea.style.height="4px"},300)},a.prototype._onCaptureMouseDown=function(a){if(!this.context.configuration.editor.nativeContextMenu)return;var b=new o.MouseEvent(a);if(!b.rightButton)return;var c=p.getDomNodePosition(this.viewDomNodes.linesContent),d=this.mouseTargetFactory.createMouseTarget(c,b);(d.type===r.MouseTargetType.CONTENT_TEXT||d.type===r.MouseTargetType.CONTENT_EMPTY)&&this._stickTextAreaInFront()},a.prototype._onContextMenu=function(a){var b=new o.MouseEvent(a),c=p.getDomNodePosition(this.viewDomNodes.linesContent),d=this.mouseTargetFactory.createMouseTarget(c,b),e={event:b,target:d};this.context.internalEventBus.emit(l.EventType.ContextMenu,e)},a.prototype._onMouseMove=function(a){if(this._hookUnbind.length!==0||this._hookDispose.length!==0)return;var b=new o.MouseEvent(a),c=p.getDomNodePosition(this.viewDomNodes.linesContent),d=this.mouseTargetFactory.createMouseTarget(c,b),e={event:b,target:d};this.context.internalEventBus.emit(l.EventType.MouseMove,e)},a.prototype._onMouseLeave=function(a){var b={event:new o.MouseEvent(a),target:null};this.context.internalEventBus.emit(l.EventType.MouseLeave,b)},a.prototype._onMouseDown=function(a){var b=this,c=new o.MouseEvent(a),d=p.getDomNodePosition(this.viewDomNodes.linesContent),e=this.mouseTargetFactory.createMouseTarget(d,c);!c.leftButton||e.type!==r.MouseTargetType.CONTENT_TEXT&&e.type!==r.MouseTargetType.CONTENT_EMPTY?(e.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN||e.type===r.MouseTargetType.GUTTER_LINE_NUMBERS||e.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS)&&c.preventDefault():(k.browser.isIE?setTimeout(function(){b.viewDomNodes.textArea.focus()}):(c.preventDefault(),this.viewDomNodes.textArea.focus()),this._updateMouse(c,c.shiftKey,c.detail),this._hook());var f={event:c,target:e};this.context.internalEventBus.emit(l.EventType.MouseDown,f)},a.prototype._onIE8DblClick=function(a){var b=new o.MouseEvent(a),c=p.getDomNodePosition(this.viewDomNodes.linesContent),d=this.mouseTargetFactory.createMouseTarget(c,b);if(d.type===r.MouseTargetType.CONTENT_TEXT||d.type===r.MouseTargetType.CONTENT_EMPTY)this._updateMouse(b,b.shiftKey,b.detail),b.preventDefault(),this.viewDomNodes.textArea.focus()},a.prototype._hookedOnScroll=function(a){var b=this;this.onScrollTimeout===-1&&(this.onScrollTimeout=window.setTimeout(function(){b.onScrollTimeout=-1,b._updateMouse(null,!0)},10))},a.prototype._hookedOnDocumentMouseMove=function(a){this._updateMouse(a,!0),this.viewDomNodes.textArea.focus()},a.prototype._hookedOnDocumentMouseUp=function(a){var b=new o.MouseEvent(a);b.leftButton&&this._unhook()},a.prototype._hook=function(){var a=this;if(this._hookUnbind.length>0||this._hookDispose.length>0)return;var b=function(a,b){var c=null;b.rangeParent&&(c={rangeParent:b.rangeParent,rangeOffset:b.rangeOffset});var d=new o.MouseEvent(b,c);return d.preventDefault(),d};this._hookUnbind.push(p.addThrottledListener(document,"mousemove",function(b){return a._hookedOnDocumentMouseMove(b)},b)),this._hookUnbind.push(p.addListener(document,"mouseup",function(b){return a._hookedOnDocumentMouseUp(b)})),this._hookDispose.push(this.context.layoutManager.addScrollListener(function(b){return a._hookedOnScroll(b)})),k.isInIframe()&&(this._hookUnbind.push(p.addListener(document,"mouseout",function(b){var c=new o.MouseEvent(b);c.target.tagName.toLowerCase()==="html"&&a._unhook()})),this._hookUnbind.push(p.addListener(document,"mouseover",function(b){var c=new o.MouseEvent(b);c.target.tagName.toLowerCase()==="html"&&a._unhook()})),this._hookUnbind.push(p.addListener(document.body,"mouseleave",function(b){a._unhook()})))},a.prototype._unhook=function(){this._hookUnbind.forEach(function(a){a()}),this._hookUnbind=[],this._hookDispose=q.dispose(this._hookDispose),this.onScrollTimeout!==-1&&(window.clearTimeout(this.onScrollTimeout),this.onScrollTimeout=-1)},a.prototype._getPositionOutsideEditor=function(a,b){var c;return b.posy<a.top?(c=this.context.layoutProvider.getLineNumberAtVerticalOffset(Math.max(this.context.layoutManager.getScrollTop()-(a.top-b.posy),0)),{lineNumber:c,column:1}):b.posy>a.top+a.height?(c=this.context.layoutProvider.getLineNumberAtVerticalOffset(Math.min(this.context.layoutManager.getScrollTop()+(b.posy-a.top),this.viewDomNodes.viewLines.clientHeight)),{lineNumber:c,column:this.context.model.getLineMaxColumn(c)}):(c=this.context.layoutProvider.getLineNumberAtVerticalOffset(this.context.layoutManager.getScrollTop()+(b.posy-a.top)),b.posx<a.left?{lineNumber:c,column:1}:b.posx>a.left+a.width?{lineNumber:c,column:this.context.model.getLineMaxColumn(c)}:null)},a.prototype._updateMouse=function(b,c,d){typeof d=="undefined"&&(d=0),b=b||this.lastMouseEvent,this.lastMouseEvent=b;var e=p.getDomNodePosition(this.viewDomNodes.linesContent),f=this._getPositionOutsideEditor(e,b),g,h;if(f)g=f.lineNumber,h=f.column;else{var i=this.mouseTargetFactory.createMouseTarget(e,b),j=i.position;if(!j)return;g=j.lineNumber,h=j.column}if(d){var n=(new Date).getTime();n-this.lastSetMouseDownCountTime>a.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this.lastSetMouseDownCountTime=n,d>this.lastMouseDownCount+1&&(d=this.lastMouseDownCount+1);var o=new m.Position(g,h);this.lastMouseDownPosition&&this.lastMouseDownPosition.equals(o)?this.lastMouseDownPositionEqualCount++:this.lastMouseDownPositionEqualCount=1,this.lastMouseDownPosition=o,this.lastMouseDownCount=Math.min(d,this.lastMouseDownPositionEqualCount),b.detail=this.lastMouseDownCount}if(this.lastMouseDownCount>=4)this.context.configuration.handlerDispatcher.trigger("mouse",l.Handler.SelectAll,null);else if(this.lastMouseDownCount===3)(k.browser.isMacintosh?b.metaKey:b.ctrlKey)?this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.LastCursorLineSelectDrag:l.Handler.LastCursorLineSelect,{position:new m.Position(g,h),source:"mouse"}):this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.LineSelectDrag:l.Handler.LineSelect,{position:new m.Position(g,h),source:"mouse"});else if(this.lastMouseDownCount===2){var q=e.left+this.lineInfoProvider.getOffsetForColumn(g,h),r="none";b.posx>q?r="right":b.posx<q&&(r="left"),(k.browser.isMacintosh?b.metaKey:b.ctrlKey)?this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.LastCursorWordSelectDrag:l.Handler.LastCursorWordSelect,{position:new m.Position(g,h),preference:r,source:"mouse"}):this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.WordSelectDrag:l.Handler.WordSelect,{position:new m.Position(g,h),preference:r,source:"mouse"})}else(k.browser.isMacintosh?b.metaKey:b.ctrlKey)?this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.CreateCursorSelect:l.Handler.CreateCursor,{position:new m.Position(g,h),source:"mouse"}):this.context.configuration.handlerDispatcher.trigger("mouse",c?l.Handler.MoveToSelect:l.Handler.MoveTo,{position:new m.Position(g,h),source:"mouse"})},a}();b.MouseHandler=u});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/controller/pointerHandler",["require","exports","vs/editor/core/constants","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/editor/core/controller/mouseHandler"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=function(a){function b(b,c,d){var e=this;a.call(this,b,c,d);var f=function(a,b){var c={translationY:b.translationY,translationX:b.translationX};return a&&(c.translationY+=a.translationY,c.translationX+=a.translationX),c};c.linesContent.style.msTouchAction="none",c.linesContent.style.msContentZooming="none",window.setTimeout(function(){if(window.MSGesture){var a=new MSGesture;a.target=c.linesContent,c.linesContent.addEventListener("MSPointerDown",function(b){b.pointerType===b.MSPOINTER_TYPE_MOUSE?e._lastPointerType="mouse":b.pointerType===b.MSPOINTER_TYPE_TOUCH?e._lastPointerType="touch":e._lastPointerType="pen";if(e._lastPointerType==="mouse")return;a.addPointer(b.pointerId)}),e.listenersToRemove.push(i.addThrottledListener(c.linesContent,"MSGestureChange",function(a){return e._onGestureChange(a)},f)),e.listenersToRemove.push(i.addListener(c.linesContent,"MSGestureTap",function(a){return e._onCaptureGestureTap(a)},!0)),e.listenersToRemove.push(i.addListener(c.linesContent,"MSGestureHold",function(a){return e._onCaptureGestureHold(a)},!0))}},100),this._lastPointerType="mouse"}return __extends(b,a),b.prototype._onMouseDown=function(b){this._lastPointerType==="mouse"&&a.prototype._onMouseDown.call(this,b)},b.prototype._onCaptureMouseDown=function(b){this._lastPointerType==="mouse"&&a.prototype._onCaptureMouseDown.call(this,b)},b.prototype._onCaptureGestureTap=function(a){this._stickTextAreaInFront();var b=new h.MouseEvent(a),c=i.getDomNodePosition(this.viewDomNodes.linesContent),d=this.mouseTargetFactory.createMouseTarget(c,b);d.position&&this.context.configuration.handlerDispatcher.trigger("mouse",g.Handler.MoveTo,{position:d.position,source:"mouse"})},b.prototype._onCaptureGestureHold=function(a){this._stickTextAreaInFront()},b.prototype._onGestureChange=function(a){var b=this.context.layoutManager.getScrollTop()-a.translationY,c=this.context.layoutManager.getScrollLeft()-a.translationX;this.context.layoutManager.setScrollTop(b),this.context.layoutManager.setScrollLeft(c)},b.prototype.destroy=function(){a.prototype.destroy.call(this)},b}(j.MouseHandler),l=function(){function a(a,b,c){window.navigator.msPointerEnabled?this.handler=new k(a,b,c):this.handler=new j.MouseHandler(a,b,c)}return a.prototype.destroy=function(){this.handler.destroy()},a}();b.PointerHandler=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layers/selectionLayer",["require","exports","vs/editor/core/range","vs/editor/core/view/layers/viewLayer","vs/editor/core/view/viewContext"],function(a,b,c,d,e){var f=c,g=d,h=e;(function(a){a._map=[],a._map[0]="EXTERN",a.EXTERN=0,a._map[1]="INTERN",a.INTERN=1,a._map[2]="FLAT",a.FLAT=2})(b.CornerStyle||(b.CornerStyle={}));var i=b.CornerStyle,j=function(a){function b(b){a.call(this,b),this.domNode.className="view-selection-layer",this.selection=new f.Range(1,1,1,1),this.secondarySelections=[],this.visibleRangesHaveStyle=!1}return __extends(b,a),b.SELECTION_CLASS_NAME="selected-text",b.SELECTION_TOP_LEFT="top-left-radius",b.SELECTION_BOTTOM_LEFT="bottom-left-radius",b.SELECTION_TOP_RIGHT="top-right-radius",b.SELECTION_BOTTOM_RIGHT="bottom-right-radius",b.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",b.NEW_LINE_WIDTH=10,b.prototype.onVerticalScrollChanged=function(){var b=a.prototype.onVerticalScrollChanged.call(this);return this.visibleRangesHaveStyle&&!this._allSelectionsAreEmpty()&&this._lines.length>0&&(this._lines[0].isInvalid=!0,this._lines[this._lines.length-1].isInvalid=!0),b=!0,b},b.prototype.onCursorSelectionChanged=function(b){var c=a.prototype.onCursorSelectionChanged.call(this,b);this._onOneCursorSelectionChanged(this.selection,b.selection)&&(c=!0),this.selection=b.selection.cloneRange();if(this.secondarySelections.length>b.secondarySelections.length){var d=this.secondarySelections.length-b.secondarySelections.length;for(var e=0;e<d;e++){var g=this.secondarySelections[this.secondarySelections.length-1];this.secondarySelections.splice(this.secondarySelections.length-1,1),this._onOneCursorSelectionChanged(g,new f.Range(1,1,1,1))&&(c=!0)}}for(var e=0,h=b.secondarySelections.length;e<h;e++)e>=this.secondarySelections.length&&this.secondarySelections.push(new f.Range(1,1,1,1)),this._onOneCursorSelectionChanged(this.secondarySelections[e],b.secondarySelections[e])&&(c=!0),this.secondarySelections[e]=b.secondarySelections[e].cloneRange();return c},b.prototype._onOneCursorSelectionChanged=function(a,b){var c,d,e,f=!1;if(a.isEmpty()){if(!b.isEmpty()){d=Math.max(b.startLineNumber-this._rendLineNumberStart,0),e=Math.min(b.endLineNumber-this._rendLineNumberStart,this._lines.length-1);for(c=d;c<=e;c++)this._lines[c].isInvalid=!0;f=!0}}else if(b.isEmpty()){d=Math.max(a.startLineNumber-this._rendLineNumberStart,0),e=Math.min(a.endLineNumber-this._rendLineNumberStart,this._lines.length-1);for(c=d;c<=e;c++)this._lines[c].isInvalid=!0;f=!0}else{if(a.startLineNumber!==b.startLineNumber||a.startColumn!==b.startColumn){d=Math.min(a.startLineNumber,b.startLineNumber),e=Math.max(a.startLineNumber,b.startLineNumber),this._context.configuration.editor.roundedSelection&&e<a.endLineNumber&&e++,d=Math.max(d-this._rendLineNumberStart,0),e=Math.min(e-this._rendLineNumberStart,this._lines.length-1);for(c=d;c<=e;c++)this._lines[c].isInvalid=!0;f=!0}if(a.endLineNumber!==b.endLineNumber||a.endColumn!==b.endColumn){d=Math.min(a.endLineNumber,b.endLineNumber),e=Math.max(a.endLineNumber,b.endLineNumber),this._context.configuration.editor.roundedSelection&&d>a.startLineNumber&&d--,d=Math.max(d-this._rendLineNumberStart,0),e=Math.min(e-this._rendLineNumberStart,this._lines.length-1);for(c=d;c<=e;c++)this._lines[c].isInvalid=!0;f=!0}}return f},b.prototype._createSelectionPiece=function(a,b,c){var d;return d='<span class="',d+=a,d+='" style="position:absolute;left:',d+=b,d+="px;width:",d+=c,d+="px;height:",d+=this._context.configuration.editor.lineHeight,d+='px;"></span>',d},b.prototype._doGetLineInnerHTML=function(a,c,d){var e=a.visibleRanges[c-a.visibleRangesDeltaLineNumber],f="";if(e){var g;for(var h=0;h<e.length;h++){var j=e[h];if(this.visibleRangesHaveStyle){if(j.startStyle.top===i.INTERN||j.startStyle.bottom===i.INTERN)f+=this._createSelectionPiece(b.SELECTION_CLASS_NAME,j.offsetLeft-b.NEW_LINE_WIDTH,b.NEW_LINE_WIDTH),g=b.EDITOR_BACKGROUND_CLASS_NAME,j.startStyle.top===i.INTERN&&(g+=" "+b.SELECTION_TOP_RIGHT),j.startStyle.bottom===i.INTERN&&(g+=" "+b.SELECTION_BOTTOM_RIGHT),f+=this._createSelectionPiece(g,j.offsetLeft-b.NEW_LINE_WIDTH,b.NEW_LINE_WIDTH);if(j.endStyle.top===i.INTERN||j.endStyle.bottom===i.INTERN)f+=this._createSelectionPiece(b.SELECTION_CLASS_NAME,j.offsetRight,b.NEW_LINE_WIDTH),g=b.EDITOR_BACKGROUND_CLASS_NAME,j.endStyle.top===i.INTERN&&(g+=" "+b.SELECTION_TOP_LEFT),j.endStyle.bottom===i.INTERN&&(g+=" "+b.SELECTION_BOTTOM_LEFT),f+=this._createSelectionPiece(g,j.offsetRight,b.NEW_LINE_WIDTH)}g=b.SELECTION_CLASS_NAME,this.visibleRangesHaveStyle&&(j.startStyle.top===i.EXTERN&&(g+=" "+b.SELECTION_TOP_LEFT),j.startStyle.bottom===i.EXTERN&&(g+=" "+b.SELECTION_BOTTOM_LEFT),j.endStyle.top===i.EXTERN&&(g+=" "+b.SELECTION_TOP_RIGHT),j.endStyle.bottom===i.EXTERN&&(g+=" "+b.SELECTION_BOTTOM_RIGHT)),f+=this._createSelectionPiece(g,j.offsetLeft,j.offsetRight-j.offsetLeft)}}return f},b.prototype._normalizeVisibleRanges=function(a){var b,c,d,e,f,g,h,i,j=function(a,b){return a.offsetLeft-b.offsetLeft},k=!1;for(b=0,c=a.length;b<c;b++){f=a[b];if(f&&f.length>0){f.sort(j),g=[],h=f[0],g.push(h);for(d=1,e=f.length;d<e;d++)i=f[d],i.offsetLeft<=h.offsetRight?h.offsetRight=Math.max(h.offsetRight,i.offsetRight):(k=!0,h=i,g.push(h));a[b]=g}}return k},b.prototype._enrichVisibleRangesWithStyle=function(a){var b,c,d,e,f,g,h,j;for(var k=0,l=a.length;k<l;k++){e=a[k],f=k>0?a[k-1]:null,g=k+1<l?a[k+1]:null;if(!e||e.length===0)continue;b=e&&e.length>0?e[0]:null,c=f&&f.length>0?f[0]:null,d=g&&g.length>0?g[0]:null,h={top:i.EXTERN,bottom:i.EXTERN},j={top:i.EXTERN,bottom:i.EXTERN},c&&(b.offsetLeft===c.offsetLeft?h.top=i.FLAT:b.offsetLeft>c.offsetLeft&&(h.top=i.INTERN),b.offsetRight===c.offsetRight?j.top=i.FLAT:c.offsetLeft<b.offsetRight&&b.offsetRight<c.offsetRight&&(j.top=i.INTERN)),d&&(b.offsetLeft===d.offsetLeft?h.bottom=i.FLAT:d.offsetLeft<b.offsetLeft&&b.offsetLeft<d.offsetRight&&(h.bottom=i.INTERN),b.offsetRight===d.offsetRight?j.bottom=i.FLAT:b.offsetRight<d.offsetRight&&(j.bottom=i.INTERN)),b.startStyle=h,b.endStyle=j}},b.prototype._allSelectionsAreEmpty=function(){if(!this.selection.isEmpty())return!1;for(var a=0,b=this.secondarySelections.length;a<b;a++)if(!this.secondarySelections[a].isEmpty())return!1;return!0},b.prototype._prepareVisibleRangesForOneSelection=function(a,c,d,e,f,g){if(c.isEmpty())return;var h=c.startLineNumber,i=c.endLineNumber,j=Math.max(h,d),k=Math.min(i,e);for(var l=j;l<=k;l++){var m=l===h?c.startColumn:1,n=l===i?c.endColumn:this._context.model.getLineMaxColumn(l),o=l>h&&l<i,p=l<i,q;if(o)q=[{offsetLeft:0,offsetRight:a.getLineWidth(l)+b.NEW_LINE_WIDTH}];else{q=a.visibleRangesForRange(l,m,n);if(p){q=q||[];var r=a.getLineWidth(l);q.push({offsetLeft:r-1,offsetRight:r+b.NEW_LINE_WIDTH})}}q&&(f[l-g]=f[l-g].concat(q))}},b.prototype.prepareRender=function(a){if(!this.shouldRender)return null;if(this._allSelectionsAreEmpty())return null;this._decideIfLinesAreInvalid();var b={};for(e=0;e<this._lines.length;e++)b[(e+this._rendLineNumberStart).toString()]=!this._lines[e].isInvalid;var c=Number.MAX_VALUE,d=Number.MIN_VALUE;this.selection.isEmpty()||(c=Math.min(c,this.selection.startLineNumber),d=Math.max(d,this.selection.endLineNumber));for(var e=0,f=this.secondarySelections.length;e<f;e++){var g=this.secondarySelections[e];g.isEmpty()||(c=Math.min(c,g.startLineNumber),d=Math.max(d,g.endLineNumber))}var h=this._context.layoutProvider.getLinesInViewport(),i=Math.max(c,h.startLineNumber),j=Math.min(d,h.endLineNumber);if(i>j)return null;var k=[],l=i;for(var m=i;m<=j;m++)k[m-i]=[];this._prepareVisibleRangesForOneSelection(a,this.selection,i,j,k,i);for(var e=0,f=this.secondarySelections.length;e<f;e++)this._prepareVisibleRangesForOneSelection(a,this.secondarySelections[e],i,j,k,i);var n=this._normalizeVisibleRanges(k);return this.visibleRangesHaveStyle=!1,!n&&this._context.configuration.editor.roundedSelection&&(this._enrichVisibleRangesWithStyle(k),this.visibleRangesHaveStyle=!0),{visibleRanges:k,startLineNumber:i,stopLineNumber:j,visibleRangesDeltaLineNumber:l}},b.prototype.render=function(a){if(!this.shouldRender)return;this.shouldRender=!1,a===null?this._renderLines(null,0,0):this._renderLines(a,a.startLineNumber,a.stopLineNumber)},b}(g.ViewLayer);b.SelectionLayer=j});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/selection",["require","exports","vs/editor/core/range","vs/editor/editor"],function(a,b,c,d){function g(a){return a&&typeof a.selectionStartLineNumber=="number"&&typeof a.selectionStartColumn=="number"&&typeof a.positionLineNumber=="number"&&typeof a.positionColumn=="number"}function h(a,b,c,d,e){return e===f.SelectionDirection.LTR?new i(a,b,c,d):new i(c,d,a,b)}var e=c,f=d;b.isISelection=g,b.createWithDirection=h;var i=function(a){function b(b,c,d,e){this.selectionStartLineNumber=b,this.selectionStartColumn=c,this.positionLineNumber=d,this.positionColumn=e,a.call(this,b,c,d,e)}return __extends(b,a),b.prototype.clone=function(){return new b(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},b.prototype.equalsSelection=function(a){return this.selectionStartLineNumber===a.selectionStartLineNumber&&this.selectionStartColumn===a.selectionStartColumn&&this.positionLineNumber===a.positionLineNumber&&this.positionColumn===a.positionColumn},b.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?f.SelectionDirection.LTR:f.SelectionDirection.RTL},b.prototype.setEndPosition=function(a,c){return this.getDirection()===f.SelectionDirection.LTR?new b(this.startLineNumber,this.startColumn,a,c):new b(a,c,this.startLineNumber,this.startColumn)},b.prototype.setStartPosition=function(a,c){return this.getDirection()===f.SelectionDirection.LTR?new b(a,c,this.endLineNumber,this.endColumn):new b(this.endLineNumber,this.endColumn,a,c)},b}(e.Range);b.Selection=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/command/replaceCommand",["require","exports","vs/editor/editor","vs/editor/core/selection"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b){this._range=a,this._text=b}return a.prototype.getEditOperations=function(a,b){b.addEditOperation(this._range,this._text)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range;return new f.Selection(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn)},a}();b.ReplaceCommand=g;var h=function(a){function b(b,c,d,e){a.call(this,b,c),this._columnDeltaOffset=e,this._lineNumberDeltaOffset=d}return __extends(b,a),b.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range;return new f.Selection(d.endLineNumber+this._lineNumberDeltaOffset,d.endColumn+this._columnDeltaOffset,d.endLineNumber+this._lineNumberDeltaOffset,d.endColumn+this._columnDeltaOffset)},b}(g);b.ReplaceCommandWithOffsetCursorState=h;var i=function(a){function b(b,c,d){a.call(this,b,c),this._initialSelection=d}return __extends(b,a),b.prototype.getEditOperations=function(b,c){a.prototype.getEditOperations.call(this,b,c),this._selectionId=c.trackSelection(this._initialSelection)},b.prototype.computeCursorState=function(a,b){return b.getTrackedSelection(this._selectionId)},b}(g);b.ReplaceCommandThatPreservesSelection=i}),define("vs/editor/core/command/surroundSelectionCommand",["require","exports","vs/editor/core/range","vs/editor/editor","vs/editor/core/selection"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(a,b,c){this._range=a,this._charBeforeSelection=b,this._charAfterSelection=c}return a.prototype.getEditOperations=function(a,b){b.addEditOperation(new f.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),b.addEditOperation(new f.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range,e=c[1].range;return new h.Selection(d.endLineNumber,d.endColumn,e.endLineNumber,e.endColumn-this._charAfterSelection.length)},a}();b.SurroundSelectionCommand=i}),define("vs/editor/core/controller/oneCursor",["require","exports","vs/base/strings","vs/editor/modes/modes","vs/editor/core/position","vs/editor/core/range","vs/editor/core/command/shiftCommand","vs/editor/core/command/replaceCommand","vs/editor/core/command/surroundSelectionCommand","vs/editor/core/constants","vs/editor/core/selection"],function(a,b,c,d,e,f,g,h,i,j,k){var l=c,m=d,n=e,o=f,p=g,q=h,r=i,s=j,t=k,u=function(){function a(a,b,c,d){this.editorId=a,this.model=b,this.configuration=c,this.modeConfiguration=d,this.helper=new v(this.model,this.configuration),this.position=new n.Position(1,1),this.positionMarkerId=null,this.inSelectionMode=!1,this.selectionStart=null,this.selStartMarkerId=null,this.selEndMarkerId=null,this.leftoverVisibleColumns=0,this.bracketDecorations=[],this._cachedSelection=null,this.setSelection(new t.Selection(1,1,1,1))}return a.prototype.dispose=function(){this.positionMarkerId&&(this.model._removeMarker(this.positionMarkerId),this.positionMarkerId=null),this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},a.prototype.adjustBracketDecorations=function(){var a=null,b=this.getSelection();b.isEmpty()&&!this.configuration.editor.readOnly&&(a=this.model.matchBracket(this.position));var c=[];if(a){var d={isOverlay:!1,className:"bracket-match"};c.push({range:a[0],options:d}),c.push({range:a[1],options:d})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,c,this.editorId)},a.prototype.getSelection=function(){if(!this._cachedSelection){var a,b,c,d;this.inSelectionMode?this.selectionStart.isEmpty()?(a=this.selectionStart.startLineNumber,b=this.selectionStart.startColumn,c=this.position.lineNumber,d=this.position.column):this.position.isBeforeOrEqual(this.selectionStart.getStartPosition())?(a=this.selectionStart.endLineNumber,b=this.selectionStart.endColumn,c=this.position.lineNumber,d=this.position.column):(a=this.selectionStart.startLineNumber,b=this.selectionStart.startColumn,c=this.position.lineNumber,d=this.position.column):(a=this.position.lineNumber,b=this.position.column,c=this.position.lineNumber,d=this.position.column),this._cachedSelection=new t.Selection(a,b,c,d)}return this._cachedSelection},a.prototype.setSelection=function(a){var b=this.model.validatePosition({lineNumber:a.selectionStartLineNumber,column:a.selectionStartColumn}),c=this.model.validatePosition({lineNumber:a.positionLineNumber,column:a.positionColumn});b.equals(c)?this._stopSelectionMode():this._startSelectionModeFromPosition(b),this._setPosition(c.lineNumber,c.column)},a.prototype.getPosition=function(){return this.position},a.prototype._setPosition=function(a,b,c){typeof c=="undefined"&&(c=0),b>s.STOP_LINE_RENDERING_AFTER&&(b=s.STOP_LINE_RENDERING_AFTER),this.position=new n.Position(a,b),this.leftoverVisibleColumns=c,this._cachedSelection=null,this.positionMarkerId?this.model._changeMarker(this.positionMarkerId,this.position.lineNumber-1,this.position.column):this.positionMarkerId=this.model._addMarker(this.position.lineNumber-1,this.position.column,"")},a.prototype._startSelectionModeFromPosition=function(a){this.inSelectionMode=!0,this.selectionStart=new o.Range(a.lineNumber,a.column,a.lineNumber,a.column),this._cachedSelection=null,this._ensureSelectionMarkers()},a.prototype._startSelectionModeFromRange=function(a){this.inSelectionMode=!0,this.selectionStart=a,this._cachedSelection=null,this._ensureSelectionMarkers()},a.prototype._stopSelectionMode=function(){this.inSelectionMode=!1,this.selectionStart=null,this._cachedSelection=null,this._ensureSelectionMarkers()},a.prototype._ensureSelectionMarkers=function(){this.inSelectionMode?(this.selStartMarkerId?this.model._changeMarker(this.selStartMarkerId,this.selectionStart.startLineNumber-1,this.selectionStart.startColumn):this.selStartMarkerId=this.model._addMarker(this.selectionStart.startLineNumber-1,this.selectionStart.startColumn,""),this.selEndMarkerId?this.model._changeMarker(this.selEndMarkerId,this.selectionStart.endLineNumber-1,this.selectionStart.endColumn):this.selEndMarkerId=this.model._addMarker(this.selectionStart.endLineNumber-1,this.selectionStart.endColumn,"")):(this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null))},a.prototype._move=function(a,b,c,d,e,f,g){b&&(a.cursorPositionChangeReason=b),c&&!this.inSelectionMode?this._startSelectionModeFromPosition(this.position):!c&&this.inSelectionMode&&this._stopSelectionMode();if(g){var h=this.model.getEditableRange();if(d<h.startLineNumber||d===h.startLineNumber&&e<h.startColumn)d=h.startLineNumber,e=h.startColumn;else if(d>h.endLineNumber||d===h.endLineNumber&&e>h.endColumn)d=h.endLineNumber,e=h.endColumn}this._setPosition(d,e,f)},a.prototype.recoverSelectionFromMarkers=function(a){a.cursorPositionChangeReason="recoverFromMarkers",a.shouldPushStackElementBefore=!0,a.shouldPushStackElementAfter=!0,a.shouldReveal=!1,a.shouldRevealHorizontal=!1;var b=this.model._getMarker(this.positionMarkerId),c=new n.Position(b.lineNumber,b.column),d=null,e=null;if(this.selStartMarkerId&&this.selEndMarkerId){var f=this.model._getMarker(this.selStartMarkerId),g=this.model._getMarker(this.selEndMarkerId);d=new o.Range(f.lineNumber,f.column,g.lineNumber,g.column),d.isEmpty()&&(e=new n.Position(d.startLineNumber,d.startColumn),d=null,e.equals(c)&&(e=null))}return d?this._startSelectionModeFromRange(d):e?this._startSelectionModeFromPosition(e):this._stopSelectionMode(),this._setPosition(c.lineNumber,c.column),!0},a.prototype.jumpToBracket=function(a){var b=this.bracketDecorations.length;if(b!==2)return!1;for(var c=0;c<2;c++){var d=this.model.getDecorationRange(this.bracketDecorations[c]),e=this.model.getDecorationRange(this.bracketDecorations[1-c]);if(w.isPositionAtRangeEdges(this.position,d)||w.isPositionInsideRange(this.position,d))return this._move(a,null,!1,e.startLineNumber,e.startColumn,0,!1),!0}return!1},a.prototype.moveTo=function(a,b,c,d){var e=this.model.validatePosition(b),f=c==="mouse"?"explicit":null;return c==="api"&&(d.shouldRevealVerticalInCenter=!0),this._move(d,f,a,e.lineNumber,e.column,0,!1),!0},a.prototype.moveLeft=function(a,b){var c=this.position.lineNumber,d=this.position.column;if(this.inSelectionMode&&!a){var e=this.getSelection();c=e.startLineNumber,d=e.startColumn}else{var f=this.helper.getLeftOfPosition(this.position);c=f.lineNumber,d=f.column}return this._move(b,"explicit",a,c,d,0,!0),!0},a.prototype.moveWordLeft=function(a,b){var c=this.position.lineNumber,d=this.position.column,e=!1;d===1&&c>1&&(e=!0,c-=1,d=this.model.getLineMaxColumn(c));var f=this.helper.findWord(new n.Position(c,d),"left",!0);return f?e||d>f.end+1?d=f.end+1:d=f.start+1:d=1,this._move(b,"explicit",a,c,d,0,!0),!0},a.prototype.moveRight=function(a,b){var c=this.position.lineNumber,d=this.position.column;if(this.inSelectionMode&&!a){var e=this.getSelection();c=e.endLineNumber,d=e.endColumn}else{var f=this.helper.getRightOfPosition(this.position);c=f.lineNumber,d=f.column}return this._move(b,"explicit",a,c,d,0,!0),!0},a.prototype.moveWordRight=function(a,b){var c=this.position.lineNumber,d=this.position.column,e=!1;d===this.model.getLineMaxColumn(c)&&c<this.model.getLineCount()&&(e=!0,c+=1,d=1);var f=this.helper.findWord(new n.Position(c,d),"right",!0);return f?e||d<f.start+1?d=f.start+1:d=f.end+1:d=this.model.getLineMaxColumn(c),this._move(b,"explicit",a,c,d,0,!0),!0},a.prototype.moveDown=function(a,b,c){var d=b?this.configuration.editor.pageSize:1,e=this.position.lineNumber,f=this.position.column;if(this.inSelectionMode&&!a){var g=this.getSelection();e=g.endLineNumber,f=g.endColumn}var h=this.helper.visibleColumnFromColumn(e,f)+this.leftoverVisibleColumns,i=e+d,j=this.model.getLineCount();i>j&&(i=j);var k=this.helper.columnFromVisibleColumn(i,h),l=h-this.helper.visibleColumnFromColumn(i,k);return this._move(c,"explicit",a,i,k,l,!0),!0},a.prototype.moveUp=function(a,b,c){var d=b?this.configuration.editor.pageSize:1,e=this.position.lineNumber,f=this.position.column;if(this.inSelectionMode&&!a){var g=this.getSelection();e=g.startLineNumber,f=g.startColumn}var h=this.helper.visibleColumnFromColumn(e,f)+this.leftoverVisibleColumns,i=e-d;i<1&&(i=1);var j=this.helper.columnFromVisibleColumn(i,h),k=h-this.helper.visibleColumnFromColumn(i,j);return this._move(c,"explicit",a,i,j,k,!0),!0},a.prototype.moveToBeginningOfLine=function(a,b){var c=this.position.column,d=this.model.getLineFirstNonWhitespaceColumn(this.position.lineNumber)||1;return c!==1&&c<=d?c=1:c=d,this._move(b,"explicit",a,this.position.lineNumber,c,0,!0),!0},a.prototype.moveToEndOfLine=function(a,b){var c=this.position.column,d=this.model.getLineMaxColumn(this.position.lineNumber),e=this.model.getLineLastNonWhitespaceColumn(this.position.lineNumber)||d;return c!==d&&c>=e?c=d:c=e,this._move(b,"explicit",a,this.position.lineNumber,c,0,!0),!0},a.prototype.moveToBeginningOfBuffer=function(a,b){return this._move(b,"explicit",a,1,1,0,!0),!0},a.prototype.moveToEndOfBuffer=function(a,b){var c=this.model.getLineCount(),d=this.model.getLineMaxColumn(c);return this._move(b,"explicit",a,c,d,0,!0),!0},a.prototype.selectAll=function(a){var b=!0,c,d,e,f;if(this.model.hasEditableRange()){var g=this.model.getEditableRange(),h=this.getSelection();h.equalsRange(g)||(b=!1,c=g.startLineNumber,d=g.startColumn,e=g.endLineNumber,f=g.endColumn)}return b&&(c=1,d=1,e=this.model.getLineCount(),f=this.model.getLineMaxColumn(e)),this._move(a,null,!1,c,d,0,!1),this._move(a,null,!0,e,f,0,!1),a.shouldReveal=!1,a.shouldRevealHorizontal=!1,!0},a.prototype.line=function(a,b,c){var d=this.model.validatePosition(b),e,f;if(!a||!this.inSelectionMode){var g=new o.Range(d.lineNumber,1,d.lineNumber,this.model.getLineMaxColumn(d.lineNumber));this._startSelectionModeFromRange(g),e=g.endLineNumber,f=g.endColumn}else e=d.lineNumber,d.isBeforeOrEqual(this.selectionStart.getStartPosition())?f=1:f=this.model.getLineMaxColumn(d.lineNumber);return c.cursorPositionChangeReason="explicit",c.shouldRevealHorizontal=!1,this._setPosition(e,f,0),!0},a.prototype.word=function(a,b,c,d){var e=this.model.validatePosition(b),f=this.helper.findWord(e,c),g,h,i,j;if(!a||!this.inSelectionMode){if(f)g=f.start+1,h=f.end+1;else{var k=this.model.getLineMaxColumn(e.lineNumber);e.column===k||c==="left"?(g=e.column-1,h=e.column):(g=e.column,h=e.column+1),g<=1&&(g=1),h>=k&&(h=k)}var l=new o.Range(e.lineNumber,g,e.lineNumber,h);this._startSelectionModeFromRange(l),i=l.endLineNumber,j=l.endColumn}else g=f?f.start+1:e.column,h=f?f.end+1:e.column,i=e.lineNumber,e.isBeforeOrEqual(this.selectionStart.getStartPosition())?j=g:j=h;return d.cursorPositionChangeReason="explicit",this._setPosition(i,j,0),!0},a.prototype.cancelSelection=function(a){return this.inSelectionMode?(this._stopSelectionMode(),!0):!0},a.prototype._typeInterceptorEnter=function(a,b){if(a!=="\n")return!1;b.shouldPushStackElementBefore=!0;var c=this.model.getLineContent(this.position.lineNumber),d=this.model.getRawLineTokens(this.position.lineNumber),e=this.model.getMode().electricCharacterSupport?this.model.getMode().electricCharacterSupport.onEnter(c,d,this.position.column-1):m.IndentAction.None,f=l.getLeadingWhitespace(c);f.length>this.position.column-1&&(f=f.substring(0,this.position.column-1));if(e===m.IndentAction.Indent)this.actualType("\n"+this.helper.normalizeIndentation(f+"	"),b);else if(e===m.IndentAction.IndentOutdent){var g=this.helper.normalizeIndentation(f),h=this.helper.normalizeIndentation(f+"	"),i="\n"+h+"\n"+g;b.executeCommand=new q.ReplaceCommandWithOffsetCursorState(this.getSelection(),i,-1,h.length-g.length)}else this.actualType("\n"+this.helper.normalizeIndentation(f),b);return!0},a.prototype._typeInterceptorAutoClosingCloseChar=function(a,b){if(!this.configuration.editor.autoClosingBrackets)return!1;var c=this.getSelection();if(!c.isEmpty()||!this.modeConfiguration.autoClosingPairsClose.hasOwnProperty(a))return!1;var d=this.model.getLineContent(this.position.lineNumber),e=d[this.position.column-1];if(e!==a)return!1;var f=new o.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column+1);return b.executeCommand=new q.ReplaceCommand(f,a),!0},a.prototype._typeInterceptorAutoClosingOpenChar=function(a,b){if(!this.configuration.editor.autoClosingBrackets)return!1;var c=this.getSelection();if(!c.isEmpty()||!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(a))return!1;if(!this.model.getMode().characterPairSupport)return!1;var d=this.model.getLineContent(this.position.lineNumber),e=d[this.position.column-1],f=this.modeConfiguration.autoClosingPairsOpen[a];if(e&&e!==f&&!/\s/.test(e))return!1;var g=this.model.getRawLineTokens(this.position.lineNumber);return this.model.getMode().characterPairSupport.shouldAutoClosePair(a,d,g,this.position.column-1)?(b.shouldPushStackElementBefore=!0,b.executeCommand=new q.ReplaceCommandWithOffsetCursorState(c,a+f,0,-1),!0):!1},a.prototype._typeInterceptorSurroundSelection=function(a,b){if(!this.configuration.editor.autoClosingBrackets)return!1;var c=this.getSelection();if(c.isEmpty()||!this.modeConfiguration.surroundingPairs.hasOwnProperty(a))return!1;var d=this.modeConfiguration.surroundingPairs[a];return b.shouldPushStackElementBefore=!0,b.shouldPushStackElementAfter=!0,b.executeCommand=new r.SurroundSelectionCommand(c,a,d),!0},a.prototype._typeInterceptorElectricChar=function(a,b){var c=this;return this.modeConfiguration.electricChars.hasOwnProperty(a)?(b.postOperationRunnable=function(a){return c._typeInterceptorElectricCharRunnable(a)},this.actualType(a,b)):!1},a.prototype._typeInterceptorElectricCharRunnable=function(a){var b=this.model.getLineContent(this.position.lineNumber),c=this.model.getRawLineTokens(this.position.lineNumber),d;this.model.getMode().electricCharacterSupport&&(d=this.model.getMode().electricCharacterSupport.onElectricCharacter(b,c,this.position.column-2));if(d){var e,f=d.matchBracketType,g=d.appendText;if(f){var h=null;f&&(h=this.model.findMatchingBracketUp(f,this.position));if(h){var i=h.startLineNumber,j=this.model.getLineContent(i),k=l.getLeadingWhitespace(j),m=this.helper.normalizeIndentation(k),n=this.model.getLineFirstNonWhitespaceColumn(this.position.lineNumber)||this.position.column,p=b.substring(0,n-1);if(p!==m){var r=b.substring(n-1,this.position.column-1),s=m+r,t=new o.Range(this.position.lineNumber,1,this.position.lineNumber,this.position.column);a.shouldPushStackElementAfter=!0,a.executeCommand=new q.ReplaceCommand(t,s)}}}else if(g){var u=-g.length;d.advanceCount&&(u+=d.advanceCount),a.shouldPushStackElementAfter=!0,a.executeCommand=new q.ReplaceCommandWithOffsetCursorState(this.getSelection(),g,0,u)}}},a.prototype.actualType=function(a,b){return b.executeCommand=new q.ReplaceCommand(this.getSelection(),a),!0},a.prototype.type=function(a,b){return this._typeInterceptorEnter(a,b)?!0:this._typeInterceptorAutoClosingCloseChar(a,b)?!0:this._typeInterceptorAutoClosingOpenChar(a,b)?!0:this._typeInterceptorSurroundSelection(a,b)?!0:this._typeInterceptorElectricChar(a,b)?!0:this.actualType(a,b)},a.prototype.tab=function(a){var b=this.getSelection();if(b.isEmpty()){var c="";if(this.configuration.editor.insertSpaces){var d=this.helper.nextTabColumn(this.position.column-1);for(var e=this.position.column;e<=d;e++)c+=" "}else c="	";a.executeCommand=new q.ReplaceCommand(b,c)}else a.shouldPushStackElementBefore=!0,a.shouldPushStackElementAfter=!0,this.indent(a);return!0},a.prototype.indent=function(a){var b=this.getSelection();return a.executeCommand=new p.ShiftCommand(this.configuration,!1,b),a.shouldRevealHorizontal=!1,!0},a.prototype.outdent=function(a){var b=this.getSelection();return a.executeCommand=new p.ShiftCommand(this.configuration,!0,b),a.shouldRevealHorizontal=!1,!0},a.prototype.paste=function(a,b,c){if(b&&a.charAt(a.length-1)==="\n"&&a.indexOf("\n")===a.length-1){var d=new o.Range(this.position.lineNumber,1,this.position.lineNumber,1);return c.executeCommand=new q.ReplaceCommand(d,a),!0}return c.executeCommand=new q.ReplaceCommand(this.getSelection(),a),!0},a.prototype._autoClosingPairDelete=function(a){if(!this.configuration.editor.autoClosingBrackets)return!1;var b=this.model.getLineContent(this.position.lineNumber),c=b[this.position.column-2];if(!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(c))return!1;var d=b[this.position.column-1],e=this.modeConfiguration.autoClosingPairsOpen[c];if(d!==e)return!1;var f=new o.Range(this.position.lineNumber,this.position.column-1,this.position.lineNumber,this.position.column+1);return a.executeCommand=new q.ReplaceCommand(f,""),!0},a.prototype.deleteLeft=function(a){if(this._autoClosingPairDelete(a))return!0;var b=this.getSelection();if(b.isEmpty()){var c=this.helper.getLeftOfPosition(this.position);b=new o.Range(c.lineNumber,c.column,this.position.lineNumber,this.position.column)}return b.isEmpty()?!0:(b.startLineNumber!==b.endLineNumber&&(a.shouldPushStackElementBefore=!0),a.executeCommand=new q.ReplaceCommand(b,""),!0)},a.prototype.deleteWordLeft=function(a){if(this._autoClosingPairDelete(a))return!0;var b=this.getSelection();if(b.isEmpty()){var c=this.position.lineNumber,d=this.position.column;if(c===1&&d===1)return!0;var e=this.helper.findWord(this.position,"left",!0);e?e.end+1<d?d=e.end+1:d=e.start+1:d=1;var f=new o.Range(c,d,c,this.position.column);if(!f.isEmpty())return a.executeCommand=new q.ReplaceCommand(f,""),!0}return this.deleteLeft(a)},a.prototype.deleteRight=function(a){var b=this.getSelection();if(b.isEmpty()){var c=this.helper.getRightOfPosition(this.position);b=new o.Range(c.lineNumber,c.column,this.position.lineNumber,this.position.column)}return b.isEmpty()?!0:(b.startLineNumber!==b.endLineNumber&&(a.shouldPushStackElementBefore=!0),a.executeCommand=new q.ReplaceCommand(b,""),!0)},a.prototype.deleteWordRight=function(a){var b=this.getSelection();if(b.isEmpty()){var c=this.position.lineNumber,d=this.position.column,e=this.model.getLineCount(),f=this.model.getLineMaxColumn(c);if(c===e&&d===f)return!0;var g=this.helper.findWord(new n.Position(c,d),"right",!0);g?g.start+1>d?d=g.start+1:d=g.end+1:d=f;var h=new o.Range(c,d,c,this.position.column);if(!h.isEmpty())return a.executeCommand=new q.ReplaceCommand(h,""),!0}return this.deleteRight(a)},a.prototype.cut=function(a){var b=this.getSelection();if(!b.isEmpty())this.deleteLeft(a);else{var c=this.position.lineNumber,d=1,e=this.position.lineNumber+1,f=1;e>this.model.getLineCount()&&(e--,f=this.model.getLineMaxColumn(e));var g=new o.Range(c,d,e,f);g.isEmpty()||(a.executeCommand=new q.ReplaceCommand(g,""))}return!0},a}();b.OneCursor=u;var v=function(){function a(a,b){this.model=a,this.configuration=b}return a.prototype.normalizeIndentation=function(a){return this.configuration.normalizeIndentation(a)},a.prototype.nextTabColumn=function(a){return a+this.configuration.editor.tabSize-a%this.configuration.editor.tabSize},a.prototype.visibleColumnFromColumn=function(a,b){var c=this.model.getLineContent(a),d=0;for(var e=0;e<b-1;e++)d=c.charAt(e)==="	"?this.nextTabColumn(d):d+1;return d},a.prototype.columnFromVisibleColumn=function(a,b){var c=this.model.getLineContent(a),d=-1,e=0;for(var f=0;f<c.length&&e<=b;f++)d=e,e=c.charAt(f)==="	"?this.nextTabColumn(e):e+1;return e=Math.abs(b-e),d=Math.abs(b-d),e<d?f+1:f},a.prototype.findWord=function(a,b,c){typeof c=="undefined"&&(c=!1);var d=this.model.getWords(a.lineNumber,c),e,f,g;if(c){e=a.column-1;if(b==="left")for(f=d.length-1;f>=0;f--){if(d[f].start>=e)continue;return d[f]}else for(f=0,g=d.length;f<g;f++){if(d[f].end<=e)continue;return d[f]}}else{e=a.column,b==="left"?e!==1&&(e-=.1):e!==this.model.getLineMaxColumn(a.lineNumber)&&(e+=.1),e-=1;for(f=0,g=d.length;f<g;f++)if(d[f].start<=e&&e<=d[f].end)return d[f]}return null},a.prototype.getLeftOfPosition=function(a){var b=a.lineNumber,c=a.column;return c>1?c-=1:b>1&&(b-=1,c=this.model.getLineMaxColumn(b)),{lineNumber:b,column:c}},a.prototype.getRightOfPosition=function(a){var b=a.lineNumber,c=a.column;return c<this.model.getLineMaxColumn(b)?c+=1:b<this.model.getLineCount()&&(b+=1,c=1),{lineNumber:b,column:c}},a}(),w=function(){function a(){}return a.rangeContainsPosition=function(b,c){return c.lineNumber<b.startLineNumber||c.lineNumber>b.endLineNumber?!1:c.lineNumber===b.startLineNumber&&c.column<b.startColumn?!1:c.lineNumber===b.endLineNumber&&c.column>b.endColumn?!1:!0},a.isPositionInsideRange=function(b,c){return b.lineNumber<c.startLineNumber?!1:b.lineNumber>c.endLineNumber?!1:b.lineNumber===c.startLineNumber&&b.column<c.startColumn?!1:b.lineNumber===c.endLineNumber&&b.column>c.endColumn?!1:!0},a.isPositionAtRangeEdges=function(b,c){return b.lineNumber===c.startLineNumber&&b.column===c.startColumn?!0:b.lineNumber===c.endLineNumber&&b.column===c.endColumn?!0:!1},a}()}),define("vs/editor/core/controller/cursorCollection",["require","exports","vs/editor/core/controller/oneCursor","vs/editor/core/selection"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b,c){this.editorId=a,this.model=b,this.configuration=c,this.modeConfiguration=this.getModeConfiguration(),this.primaryCursor=new e.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return a.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},a.prototype.getAll=function(){var a=[];return a.push(this.primaryCursor),a=a.concat(this.secondaryCursors),a},a.prototype.getPosition=function(a){return a===0?this.primaryCursor.getPosition():this.secondaryCursors[a-1].getPosition()},a.prototype.getPositions=function(){var a=[];a.push(this.primaryCursor.getPosition());for(var b=0,c=this.secondaryCursors.length;b<c;b++)a.push(this.secondaryCursors[b].getPosition());return a},a.prototype.getSelection=function(a){return a===0?this.primaryCursor.getSelection():this.secondaryCursors[a-1].getSelection()},a.prototype.getSelections=function(){var a=[];a.push(this.primaryCursor.getSelection());for(var b=0,c=this.secondaryCursors.length;b<c;b++)a.push(this.secondaryCursors[b].getSelection());return a},a.prototype.setSelections=function(a){this.primaryCursor.setSelection(a[0]),this._setSecondarySelections(a.slice(1))},a.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([])>0},a.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var a=0,b=this.secondaryCursors.length;a<b;a++)this.secondaryCursors[a].adjustBracketDecorations()},a.prototype.addSecondaryCursor=function(a){var b=new e.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration);a&&b.setSelection(a),this.secondaryCursors.push(b),this.lastAddedCursorIndex=this.secondaryCursors.length},a.prototype.getLastAddedCursor=function(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},a.prototype._setSecondarySelections=function(a){var b=this.secondaryCursors.length,c=a.length,d=c-b;if(b<c){var e=c-b;for(var f=0;f<e;f++)this.addSecondaryCursor(null)}else if(b>c){var g=b-c;for(var f=0;f<g;f++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(var f=0;f<c;f++)a[f]&&this.secondaryCursors[f].setSelection(a[f]);return d},a.prototype._removeSecondaryCursor=function(a){this.lastAddedCursorIndex>=a+1&&this.lastAddedCursorIndex--,this.secondaryCursors[a].dispose(),this.secondaryCursors.splice(a,1)},a.prototype._mergeCursorsIfNecessary=function(){if(this.secondaryCursors.length===0)return;var a=this.getAll(),b=[];for(var c=0;c<a.length;c++)b.push({index:c,selection:a[c].getSelection()});b.sort(function(a,b){return a.selection.startLineNumber===b.selection.startLineNumber?a.selection.startColumn-b.selection.startColumn:a.selection.startLineNumber-b.selection.startLineNumber});for(var d=0;d<b.length-1;d++){var e=b[d],g=b[d+1],h=e.selection,i=g.selection;if(i.getStartPosition().isBeforeOrEqual(h.getEndPosition())){var j=e.index<g.index?d:d+1,k=e.index<g.index?d+1:d,l=b[k].index,m=b[j].index,n=b[k].selection,o=b[j].selection,p=n.plusRange(o),q=n.selectionStartLineNumber===n.startLineNumber&&n.selectionStartColumn===n.startColumn,r=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn,s;l===this.lastAddedCursorIndex?(s=q,this.lastAddedCursorIndex=m):s=r;var t;s?t=new f.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):t=new f.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),b[j].selection=t,a[m].setSelection(t);for(var u=0;u<b.length;u++)b[u].index>l&&b[u].index--;a.splice(l,1),b.splice(k,1),this._removeSecondaryCursor(l-1),d--}}},a.prototype.getModeConfiguration=function(){var a,b={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}},c;this.model.getMode().electricCharacterSupport&&(c=this.model.getMode().electricCharacterSupport.getElectricCharacters());if(c)for(a=0;a<c.length;a++)b.electricChars[c[a]]=!0;var d;this.model.getMode().characterPairSupport&&(d=this.model.getMode().characterPairSupport.getAutoClosingPairs());if(d)for(a=0;a<d.length;a++)b.autoClosingPairsOpen[d[a].open]=d[a].close,b.autoClosingPairsClose[d[a].close]=d[a].open;var e;this.model.getMode().characterPairSupport&&(e=this.model.getMode().characterPairSupport.getSurroundingPairs());if(e)for(a=0;a<e.length;a++)b.surroundingPairs[e[a].open]=e[a].close;return b},a}();b.CursorCollection=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/controller/cursor",["require","exports","vs/editor/core/constants","vs/editor/core/range","vs/editor/core/selection","vs/base/eventEmitter","vs/base/performance/timer","vs/editor/core/handlerDispatcher","vs/editor/editor","vs/editor/core/controller/cursorCollection"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(a){function b(b,c,d,e){var f=this;a.call(this),this.editorId=b,this.configuration=c,this.model=d,this.eventBus=e,this.cursors=new r.CursorCollection(this.editorId,this.model,this.configuration),this.typingListeners={},this._isHandling=!1,e.addEmitter(this,k.ID.Cursor),this.modelUnbind=this.model.addListener(k.EventType.ModelContentChanged,function(a){f._onModelContentChanged(a)}),this._registerHandlers()}return __extends(b,a),b.prototype.destroy=function(){this.modelUnbind(),this.modelUnbind=null,this.cursors.dispose()},b.prototype.saveState=function(){var a=this.cursors.getSelection(0);return{leftoverVisibleColumns:0,inSelectionMode:!a.isEmpty(),selectionStart:{lineNumber:a.selectionStartLineNumber,column:a.selectionStartColumn},position:{lineNumber:a.positionLineNumber,column:a.positionColumn}}},b.prototype.restoreState=function(a){var b=this,c=a.inSelectionMode,d=null,e=1,f=1;a.position&&a.position.lineNumber&&(e=a.position.lineNumber),a.position&&a.position.column&&(f=a.position.column);var g=e,h=f;a.selectionStart&&a.selectionStart.lineNumber&&(g=a.selectionStart.lineNumber),a.selectionStart&&a.selectionStart.column&&(h=a.selectionStart.column),d={selectionStartLineNumber:g,selectionStartColumn:h,positionLineNumber:e,positionColumn:f},this._onHandler("restoreState",function(a){b.cursors.setSelections([d])},new p.DispatcherEvent("restoreState",null))},b.prototype.setEditableRange=function(a){this.model.setEditableRange(a)},b.prototype.getEditableRange=function(){return this.model.getEditableRange()},b.prototype.addTypingListener=function(a,b){this.typingListeners.hasOwnProperty(a)||(this.typingListeners[a]=[]),this.typingListeners[a].push(b)},b.prototype.removeTypingListener=function(a,b){if(this.typingListeners.hasOwnProperty(a)){var c=this.typingListeners[a];for(var d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);return}}},b.prototype._onModelContentChanged=function(a){var b=this;a.changeType===k.EventType.ModelContentChangedFlush?(this.cursors.dispose(),this.cursors=new r.CursorCollection(this.editorId,this.model,this.configuration),this.emitCursorPositionChanged("",""),this.emitCursorSelectionChanged("",""),this.emitCursorRevealRange(!1,!0)):this._isHandling||this._onHandler("recoverSelectionFromMarkers",function(a){var c=b._invokeForAll(a,function(a,b,c){return b.recoverSelectionFromMarkers(c)});return a.shouldPushStackElementBefore=!1,a.shouldPushStackElementAfter=!1,c},new p.DispatcherEvent("modelChange",null))},b.prototype.getSelection=function(){return this.cursors.getSelection(0)},b.prototype.getSelections=function(){return this.cursors.getSelections()},b.prototype.getPosition=function(){return this.cursors.getPosition(0)},b.prototype.setSelections=function(a,b){var c=this;this._onHandler("setSelections",function(a){a.shouldReveal=!1,c.cursors.setSelections(b)},new p.DispatcherEvent(a,null))},b.prototype._createAndInterpretHandlerCtx=function(a,b,c){var d={cursorPositionChangeReason:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,eventSource:a,eventData:b,executeCommands:[],postOperationRunnables:[],shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1};c(d),this._interpretHandlerContext(d),this.cursors.normalize()},b.prototype._onHandler=function(a,b,c){var d=this,e=o.start(o.Topic.EDITOR,"Cursor.handler - "+a);if(this._isHandling)throw new Error("Why am I recursive?");this._isHandling=!0;var f=!1;return this.eventBus.deferredEmit(function(){var a=d.cursors.getSelections(),e=c.getSource(),g,h,i,j;d._createAndInterpretHandlerCtx(e,c.getData(),function(a){f=b(a),g=a.cursorPositionChangeReason,h=a.shouldReveal,i=a.shouldRevealVerticalInCenter,j=a.shouldRevealHorizontal});var k=d.cursors.getSelections(),l=!1;if(a.length!==k.length)l=!0;else for(var m=0,n=a.length;m<n;m++)a[m].equalsSelection(k[m])||(l=!0);l&&(d.emitCursorPositionChanged(e,g),h&&d.emitCursorRevealRange(i,j),d.emitCursorSelectionChanged(e,g))}),this._isHandling=!1,e.stop(),f},b.prototype._interpretHandlerContext=function(a){a.shouldPushStackElementBefore&&(this.model.pushStackElement(),a.shouldPushStackElementBefore=!1),this._internalExecuteCommands(a.executeCommands,a.postOperationRunnables),a.executeCommands=[],a.shouldPushStackElementAfter&&(this.model.pushStackElement(),a.shouldPushStackElementAfter=!1);var b=!1;for(var c=0,d=a.postOperationRunnables.length;c<d;c++)if(a.postOperationRunnables[c]){b=!0;break}if(b){var e=a.postOperationRunnables.slice(0);a.postOperationRunnables=[],this._invokeForAll(a,function(a,b,c){e[a]&&e[a](c)}),this._interpretHandlerContext(a)}},b.prototype._interpretCommandResult=function(a){return a?(this.cursors.setSelections(a),!0):!1},b.prototype._getEditOperations=function(a,b){var c=this,d=[],e;for(var f=0;f<b.length;f++)b[f]&&(e=0,b[f].getEditOperations(this.model,{addEditOperation:function(a,b){(!a.isEmpty()||b)&&d.push({identifier:{major:f,minor:e++},range:a,text:b})},trackSelection:function(b){var d,e;if(b.isEmpty()){var f=c.model.getLineMaxColumn(b.startLineNumber);b.startColumn===f?(d="start",e="start"):(d="end",e="end")}else b.getDirection()===q.SelectionDirection.LTR?(d="end",e="start"):(d="start",e="end");var g=a.selectionStartMarkers.length;return a.selectionStartMarkers[g]=c.model._addMarker(b.selectionStartLineNumber-1,b.selectionStartColumn,d),a.positionMarkers[g]=c.model._addMarker(b.positionLineNumber-1,b.positionColumn,e),g.toString()}}));return d},b.prototype._getLooserCursorMap=function(a){a=a.slice(0),a.sort(function(a,b){return-l.RangeUtils.compareRangesUsingEnds(a.range,b.range)});var b={},c,d,e;for(var f=1;f<a.length;f++){c=a[f-1],d=a[f];if(c.range.getStartPosition().isBeforeOrEqual(d.range.getEndPosition())){c.identifier.major>d.identifier.major?e=c.identifier.major:e=d.identifier.major,b[e.toString()]=!0;for(var g=0;g<a.length;g++)a[g].identifier.major===e&&(a.splice(g,1),g<f&&f--,g--);f>0&&f--}}return b},b.prototype._internalExecuteCommands=function(a,b){var c={selectionStartMarkers:[],positionMarkers:[]},d=this._innerExecuteCommands(c,a,b);for(var e=0;e<c.selectionStartMarkers.length;e++)this.model._removeMarker(c.selectionStartMarkers[e]),this.model._removeMarker(c.positionMarkers[e]);return d},b.prototype._innerExecuteCommands=function(a,b,c){var d=this;if(this.configuration.editor.readOnly)return!1;var e=this.cursors.getSelections(),f=this._getEditOperations(a,b);if(f.length===0)return!1;var g=this.model.getEditableRange(),h=g.getStartPosition(),i=g.getEndPosition();for(var j=0;j<f.length;j++){var k=f[j].range;if(!h.isBeforeOrEqual(k.getStartPosition())||!k.getEndPosition().isBeforeOrEqual(i))return!1}var l=this._getLooserCursorMap(f);if(l.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;var n=[];for(var j=0;j<f.length;j++)l.hasOwnProperty(f[j].identifier.major.toString())||n.push(f[j]);var o=this.model.pushEditOperations(e,n,function(c){var f=[];for(var g=0;g<e.length;g++)f[g]=[];for(var g=0;g<c.length;g++){var h=c[g];f[h.identifier.major].push(h)}var i=function(a,b){return a.identifier.minor-b.identifier.minor},j=[];for(var g=0;g<e.length;g++)f[g].length>0?(f[g].sort(i),j[g]=b[g].computeCursorState(d.model,{getInverseEditOperations:function(){return f[g]},getTrackedSelection:function(b){var c=parseInt(b,10),e=d.model._getMarker(a.selectionStartMarkers[c]),f=d.model._getMarker(a.positionMarkers[c]);return new m.Selection(e.lineNumber,e.column,f.lineNumber,f.column)}})):j[g]=e[g];return j}),p,q=[];for(p in l)l.hasOwnProperty(p)&&q.push(parseInt(p,10));q.sort(function(a,b){return b-a});for(var j=0;j<q.length;j++)o.splice(q[j],1),c.splice(q[j],1);return this._interpretCommandResult(o)},b.prototype.emitCursorPositionChanged=function(a,b){var c=this.cursors.getPositions(),d=c[0],e=c.slice(1),f=!0;if(this.model.hasEditableRange()){var g=this.model.getEditableRange();g.containsPosition(d)||(f=!1)}var h={position:d,secondaryPositions:e,reason:b,source:a,isInEditableRange:f};this.emit(k.EventType.CursorPositionChanged,h)},b.prototype.emitCursorSelectionChanged=function(a,b){var c=this.cursors.getSelections(),d=c[0],e=c.slice(1),f={selection:d,secondarySelections:e,source:a,reason:b};this.emit(k.EventType.CursorSelectionChanged,f)},b.prototype.emitCursorRevealRange=function(a,b){var c=this.cursors.getPosition(0),d=new l.Range(c.lineNumber,c.column,c.lineNumber,c.column),e={range:d,revealVerticalInCenter:a,revealHorizontal:b};this.emit(k.EventType.CursorRevealRange,e)},b.prototype._registerHandlers=function(){var a=this,b=k.Handler,c={};c[b.JumpToBracket]=function(b){return a._jumpToBracket(b)},c[b.MoveTo]=function(b){return a._moveTo(!1,b)},c[b.MoveToSelect]=function(b){return a._moveTo(!0,b)},c[b.AddCursorUp]=function(b){return a._addCursorUp(b)},c[b.AddCursorDown]=function(b){return a._addCursorDown(b)},c[b.CreateCursor]=function(b){return a._createCursor(!1,b)},c[b.CreateCursorSelect]=function(b){return a._createCursor(!0,b)},c[b.CursorLeft]=function(b){return a._moveLeft(!1,b)},c[b.CursorLeftSelect]=function(b){return a._moveLeft(!0,b)},c[b.CursorWordLeft]=function(b){return a._moveWordLeft(!1,b)},c[b.CursorWordLeftSelect]=function(b){return a._moveWordLeft(!0,b)},c[b.CursorRight]=function(b){return a._moveRight(!1,b)},c[b.CursorRightSelect]=function(b){return a._moveRight(!0,b)},c[b.CursorWordRight]=function(b){return a._moveWordRight(!1,b)},c[b.CursorWordRightSelect]=function(b){return a._moveWordRight(!0,b)},c[b.CursorUp]=function(b){return a._moveUp(!1,!1,b)},c[b.CursorUpSelect]=function(b){return a._moveUp(!0,!1,b)},c[b.CursorDown]=function(b){return a._moveDown(!1,!1,b)},c[b.CursorDownSelect]=function(b){return a._moveDown(!0,!1,b)},c[b.CursorPageUp]=function(b){return a._moveUp(!1,!0,b)},c[b.CursorPageUpSelect]=function(b){return a._moveUp(!0,!0,b)},c[b.CursorPageDown]=function(b){return a._moveDown(!1,!0,b)},c[b.CursorPageDownSelect]=function(b){return a._moveDown(!0,!0,b)},c[b.CursorHome]=function(b){return a._moveToBeginningOfLine(!1,b)},c[b.CursorHomeSelect]=function(b){return a._moveToBeginningOfLine(!0,b)},c[b.CursorEnd]=function(b){return a._moveToEndOfLine(!1,b)},c[b.CursorEndSelect]=function(b){return a._moveToEndOfLine(!0,b)},c[b.CursorTop]=function(b){return a._moveToBeginningOfBuffer(!1,b)},c[b.CursorTopSelect]=function(b){return a._moveToBeginningOfBuffer(!0,b)},c[b.CursorBottom]=function(b){return a._moveToEndOfBuffer(!1,b)},c[b.CursorBottomSelect]=function(b){return a._moveToEndOfBuffer(!0,b)},c[b.SelectAll]=function(b){return a._selectAll(b)},c[b.LineSelect]=function(b){return a._line(!1,b)},c[b.LineSelectDrag]=function(b){return a._line(!0,b)},c[b.LastCursorLineSelect]=function(b){return a._lastCursorLine(!1,b)},c[b.LastCursorLineSelectDrag]=function(b){return a._lastCursorLine(!0,b)},c[b.WordSelect]=function(b){return a._word(!1,b)},c[b.WordSelectDrag]=function(b){return a._word(!0,b)},c[b.LastCursorWordSelect]=function(b){return a._lastCursorWord(!1,b)},c[b.LastCursorWordSelectDrag]=function(b){return a._lastCursorWord(!0,b)},c[b.Escape]=function(b){return a._cancelSelection(b)},c[b.Type]=function(b){return a._type(b)},c[b.Tab]=function(b){return a._tab(b)},c[b.Indent]=function(b){return a._indent(b)},c[b.Outdent]=function(b){return a._outdent(b)},c[b.Paste]=function(b){return a._paste(b)},c[b.DeleteLeft]=function(b){return a._deleteLeft(b)},c[b.DeleteWordLeft]=function(b){return a._deleteWordLeft(b)},c[b.DeleteRight]=function(b){return a._deleteRight(b)},c[b.DeleteWordRight]=function(b){return a._deleteWordRight(b)},c[b.Cut]=function(b){return a._cut(b)},c[b.Undo]=function(b){return a._undo(b)},c[b.Redo]=function(b){return a._redo(b)},c[b.ExecuteCommand]=function(b){return a._externalExecuteCommand(b)};var d=function(b,c){return function(d){return a._onHandler(b,c,d)}},e;for(e in c)c.hasOwnProperty(e)&&this.configuration.handlerDispatcher.setHandler(e,d(e,c[e]))},b.prototype._invokeForAll=function(a,b,c,d){typeof c=="undefined"&&(c=!0),typeof d=="undefined"&&(d=!0);var e=!1,f=this.cursors.getAll(),g;a.shouldPushStackElementBefore=c,a.shouldPushStackElementAfter=d;for(var h=0;h<f.length;h++)g={cursorPositionChangeReason:"",cursorPositionChangeSource:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,postOperationRunnable:null,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1},e=b(h,f[h],g)||e,h===0&&(a.cursorPositionChangeReason=g.cursorPositionChangeReason,a.shouldRevealHorizontal=g.shouldRevealHorizontal,a.shouldReveal=g.shouldReveal,a.shouldRevealVerticalInCenter=g.shouldRevealVerticalInCenter),a.shouldPushStackElementBefore=a.shouldPushStackElementBefore||g.shouldPushStackElementBefore,a.shouldPushStackElementAfter=a.shouldPushStackElementAfter||g.shouldPushStackElementAfter,a.executeCommands[h]=g.executeCommand,a.postOperationRunnables[h]=g.postOperationRunnable;return e},b.prototype._jumpToBracket=function(a){return this.cursors.killSecondaryCursors(),this._invokeForAll(a,function(a,b,c){return b.jumpToBracket(c)})},b.prototype._moveTo=function(a,b){return this.cursors.killSecondaryCursors(),this._invokeForAll(b,function(c,d,e){return d.moveTo(a,b.eventData.position,b.eventSource,e)})},b.prototype._createCursor=function(a,b){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;a||this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var c=this.cursors.getLastAddedCursor();return this._invokeForAll(b,function(d,e,f){return e===c?e.moveTo(a,b.eventData.position,b.eventSource,f):!1}),b.shouldReveal=!1,b.shouldRevealHorizontal=!1,!0},b.prototype._addCursorUp=function(a){if(this.configuration.editor.readOnly)return!1;var b=this.cursors.getSelections(),c=b.length;for(var d=0;d<c;d++)this.cursors.addSecondaryCursor(b[d]);return this._invokeForAll(a,function(a,b,d){return a>=c?b.moveUp(!1,!1,d):!1})},b.prototype._addCursorDown=function(a){if(this.configuration.editor.readOnly)return!1;var b=this.cursors.getSelections(),c=b.length;for(var d=0;d<c;d++)this.cursors.addSecondaryCursor(b[d]);return this._invokeForAll(a,function(a,b,d){return a>=c?b.moveDown(!1,!1,d):!1})},b.prototype._moveLeft=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveLeft(a,d)})},b.prototype._moveWordLeft=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveWordLeft(a,d)})},b.prototype._moveRight=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveRight(a,d)})},b.prototype._moveWordRight=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveWordRight(a,d)})},b.prototype._moveDown=function(a,b,c){return this._invokeForAll(c,function(c,d,e){return d.moveDown(a,b,e)})},b.prototype._moveUp=function(a,b,c){return this._invokeForAll(c,function(c,d,e){return d.moveUp(a,b,e)})},b.prototype._moveToBeginningOfLine=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveToBeginningOfLine(a,d)})},b.prototype._moveToEndOfLine=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveToEndOfLine(a,d)})},b.prototype._moveToBeginningOfBuffer=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveToBeginningOfBuffer(a,d)})},b.prototype._moveToEndOfBuffer=function(a,b){return this._invokeForAll(b,function(b,c,d){return c.moveToEndOfBuffer(a,d)})},b.prototype._selectAll=function(a){return this.cursors.killSecondaryCursors(),this._invokeForAll(a,function(a,b,c){return b.selectAll(c)})},b.prototype._line=function(a,b){return this.cursors.killSecondaryCursors(),this._invokeForAll(b,function(c,d,e){return d.line(a,b.eventData.position,e)})},b.prototype._lastCursorLine=function(a,b){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var c=this.cursors.getLastAddedCursor();return this._invokeForAll(b,function(d,e,f){return e===c?e.line(a,b.eventData.position,f):!1}),b.shouldReveal=!1,b.shouldRevealHorizontal=!1,!0},b.prototype._word=function(a,b){return this.cursors.killSecondaryCursors(),this._invokeForAll(b,function(c,d,e){return d.word(a,b.eventData.position,b.eventData.preference||"none",e)})},b.prototype._lastCursorWord=function(a,b){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var c=this.cursors.getLastAddedCursor();return this._invokeForAll(b,function(d,e,f){return e===c?e.word(a,b.eventData.position,b.eventData.preference||"none",f):!1}),b.shouldReveal=!1,b.shouldRevealHorizontal=!1,!0},b.prototype._cancelSelection=function(a){return this.cursors.killSecondaryCursors()?!0:this._invokeForAll(a,function(a,b,c){return b.cancelSelection(c)})},b.prototype._type=function(a){var b=this,c=a.eventData.text;if(a.eventSource==="keyboard"){var d,e,f,g,h,i,j;for(d=0,f=c.length;d<f;d++){h=c.charAt(d);if(this.typingListeners.hasOwnProperty(h)){i=this.typingListeners[h].slice(0);for(e=0,g=i.length;e<g;e++)i[e]()}this._createAndInterpretHandlerCtx(a.eventSource,a.eventData,function(c){b._invokeForAll(c,function(a,b,c){return b.type(h,c)},!1,!1),a.cursorPositionChangeReason=c.cursorPositionChangeReason,a.shouldReveal=c.shouldReveal,a.shouldRevealVerticalInCenter=c.shouldRevealVerticalInCenter,a.shouldRevealHorizontal=c.shouldRevealHorizontal})}}else this._invokeForAll(a,function(a,b,d){return b.actualType(c,d)});return!0},b.prototype._tab=function(a){return this._invokeForAll(a,function(a,b,c){return b.tab(c)},!1,!1)},b.prototype._indent=function(a){return this._invokeForAll(a,function(a,b,c){return b.indent(c)})},b.prototype._outdent=function(a){return this._invokeForAll(a,function(a,b,c){return b.outdent(c)})},b.prototype._paste=function(a){return this._invokeForAll(a,function(b,c,d){return c.paste(a.eventData.text,a.eventData.sameSource,d)})},b.prototype._deleteLeft=function(a){return this._invokeForAll(a,function(a,b,c){return b.deleteLeft(c)},!1,!1)},b.prototype._deleteWordLeft=function(a){return this._invokeForAll(a,function(a,b,c){return b.deleteWordLeft(c)},!1,!1)},b.prototype._deleteRight=function(a){return this._invokeForAll(a,function(a,b,c){return b.deleteRight(c)},!1,!1)},b.prototype._deleteWordRight=function(a){return this._invokeForAll(a,function(a,b,c){return b.deleteWordRight(c)},!1,!1)},b.prototype._cut=function(a){return this._invokeForAll(a,function(a,b,c){return b.cut(c)})},b.prototype._undo=function(a){return a.cursorPositionChangeReason="undo",this._interpretCommandResult(this.model.undo()),!0},b.prototype._redo=function(a){return a.cursorPositionChangeReason="redo",this._interpretCommandResult(this.model.redo()),!0},b.prototype._externalExecuteCommand=function(a){return this.cursors.killSecondaryCursors(),this._invokeForAll(a,function(b,c,d){d.shouldPushStackElementBefore=!0,d.shouldPushStackElementAfter=!0,d.executeCommand=a.eventData})},b}(n.EventEmitter);b.Cursor=s});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/editorExtensions",["require","exports","vs/base/ui/actions","vs/editor/core/constants","vs/base/lib/winjs.base","vs/editor/editor","vs/platform/platform","vs/platform/services"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h;(function(a){a._map=[],a.TextFocus=1,a.WidgetFocus=2,a.Writeable=4,a.UpdateOnModelChange=8,a.UpdateOnConfigurationChange=16})(b.Precondition||(b.Precondition={}));var o=b.Precondition;b.defaultPrecondition=o.TextFocus|o.Writeable|o.UpdateOnModelChange;var p=function(a){function c(c,d,e){typeof e=="undefined"&&(e=b.defaultPrecondition);var f=this;a.call(this,d.id),this.descriptor=d,this.editor=c,this.needsTextFocus=!!(e&o.TextFocus),this.needsWidgetFocus=!!(e&o.WidgetFocus),this.needsWritable=!!(e&o.Writeable),this.toUnhook=[],this.bindings=[],d.label&&this.setLabel(d.label),this.hasFocus=!1,this.needsTextFocus&&(this.toUnhook.push(this.editor.addListener("focus",function(){return f.onFocusChanged(!0)})),this.toUnhook.push(this.editor.addListener("blur",function(){return f.onFocusChanged(!1)}))),this.hasWidgetFocus=!1,this.needsWidgetFocus&&(this.toUnhook.push(this.editor.addListener("widgetFocus",function(){return f.onWidgetFocusChanges(!0)})),this.toUnhook.push(this.editor.addListener("widgetBlur",function(){return f.onWidgetFocusChanges(!1)}))),this.isReadOnly=this.editor.getConfiguration().readOnly,this.needsWritable&&this.toUnhook.push(this.editor.addListener(j.EventType.ConfigurationChanged,function(){return f.onConfigurationChanged()})),!(e&o.UpdateOnModelChange)||this.toUnhook.push(this.editor.addListener(j.EventType.ModelChanged,function(){return f.updateEnablementState()})),!(e&o.UpdateOnConfigurationChange)||this.toUnhook.push(this.editor.addListener(j.EventType.ConfigurationChanged,function(){return f.updateEnablementState()})),this.setEnabled(this.getEnablementState())}return __extends(c,a),c.prototype.injectTelemetryService=function(a){this.telemetryService=a},c.prototype.injectHandlerService=function(a){var b=this;this.handlerService=a;var c=function(){return b.isEnabled()?(b.telemetryService.publicLog("editorActionInvoked",{name:b.label}),k.Promise.as(b.run()).done(),!0):!1};for(var d=0;d<this.descriptor.keybindings.length;d++)this.bindings.push(this.handlerService.bind(this.descriptor.keybindings[d],c));this.updateEnablementState()},c.prototype.getDescriptor=function(){return this.descriptor},c.prototype.onFocusChanged=function(a){this.hasFocus=a,this.setEnabled(this.getEnablementState())},c.prototype.onWidgetFocusChanges=function(a){this.hasWidgetFocus=a,this.setEnabled(this.getEnablementState())},c.prototype.onConfigurationChanged=function(){this.isReadOnly=this.editor.getConfiguration().readOnly,this.setEnabled(this.getEnablementState())},c.prototype.getEnablementState=function(){return this.editor.getModel()?this.needsTextFocus&&!this.hasFocus?!1:this.needsWidgetFocus&&!this.hasWidgetFocus?!1:this.needsWritable&&this.isReadOnly?!1:!!this.handlerService:!1},c.prototype.updateEnablementState=function(){this.setEnabled(this.getEnablementState())},c.prototype.dispose=function(){while(this.toUnhook.length>0)this.toUnhook.pop()();for(var b=0;b<this.bindings.length;b++)this.bindings[b].dispose();this.bindings=[],a.prototype.dispose.call(this)},c}(i.Action);b.EditorAction=p,b.Extensions={EditorContributions:"editor.contributions"};var q=function(){function a(){this.editorContributions=[]}return a.prototype.registerContribution=function(a){this.editorContributions.push(a)},a.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},a}();m.Registry.mixin(b.Extensions.EditorContributions,new q)}),define("vs/css!vs/editor/css/editor",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/editor/css/default-theme",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/base/ui/scrollbar/scrollbars",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/scrollbar/scrollableElement",["require","vs/base/lib/winjs.base","vs/css!./scrollbars","vs/base/env","vs/base/objects","vs/base/dom/dom","vs/base/dom/mouseEvent","./horizontalScrollbar","./verticalScrollbar","./domNodeScrollable"],function(a,b){var c=a("vs/base/env"),d=a("vs/base/objects"),e=a("vs/base/dom/dom"),f=a("vs/base/dom/mouseEvent"),g=a("./domNodeScrollable").DomNodeScrollable,h=a("./verticalScrollbar").VerticalScrollbar,i=a("./horizontalScrollbar").HorizontalScrollbar,j=500,k=50,l={useNative:!1,arrowSize:11,zIndexDelta:10,className:"",horizontal:"auto",vertical:"auto",horizontalHasArrows:!1,flipAxes:!1,verticalHasArrows:!1,horizontalScrollbarSize:10,verticalScrollbarSize:10,useShadows:!0,handleMouseWheel:!0},m=b.Class.define(function(b,c){this.originalElement=b,this.originalElement.style.overflow="hidden",this.options=this._createOptions(c),this.scrollable=this.options.scrollable?this.options.scrollable:new g(this.originalElement),this.verticalScrollbarWidth=this.options.verticalScrollbarSize,this.horizontalScrollbarHeight=this.options.horizontalScrollbarSize,this.verticalScrollbar=new h(this.scrollable,this,this.options),this.horizontalScrollbar=new i(this.scrollable,this,this.options),this.domNode=document.createElement("div"),this.domNode.className="monaco-scrollable-element "+this.options.className,this.domNode.style.position="relative",this.domNode.style.overflow="hidden",this.domNode.appendChild(this.originalElement),this.domNode.appendChild(this.horizontalScrollbar.domNode),this.domNode.appendChild(this.verticalScrollbar.domNode),this.options.useShadows&&(this.leftShadowDomNode=document.createElement("div"),this.leftShadowDomNode.className="shadow",this.domNode.appendChild(this.leftShadowDomNode),this.topShadowDomNode=document.createElement("div"),this.topShadowDomNode.className="shadow",this.domNode.appendChild(this.topShadowDomNode),this.topLeftShadowDomNode=document.createElement("div"),this.topLeftShadowDomNode.className="shadow top-left-corner",this.domNode.appendChild(this.topLeftShadowDomNode)),this.listenOnDomNode=this.options.listenOnDomNode||this.domNode,this.listenersToRemove=[],this.listenersToRemove.push(this.scrollable.addListener("scroll",this._onScroll.bind(this))),this.options.handleMouseWheel&&this.handleMouseWheel(),this.listenersToRemove.push(e.addListener(this.listenOnDomNode,"mouseover",this._onMouseOver.bind(this))),this.listenersToRemove.push(e.addNonBubblingMouseOutListener(this.listenOnDomNode,this._onMouseOut.bind(this))),this.onElementDimensionsTimeout=-1,this.onElementInternalDimensionsTimeout=-1,this.isDragging=!1,this.mouseIsOver=!1,this.onElementDimensions(!0),this.onElementInternalDimensions(!0)},{destroy:function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),this.onElementDimensionsTimeout!==-1&&(window.clearTimeout(this.onElementDimensionsTimeout),this.onElementDimensionsTimeout=-1),this.onElementInternalDimensionsTimeout!==-1&&(window.clearTimeout(this.onElementInternalDimensionsTimeout),this.onElementInternalDimensionsTimeout=-1)},getDomNode:function(){return this.domNode},getOverviewRulerLayoutInfo:function(){return{parent:this.domNode,insertBefore:this.verticalScrollbar.domNode,top:this.options.verticalHasArrows?this.options.arrowSize:0,bottom:(this.options.verticalHasArrows?this.options.arrowSize:0)+this.options.horizontalScrollbarSize,width:this.options.verticalScrollbarSize}},getVerticalSliderDomNode:function(){return this.verticalScrollbar.slider},delegateVerticalScrollbarMouseDown:function(a){return this.verticalScrollbar.onMouseDown(a)},onElementDimensions:function(a){this.actualElementDimensions||(this.actualElementDimensions=function(){this.onElementDimensionsTimeout=-1,this.dimensions=this._computeDimensions(),this.verticalScrollbar.onElementDimensions(this.dimensions,this.dimensions.height),this.horizontalScrollbar.onElementDimensions(this.dimensions,this.dimensions.width)}.bind(this)),a?this.actualElementDimensions():this.onElementDimensionsTimeout===-1&&(this.onElementDimensionsTimeout=window.setTimeout(this.actualElementDimensions,0))},onElementInternalDimensions:function(a){this.actualElementInternalDimensions||(this.actualElementInternalDimensions=function(){this.onElementInternalDimensionsTimeout=-1,this.horizontalScrollbar.onElementScrollSize(this.scrollable.getScrollWidth()),this.verticalScrollbar.onElementScrollSize(this.scrollable.getScrollHeight())}.bind(this)),a?this.actualElementInternalDimensions():this.onElementInternalDimensionsTimeout===-1&&(this.onElementInternalDimensionsTimeout=window.setTimeout(this.actualElementInternalDimensions,0))},updateClassName:function(a){this.options.className=a,c.browser.isMacintosh&&(this.options.className+=" mac"),c.browser.isIE8&&(this.options.className+=" ie8"),this.domNode.className="monaco-scrollable-element "+this.options.className},handleMouseWheel:function(){var a=-1,b=-1,c=function(){a!==-1&&(this.verticalScrollbar.setDesiredScrollPosition(a),a=-1),b!==-1&&(this.horizontalScrollbar.setDesiredScrollPosition(b),b=-1)}.bind(this),d=function(d){var g=new f.MouseWheelEvent(d);if(g.deltaY||g.deltaX){var h=g.deltaY,i=g.deltaX;this.options.flipAxes&&(h=g.deltaX,i=g.deltaY);if(h){var j=this.scrollable.getScrollTop();a=this.verticalScrollbar.validateScrollPosition((a!==-1?a:j)-k*h),a===j&&(a=-1)}if(i){var l=this.scrollable.getScrollLeft();b=this.horizontalScrollbar.validateScrollPosition((b!==-1?b:l)-k*i),b===l&&(b=-1)}if(a!==-1||b!==-1)g.preventDefault(),g.stopPropagation(),e.scheduleAtNextAnimationFrame(c)}}.bind(this);this.listenersToRemove.push(e.addListener(this.listenOnDomNode,"mousewheel",d)),this.listenersToRemove.push(e.addListener(this.listenOnDomNode,"DOMMouseScroll",d))},_onScroll:function(){var a=this.scrollable.getScrollHeight(),b=this.scrollable.getScrollTop(),c=this.scrollable.getScrollWidth(),d=this.scrollable.getScrollLeft();this.verticalScrollbar.onElementScrollPosition(b),this.horizontalScrollbar.onElementScrollPosition(d);if(this.options.useShadows){var f=a>0&&b>0,g=c>0&&d>0;e.toggleClass(this.topShadowDomNode,"top",f),e.toggleClass(this.topLeftShadowDomNode,"top",f),e.toggleClass(this.leftShadowDomNode,"left",g),e.toggleClass(this.topLeftShadowDomNode,"left",g)}this._reveal()},onDragStart:function(){this.isDragging=!0,this._reveal()},onDragEnd:function(){this.isDragging=!1,this._hide()},_onMouseOut:function(a){this.mouseIsOver=!1,this._hide()},_onMouseOver:function(a){this.mouseIsOver=!0,this._reveal()},_reveal:function(){this.verticalScrollbar.reveal(),this.horizontalScrollbar.reveal(),this._beginHide()},_hide:function(){!this.mouseIsOver&&!this.isDragging&&(this.verticalScrollbar.hide(),this.horizontalScrollbar.hide())},_beginHide:function(){this.hideTimeout!==-1&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(this._hide.bind(this),j)},_computeDimensions:function(){var a=this.domNode.clientWidth,b=this.domNode.clientHeight,c=b-(this.options.verticalHasArrows?2*this.options.arrowSize:0)-this.options.horizontalScrollbarSize,d=a-(this.options.horizontalHasArrows?2*this.options.arrowSize:0)-this.options.verticalScrollbarSize;return{width:a,height:b,representableHeight:c,representableWidth:d}},_createOptions:function(a){var b=d.clone(l),e=["useNative","arrowSize","zIndexDelta","className","scrollable","horizontal","vertical","horizontalHasArrows","verticalHasArrows","horizontalScrollbarSize","verticalScrollbarSize","flipAxes","useShadows","handleMouseWheel","listenOnDomNode"];for(var f=0;f<e.length;f++)a.hasOwnProperty(e[f])&&(b[e[f]]=a[e[f]]);return c.browser.isMacintosh&&(b.className+=" mac"),c.browser.isIE8&&(b.className+=" ie8"),b}}),n=function(a,b){var c=document.createElement("div"),d=new m(c,b);a(c);var f={_parent:null,appendTo:function(a){a.appendChild(d.getDomNode()),this._parent=a,this.layout()},layout:function(a,b){if(!this._parent)return;a!==null&&(typeof a=="undefined"&&(e.isAncestor(this._parent,document.body)?a=e.getTotalHeight(this._parent)+"px":a=c.style.height),c.style.height=d.getDomNode().style.height=a),b!==null&&(typeof b=="undefined"&&(e.isAncestor(this._parent,document.body)?b=e.getTotalWidth(this._parent)+"px":b=c.style.width),c.style.width=d.getDomNode().style.width=b),d.onElementDimensions(),d.onElementInternalDimensions()}};return f};return{ScrollableElement:m,div:n}});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/layout/editorScrollable",["require","exports","vs/base/eventEmitter","vs/base/ui/scrollbar/scrollableElement","vs/base/env","vs/base/dom/dom"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=function(a){function b(b){var c=this;a.call(this),this.toDispose=[],this.linesContent=b,this.scrollTop=0,this.scrollLeft=0,this.scrollWidth=0,this.scrollHeight=0,this.width=0,this.height=0,this.useNativeScrollTop=!0,this.toDispose.push(j.addDisposableListener(b,"scroll",function(a){c.scrollTop!==b.scrollTop&&c.shouldUseNativeScrollTop()&&c.setScrollTop(b.scrollTop)}))}return __extends(b,a),b.DISABLE_NATIVE_SCROLLING=!0,b.prototype.dispose=function(){this.toDispose=g.dispose(this.toDispose)},b.prototype.updateUseNativeScrollTop=function(){var a=this.useNativeScrollTop;return i.browser.isIE?this.useNativeScrollTop=this.scrollHeight<15e5:this.useNativeScrollTop=!0,a!==this.useNativeScrollTop},b.prototype.shouldUseNativeScrollTop=function(){return b.DISABLE_NATIVE_SCROLLING?!1:this.useNativeScrollTop},b.prototype.getWidth=function(){return this.width},b.prototype.setWidth=function(a){a<0&&(a=0),this.width!==a&&(this.width=a,this.setScrollWidth(this.scrollWidth),this.setScrollLeft(this.scrollLeft))},b.prototype.getScrollWidth=function(){return this.scrollWidth},b.prototype.setScrollWidth=function(a){a<this.width&&(a=this.width),this.scrollWidth!==a&&(this.scrollWidth=a,this.setScrollLeft(this.scrollLeft),this._emitInternalSizeEvent())},b.prototype.getScrollLeft=function(){return this.scrollLeft},b.prototype.setScrollLeft=function(a){a<0&&(a=0),a+this.width>this.scrollWidth&&(a=this.scrollWidth-this.width),this.scrollLeft!==a&&(this.scrollLeft=a,this.linesContent.scrollLeft=a,this._emitScrollEvent(!1,!0))},b.prototype.getHeight=function(){return this.height},b.prototype.setHeight=function(a){a<0&&(a=0),this.height!==a&&(this.height=a,this.setScrollHeight(this.scrollHeight),this.setScrollTop(this.scrollTop))},b.prototype.getScrollHeight=function(){return this.scrollHeight},b.prototype.setScrollHeight=function(a){a<this.height&&(a=this.height),this.scrollHeight!==a&&(this.scrollHeight=a,this.setScrollTop(this.scrollTop),this._emitInternalSizeEvent(),this._emitScrollHeightChangeEvent(),this.updateUseNativeScrollTop()&&(this.shouldUseNativeScrollTop()?this.linesContent.scrollTop=this.scrollTop:this.linesContent.scrollTop=0))},b.prototype.getScrollTop=function(){return this.scrollTop},b.prototype.setScrollTop=function(a){a<0&&(a=0),a+this.height>this.scrollHeight&&(a=this.scrollHeight-this.height),this.scrollTop!==a&&(this.scrollTop=a,this._emitScrollEvent(!0,!1),this.shouldUseNativeScrollTop()&&(this.linesContent.scrollTop=a))},b._SCROLL_EVENT="scroll",b.prototype._emitScrollEvent=function(a,c){var d={vertical:a,horizontal:c};this.emit(b._SCROLL_EVENT,d)},b.prototype.addScrollListener=function(a){return this.addListener2(b._SCROLL_EVENT,a)},b._SCROLL_HEIGHT_CHANGED_EVENT="scrollHeightChanged",b.prototype._emitScrollHeightChangeEvent=function(){this.emit(b._SCROLL_HEIGHT_CHANGED_EVENT)},b.prototype.addScrollHeightChangeListener=function(a){return this.addListener2(b._SCROLL_HEIGHT_CHANGED_EVENT,a)},b._INTERNAL_SIZE_CHANGED_EVENT="internalSizeChanged",b.prototype._emitInternalSizeEvent=function(){this.emit(b._INTERNAL_SIZE_CHANGED_EVENT)},b.prototype.addInternalSizeChangeListener=function(a){return this.addListener2(b._INTERNAL_SIZE_CHANGED_EVENT,a)},b}(g.EventEmitter);b.EditorScrollable=k}),define("vs/editor/core/view/layout/scrollManager",["require","exports","vs/base/eventEmitter","vs/base/ui/scrollbar/scrollableElement","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/layout/editorScrollable","vs/base/dom/dom"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h,o=function(){function a(a,b,c,d){var e=this;this.listenersToRemove=[],this.toDispose=[],this.configuration=a,this.privateViewEventBus=b,this.linesContent=c,this.scrollable=new m.EditorScrollable(c),this.toDispose.push(this.scrollable),this.toDispose.push(this.scrollable.addScrollListener(function(a){a.vertical&&e.privateViewEventBus.emit(k.EventType.ViewVerticalScrollChanged,null)}));var f={scrollable:this.scrollable,listenOnDomNode:d,vertical:this.configuration.editor.scrollbar.vertical,horizontal:this.configuration.editor.scrollbar.horizontal,className:"monaco-editor-scrollbar "+this.configuration.editor.theme};this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"verticalHasArrows"),this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"horizontalHasArrows"),this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"verticalScrollbarSize"),this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"horizontalScrollbarSize"),this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"useShadows"),this._addPropertyIfPresent(this.configuration.editor.scrollbar,f,"handleMouseWheel"),this.scrollbar=new j.ScrollableElement(c,f),this.toDispose.push(this.scrollable.addInternalSizeChangeListener(function(){e.scrollbar.onElementInternalDimensions()})),this.listenersToRemove.push(this.configuration.addListener(k.EventType.ConfigurationChanged,function(a){e.scrollbar.updateClassName(e.configuration.editor.theme)})),this.listenersToRemove.push(n.addListener(d,"scroll",function(a){var b=d.scrollTop,c=d.scrollLeft;if(b||c)e.scrollable.setScrollTop(e.getScrollTop()+b),e.scrollable.setScrollLeft(e.getScrollLeft()+c),d.scrollTop=0,d.scrollLeft=0}))}return a.prototype.getVerticalScrollbarWidth=function(){return this.scrollbar.verticalScrollbarWidth},a.prototype.getHorizontalScrollbarHeight=function(){return this.scrollbar.horizontalScrollbarHeight},a.prototype._addPropertyIfPresent=function(a,b,c){a.hasOwnProperty(c)&&(b[c]=a[c])},a.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.toDispose=i.dispose(this.toDispose),this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null)},a.prototype.onSizeProviderLayoutChanged=function(){this.scrollbar&&this.scrollbar.onElementDimensions()},a.prototype.getScrolledTopFromAbsoluteTop=function(a){return a-this.scrollable.getScrollTop()},a.prototype.getLinesContentScrolledTopFromAbsoluteTop=function(a){return this.scrollable.shouldUseNativeScrollTop()?a:a-this.scrollable.getScrollTop()},a.prototype.setLinesContentDomNodeTop=function(a,b){var c=a.style.top,d=this.getLinesContentScrolledTopFromAbsoluteTop(b)+"px";c!==d&&(a.style.top=this.getLinesContentScrolledTopFromAbsoluteTop(b)+"px")},a.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar?this.scrollbar.getOverviewRulerLayoutInfo():null},a.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar?this.scrollbar.getDomNode():this.linesContent},a.prototype.delegateVerticalScrollbarMouseDown=function(a){this.scrollbar&&this.scrollbar.delegateVerticalScrollbarMouseDown(a)},a.prototype.getWidth=function(){return this.scrollable.getWidth()},a.prototype.setWidth=function(a){this.scrollable.setWidth(a)},a.prototype.getHeight=function(){return this.scrollable.getHeight()},a.prototype.setHeight=function(a){this.scrollable.setHeight(a)},a.prototype.getScrollHeight=function(){return this.scrollable.getScrollHeight()},a.prototype.setScrollHeight=function(a){var b=this.scrollable.shouldUseNativeScrollTop();this.scrollable.setScrollHeight(a);var c=this.scrollable.shouldUseNativeScrollTop();b!==c&&this.privateViewEventBus.emit(k.EventType.ViewVerticalScrollChanged,null)},a.prototype.getScrollWidth=function(){return this.scrollable.getScrollWidth()},a.prototype.setScrollWidth=function(a){this.scrollable.setScrollWidth(a)},a.prototype.getScrollLeft=function(){return this.scrollable.getScrollLeft()},a.prototype.setScrollLeft=function(a){this.scrollable.setScrollLeft(a)},a.prototype.getScrollTop=function(){return this.scrollable.getScrollTop()},a.prototype.setScrollTop=function(a){this.scrollable.setScrollTop(a)},a.prototype.addScrollListener=function(a){return this.scrollable.addScrollListener(a)},a.prototype.addScrollHeightChangeListener=function(a){return this.scrollable.addScrollHeightChangeListener(a)},a}();b.LayoutManager=o});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/view/view",["require","exports","vs/nls!vs/editor/editor.main","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/syntaxStyleManager","vs/editor/core/controller/keyboardHandler","vs/editor/core/controller/pointerHandler","vs/editor/core/view/parts/viewZones","vs/editor/core/view/parts/lineNumbers","vs/editor/core/view/parts/glyphMargin","vs/editor/core/view/layers/selectionLayer","vs/editor/core/view/layers/viewLines","vs/editor/core/view/layers/decorationsLayer","vs/editor/core/view/parts/overviewRuler","vs/editor/core/view/parts/decorationsOverviewRuler","vs/editor/core/view/parts/viewCursors","vs/editor/core/view/parts/viewContentWidgets","vs/editor/core/view/parts/viewOverlayWidgets","vs/editor/core/view/layout/scrollManager","vs/editor/core/view/layout/layoutProvider","vs/base/performance/timer","vs/editor/core/view/viewEventHandler","vs/editor/core/view/viewEventDispatcher"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A=c,B=d,C=e,D=f,E=g,F=h,G=i,H=j,I=k,J=l,K=m,L=n,M=o,N=p,O=q,P=r,Q=s,R=t,S=u,T=v,U=w,V=x,W=y,X=z,Y=function(a){function b(b,c,d,e,f,g){var h=this;a.call(this),this.eventDispatcher=new X.ViewEventDispatcher(function(a){return h._renderOnce(a)});var i=V.start(V.Topic.EDITOR,"View.ctor");this.listenersToRemove=[],this.listenersToDispose=[],this.linesContent=document.createElement("div"),this.domNode=document.createElement("div");var j=new T.LayoutManager(d,this.eventDispatcher,this.linesContent,this.domNode);this.listenersToDispose.push(j.addScrollListener(function(a){return h._scrollChanged(a)}));var k=new U.LayoutProvider(c,d,f,this.eventDispatcher,j);this.addEventHandler(k),this.context=new E.ViewContext(b,d,e,f,new C.EventEmitter,j,k,this.eventDispatcher),this.domNode.className=this.context.configuration.getEditorClassName(),this.domNode.style.overflow="hidden";var l=new F.SyntaxStyleManager(this.context.configuration);this.textArea=document.createElement("textarea"),this.textArea.className="inputarea",this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",A.localize("vs_editor_core_view_view",0)),this.textArea.style.top="0px",this.textArea.style.left="0px",this.listenersToRemove.push(B.addListener(this.textArea,"focus",function(){return h._focusGained()})),this.listenersToRemove.push(B.addListener(this.textArea,"blur",function(){return h._focusLost()})),this.textAreaCover=document.createElement("div"),this.context.configuration.editor.glyphMargin?this.textAreaCover.className="glyph-margin":this.context.configuration.editor.lineNumbers?this.textAreaCover.className="line-numbers":this.textAreaCover.className="monaco-editor-background",this.textAreaCover.style.position="absolute",this.textAreaCover.style.width="4px",this.textAreaCover.style.height="4px",this.textAreaCover.style.top="0px",this.textAreaCover.style.left="0px",this.simpleViewParts=[],this.twoStepRenderViewParts=[],this.viewZones=new I.ViewZones(this.context),this.addSimpleViewPart(this.viewZones);var m=null;m=new P.DecorationsOverviewRuler(this.context),this.addSimpleViewPart(m),this.viewLines=new M.ViewLines(this.context,l),this.addSimpleViewPart(this.viewLines);var n=new L.SelectionLayer(this.context);this.addTwoStepRenderViewPart(n);var o=new N.DecorationsLayer(this.context);this.addTwoStepRenderViewPart(o);var p=new J.LineNumbers(this.context);this.addSimpleViewPart(p);var q=new K.GlyphMargin(this.context);this.addSimpleViewPart(q);var r=new Q.ViewCursors(this.context);this.addTwoStepRenderViewPart(r),this.contentWidgets=new R.ViewContentWidgets(this.context,this.linesContent),this.addTwoStepRenderViewPart(this.contentWidgets),this.overlayWidgets=new S.ViewOverlayWidgets(this.context,this.textArea),this.addSimpleViewPart(this.overlayWidgets),this.keyboardHandler=new G.KeyboardHandler(this.context,this.textArea),this.linesDecorations=document.createElement("div"),this.linesDecorations.className="lines-decorations",this.linesDecorations.style.position="absolute",this.linesDecorations.style.left="0px",this.linesDecorations.style.top="0px",this.linesDecorations.setAttribute("role","presentation"),this.linesDecorations.setAttribute("aria-hidden","true"),this.linesContent.className="lines-content",this.linesContent.style.position="absolute",this.linesContent.style.top="0px",this.linesContent.appendChild(r.currentLine),this.linesContent.appendChild(r.getDomNode()),this.linesContent.appendChild(n.domNode),this.linesContent.appendChild(o.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.domNode),this.domNode.appendChild(q.domNode),this.domNode.appendChild(p.domNode),this.domNode.appendChild(this.linesDecorations);var s=this.context.layoutManager.getOverviewRulerLayoutInfo();m&&s.parent.insertBefore(m.getDomNode(),s.insertBefore),this.linesContentContainer=this.context.layoutManager.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",this.domNode.appendChild(this.linesContentContainer),this.domNode.appendChild(this.textArea),this.domNode.appendChild(this.textAreaCover);var t={view:this.domNode,textArea:this.textArea,textAreaCover:this.textAreaCover,glyphMargin:q.domNode,lineNumbers:p.domNode,linesDecorations:this.linesDecorations,linesContent:this.linesContent,viewLines:this.viewLines.domNode};this.pointerHandler=new H.PointerHandler(this.context,t,this.viewLines),this.hasFocus=!1,this.listenersToRemove.push(g.addBulkListener(function(a){return h._onEvents(a)})),this.addEventHandler(this),this.shouldSetSelectionToTextarea=!0,this._renderOnceCount=0,this.context.privateViewEventBus.emit(D.EventType.ViewLayoutChanged,this.context.layoutProvider.getLayoutInfo()),this.context.layoutManager.onSizeProviderLayoutChanged(),i.stop()}return __extends(b,a),b.prototype.layout=function(){this.context.layoutProvider.layout()},b.prototype.onLayoutChanged=function(a){return this._sizeChanged(a),this.context.layoutManager.onSizeProviderLayoutChanged(),!1},b.prototype.onModelFlushed=function(){return this.context.layoutManager.setScrollTop(0),this.context.layoutManager.setScrollLeft(0),!1},b.prototype.onCursorSelectionChanged=function(a){return this.shouldSetSelectionToTextarea=!0,!1},b.prototype.onConfigurationChanged=function(){return this.domNode.className=this.context.configuration.getEditorClassName(),!1},b.prototype.addSimpleViewPart=function(a){this.addEventHandler(a),this.simpleViewParts.push(a)},b.prototype.addTwoStepRenderViewPart=function(a){this.addEventHandler(a),this.twoStepRenderViewParts.push(a)},b.prototype.addEventHandler=function(a){this.eventDispatcher.addEventHandler(a)},b.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.listenersToDispose=C.dispose(this.listenersToDispose),this.keyboardHandler.destroy(),this.pointerHandler.destroy();for(var a=0,b=this.simpleViewParts.length;a<b;a++)this.simpleViewParts[a].destroy();this.simpleViewParts=[];for(var a=0,b=this.twoStepRenderViewParts.length;a<b;a++)this.twoStepRenderViewParts[a].destroy();this.twoStepRenderViewParts=[],this.context.layoutManager.destroy(),this.context.layoutProvider.dispose()},b.prototype.getLineInfoProvider=function(){return this.viewLines},b.prototype.getInternalEventBus=function(){return this.context.internalEventBus},b.prototype.saveState=function(){return{scrollTop:this.context.layoutManager.getScrollTop(),scrollLeft:this.context.layoutManager.getScrollLeft(),linesDomNodeWidth:this.context.layoutManager.getScrollWidth()}},b.prototype.restoreState=function(a){var b=a.linesDomNodeWidth;b&&this.context.layoutManager.getScrollWidth()<b&&this.context.layoutManager.setScrollWidth(b),this.context.layoutManager.setScrollLeft(a.scrollLeft),this.context.layoutManager.setScrollTop(a.scrollTop)},b.prototype.focus=function(){this.textArea.focus()},b.prototype.createOverviewRuler=function(a,b,c){return new O.OverviewRuler(this.context,a,b,c)},b.prototype.change=function(a){var b=this;this._renderOnce(function(){var c=!1,d={addZone:function(a){return c=!0,b.viewZones.addZone(a)},removeZone:function(a){c=b.viewZones.removeZone(a)||c}},e=a(d);return d.addZone=null,d.removeZone=null,c&&b.context.privateViewEventBus.emit(D.EventType.ViewZonesChanged,null),e})},b.prototype.addContentWidget=function(a){this.contentWidgets.addWidget(a.widget),this.layoutContentWidget(a)},b.prototype.layoutContentWidget=function(a){var b=a.position?a.position.position:null,c=a.position?a.position.preference:null;this.contentWidgets.setWidgetPosition(a.widget,b,c,this.viewLines)},b.prototype.removeContentWidget=function(a){this.contentWidgets.removeWidget(a.widget)},b.prototype.addOverlayWidget=function(a){this.overlayWidgets.addWidget(a.widget),this.layoutOverlayWidget(a)},b.prototype.layoutOverlayWidget=function(a){var b=a.position?a.position.preference:null;this.overlayWidgets.setWidgetPosition(a.widget,b)},b.prototype.removeOverlayWidget=function(a){this.overlayWidgets.removeWidget(a.widget)},b.prototype._renderOnce=function(a){this._renderOnceCount++;var b=a?a():null;this._renderOnceCount--;if(this._renderOnceCount===0){if(!B.isInDOM(this.domNode))return;var c=V.start(V.Topic.EDITOR,"View - render"),d,e;for(d=0,e=this.simpleViewParts.length;d<e;d++)this.simpleViewParts[d].render();var f=[];for(d=0,e=this.twoStepRenderViewParts.length;d<e;d++)f[d]=this.twoStepRenderViewParts[d].prepareRender(this.viewLines);for(d=0,e=this.twoStepRenderViewParts.length;d<e;d++)this.twoStepRenderViewParts[d].render(f[d]);this.shouldSetSelectionToTextarea&&(this.shouldSetSelectionToTextarea=!1,this.keyboardHandler.selectionChanged(this.context.cursor.getSelection())),c.stop()}return b},b.prototype.render=function(){this._renderOnce(null)},b.prototype._onEvents=function(a){this.eventDispatcher.emitBulk(a)},b.prototype._sizeChanged=function(a){this.domNode.style.width=a.width+"px",this.domNode.style.height=a.height+"px",this.linesDecorations.style.left=a.decorationsLeft+"px",this.linesDecorations.style.width=a.decorationsWidth+"px",this.linesDecorations.style.height=a.decorationsHeight+"px",this.linesContent.style.width=a.contentWidth+"px",this.linesContent.style.height=a.contentHeight+"px",this.linesContentContainer.style.left=a.contentLeft+"px",this.linesContentContainer.style.width=a.contentWidth+"px",this.linesContentContainer.style.height=a.contentHeight+"px",this.context.layoutManager.setWidth(a.contentWidth),this.context.layoutManager.setHeight(a.contentHeight)},b.prototype._scrollChanged=function(a){this.context.internalEventBus.emit("scroll",{scrollTop:this.context.layoutManager.getScrollTop(),scrollLeft:this.context.layoutManager.getScrollLeft()})},b.prototype._focusGained=function(){this.hasFocus=!0,this.context.internalEventBus.emit(D.EventType.ViewFocusGained,{}),B.toggleClass(this.domNode,"focused",this.hasFocus)},b.prototype._focusLost=function(){this.hasFocus=!1,this.context.internalEventBus.emit(D.EventType.ViewFocusLost,{}),B.toggleClass(this.domNode,"focused",this.hasFocus)},b}(W.ViewEventHandler);b.View=Y});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/codeEditorWidget",["require","exports","vs/base/lib/winjs.base","vs/editor/core/constants","vs/base/objects","vs/base/types","vs/platform/platform","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/configuration","vs/editor/core/controller/cursor","vs/editor/core/view/view","vs/editor/core/position","vs/editor/core/range","vs/editor/core/selection","vs/base/performance/timer","vs/platform/services","vs/editor/editorExtensions","vs/base/ui/actions","vs/editor/editor","vs/css!./../css/editor","vs/css!./../css/default-theme"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=c,v=d,w=e,x=f,y=g,z=h,A=i,B=j,C=k,D=l,E=m,F=n,G=o,H=p,I=q,J=r,K=s,L=t,M=0,N=function(a){function b(b,c,d){var e=this;a.call(this);var f=H.start(H.Topic.EDITOR,"CodeEditor.ctor");this.id=++M,this.domElement=b,this.lifetimeListeners=[],c=c||{};var g=null;c.model&&(g=c.model,delete c.model),this.configuration=new B.Configuration(c),this.focusTracker=z.trackFocus(this.domElement),this.focusTracker.addFocusListener(function(){e.emit("widgetFocus",{})}),this.focusTracker.addBlurListener(function(){e.emit("widgetBlur",{})}),this.handlerService=null,this.injectorService=d,d&&x.isFunction(d.injectTo)&&d.injectTo(this),this.handlerService?(this.bindings=this.configuration.bindKeys(this.handlerService),this.bindings.deactivate(),this.lifetimeListeners.push(this.addListener("blur",function(){return e.bindings.deactivate()})),this.lifetimeListeners.push(this.addListener("focus",function(){return e.bindings.activate()}))):this.bindings=null,this._attachModel(g),this.contentWidgets={},this.overlayWidgets={},this.contributions={};var h=y.Registry.as(J.Extensions.EditorContributions),i=h.getEditorContributions();for(var j=0,k=i.length;j<k;j++){var l=i[j],m=l.createNew(this,l);d&&x.isFunction(d.injectTo)&&d.injectTo(m),this.contributions[m.getId()]=m}f.stop()}return __extends(b,a),b.prototype.getEditorType=function(){return v.EditorType.ICodeEditor},b.prototype.injectHandlerService=function(a){this.handlerService=a},b.prototype.destroy=function(){while(this.lifetimeListeners.length>0)this.lifetimeListeners.pop()();var a;for(a in this.contributions)this.contributions.hasOwnProperty(a)&&this.contributions[a].dispose();this.contributions={},this.contentWidgets={},this.overlayWidgets={},this.bindings&&this.bindings.dispose(),this.focusTracker.dispose(),this._detachModel(),this.configuration.destroy(),this.emit(v.EventType.Disposed,{})},b.prototype.updateOptions=function(a){a=a||{},this.configuration.updateOptions(a)},b.prototype.getConfiguration=function(){return w.clone(this.configuration.editor)},b.prototype.getLiveConfiguration=function(){return this.configuration},b.prototype.getValue=function(a){typeof a=="undefined"&&(a=null);if(this.model){var b=a&&a.preserveBOM?!0:!1,c=L.EndOfLinePreference.TextDefined;return a&&a.lineEnding&&a.lineEnding==="\n"?c=L.EndOfLinePreference.LF:a&&a.lineEnding&&a.lineEnding==="\r\n"&&(c=L.EndOfLinePreference.CRLF),this.model.getValue(c,b)}return""},b.prototype.getView=function(){return this.view},b.prototype.getModel=function(){return this.model},b.prototype.setModel=function(a){typeof a=="undefined"&&(a=null);if(this.model===a)return;this._detachModel(),this._attachModel(a),this.emit(v.EventType.ModelChanged)},b.prototype.getDomNode=function(){return this.hasView?this.view.domNode:null},b.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},b.prototype.setPosition=function(a,b,c,d){typeof b=="undefined"&&(b=!1),typeof c=="undefined"&&(c=!1),typeof d=="undefined"&&(d=!1);if(!this.cursor)return;if(!E.isIPosition(a))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:a.lineNumber,selectionStartColumn:a.column,positionLineNumber:a.lineNumber,positionColumn:a.column}]),b&&this.revealPosition(a,c,d)},b.prototype.revealPosition=function(a,b,c){typeof b=="undefined"&&(b=!1),typeof c=="undefined"&&(c=!1);if(!E.isIPosition(a))throw new Error("Invalid arguments");this.revealRange({startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column},b,c)},b.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},b.prototype.getSelections=function(){if(!this.cursor)return null;var a=this.cursor.getSelections(),b=[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c].clone();return b},b.prototype.setSelection=function(a,b,c,d){typeof b=="undefined"&&(b=!1),typeof c=="undefined"&&(c=!1),typeof d=="undefined"&&(d=!1);var e=G.isISelection(a),f=F.isIRange(a);if(!e&&!f)throw new Error("Invalid arguments");if(e)this._setSelectionImpl(a,b,c,d);else if(f){var g={selectionStartLineNumber:a.startLineNumber,selectionStartColumn:a.startColumn,positionLineNumber:a.endLineNumber,positionColumn:a.endColumn};this._setSelectionImpl(g,b,c,d)}},b.prototype._setSelectionImpl=function(a,b,c,d){if(!this.cursor)return;var e=new G.Selection(a.selectionStartLineNumber,a.selectionStartColumn,a.positionLineNumber,a.positionColumn);this.cursor.setSelections("api",[e]),b&&this.revealRange(e,c,d)},b.prototype.revealRange=function(a,b,c){typeof b=="undefined"&&(b=!1),typeof c=="undefined"&&(c=!1);if(!this.model||!this.cursor)return;if(!F.isIRange(a))throw new Error("Invalid arguments");var d=this.model.validateRange(a),e={range:d,revealVerticalInCenter:b,revealHorizontal:c};this.cursor.emit(v.EventType.CursorRevealRange,e)},b.prototype.setSelections=function(a){if(!this.cursor)return;if(!a||a.length===0)throw new Error("Invalid arguments");for(var b=0,c=a.length;b<c;b++)if(!G.isISelection(a[b]))throw new Error("Invalid arguments");this.cursor.setSelections("api",a)},b.prototype.setScrollTop=function(a){if(!this.hasView)return;if(typeof a!="number")throw new Error("Invalid arguments");this.view.context.layoutManager.setScrollTop(a)},b.prototype.getScrollTop=function(){return this.hasView?this.view.context.layoutManager.getScrollTop():-1},b.prototype.delegateVerticalScrollbarMouseDown=function(a){if(!this.hasView)return;this.view.context.layoutManager.delegateVerticalScrollbarMouseDown(a)},b.prototype.setScrollLeft=function(a){if(!this.hasView)return;if(typeof a!="number")throw new Error("Invalid arguments");this.view.context.layoutManager.setScrollLeft(a)},b.prototype.getScrollLeft=function(){return this.hasView?this.view.context.layoutManager.getScrollLeft():-1},b.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;var a=this.cursor.saveState(),b=this.view.saveState();return{cursorState:a,viewState:b}},b.prototype.restoreViewState=function(a){if(!this.cursor||!this.hasView)return;var b=a;if(b&&b.cursorState&&b.viewState){var c=b;this.cursor.restoreState(c.cursorState),this.view.restoreState(c.viewState)}},b.prototype.layout=function(){this.hasView&&this.view.layout()},b.prototype.onVisible=function(){},b.prototype.onHide=function(){},b.prototype.focus=function(){if(!this.hasView)return;this.view.focus()},b.prototype.getContribution=function(a){return this.contributions[a]||null},b.prototype.getActions=function(){var a=[],b;for(b in this.contributions)if(this.contributions.hasOwnProperty(b)){var c=this.contributions[b];x.isFunction(c.isEnabled)&&x.isFunction(c.run)&&a.push(c)}return a},b.prototype.getAction=function(a){var b=this.contributions[a];return b&&x.isFunction(b.isEnabled)&&x.isFunction(b.run)?b:null},b.prototype.trigger=function(a,b,c){var d=this.getAction(b);d!==null?d.isEnabled()&&u.Promise.as(d.run()).done():this.configuration.handlerDispatcher.trigger(a,b,c)},b.prototype.executeCommand=function(a,b){return this.configuration.handlerDispatcher.trigger(a,v.Handler.ExecuteCommand,b)},b.prototype.setEditableRange=function(a){if(!this.cursor)return;if(!F.isIRange(a))throw new Error("Invalid arguments");this.cursor.setEditableRange(a)},b.prototype.addContentWidget=function(a){var b={widget:a,position:a.getPosition()};this.contentWidgets[a.getId()]=b,this.hasView&&this.view.addContentWidget(b)},b.prototype.layoutContentWidget=function(a){var b=a.getId();if(this.contentWidgets.hasOwnProperty(b)){var c=this.contentWidgets[b];c.position=a.getPosition(),this.hasView&&this.view.layoutContentWidget(c)}},b.prototype.removeContentWidget=function(a){var b=a.getId();if(this.contentWidgets.hasOwnProperty(b)){var c=this.contentWidgets[b];delete this.contentWidgets[b],this.hasView&&this.view.removeContentWidget(c)}},b.prototype.addOverlayWidget=function(a){var b={widget:a,position:a.getPosition()};this.overlayWidgets[a.getId()]=b,this.hasView&&this.view.addOverlayWidget(b)},b.prototype.layoutOverlayWidget=function(a){var b=a.getId();if(this.overlayWidgets.hasOwnProperty(b)){var c=this.overlayWidgets[b];c.position=a.getPosition(),this.hasView&&this.view.layoutOverlayWidget(c)}},b.prototype.removeOverlayWidget=function(a){var b=a.getId();if(this.overlayWidgets.hasOwnProperty(b)){var c=this.overlayWidgets[b];delete this.overlayWidgets[b],this.hasView&&this.view.removeOverlayWidget(c)}},b.prototype.changeDecorations=function(a){return this.model?this.model.changeDecorations(a,this.id):null},b.prototype.getLineDecorations=function(a){return this.model?this.model.getLineDecorations(a,this.id,this.configuration.editor.readOnly):null},b.prototype.deltaDecorations=function(a,b){return this.model?this.model.deltaDecorations(a,b,this.id):null},b.prototype.changeViewZones=function(a){if(!this.hasView)return;this.view.change(a)},b.prototype.addTypingListener=function(a,b){var c=this;return this.cursor?(this.cursor.addTypingListener(a,b),function(){c.cursor&&c.cursor.removeTypingListener(a,b)}):null},b.prototype.getTopForLineNumber=function(a){return this.hasView?this.view.context.layoutProvider.getVerticalOffsetForLineNumber(a):-1},b.prototype.getOffsetForColumn=function(a,b){return this.hasView?this.view.getLineInfoProvider().getOffsetForColumn(a,b):-1},b.prototype.getLayoutInfo=function(){return this.hasView?this.view.context.layoutProvider.getLayoutInfo():null},b.prototype._attachModel=function(a){var b=this;this.model=a?a:null,this.listenersToRemove=[],this.view=null,this.cursor=null;if(this.model){this.model.onBeforeViewAttached();var c=new A.EventEmitter;this.listenersToRemove.push(c.addEmitter(this.configuration,v.ID.Configuration)),this.listenersToRemove.push(c.addEmitter(this.model,v.ID.Model)),this.cursor=new C.Cursor(this.id,this.configuration,this.model,c),this.view=new D.View(this.id,this.domElement,this.configuration,this.cursor,this.model,c),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.ViewFocusGained,function(a){return b.emit("focus")})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener("scroll",function(a){return b.emit("scroll",a)})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.ViewFocusLost,function(a){return b.emit("blur")})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.ContextMenu,function(a){return b.emit(v.EventType.ContextMenu,a)})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.MouseDown,function(a){return b.emit(v.EventType.MouseDown,a)})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.MouseMove,function(a){return b.emit(v.EventType.MouseMove,a)})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.MouseLeave,function(a){return b.emit(v.EventType.MouseLeave,a)})),this.listenersToRemove.push(this.view.getInternalEventBus().addListener(v.EventType.KeyDown,function(a){return b.emit(v.EventType.KeyDown,a)})),this.listenersToRemove.push(c.addBulkListener(function(a){for(var c=0;c<a.length;c++){var d=a[c];switch(d.getType()){case v.EventType.ModelContentChanged:d.getData().changeType===v.EventType.ModelContentChangedFlush&&d.getData().modeChanged&&b.emit(v.EventType.ModelModeChanged),b.emit("change",{});break;case v.EventType.CursorPositionChanged:b.emit(v.EventType.CursorPositionChanged,d.getData());break;case v.EventType.CursorSelectionChanged:b.emit(v.EventType.CursorSelectionChanged,d.getData());break;case v.EventType.ConfigurationChanged:b.emit(v.EventType.ConfigurationChanged,d.getData());break;case v.EventType.ViewLayoutChanged:b.emit(v.EventType.EditorLayout,{})}}})),this.domElement.appendChild(this.view.domNode),this.view.render(),this.hasView=!0;var d;for(var d in this.contentWidgets)this.contentWidgets.hasOwnProperty(d)&&this.view.addContentWidget(this.contentWidgets[d]);for(var d in this.overlayWidgets)this.overlayWidgets.hasOwnProperty(d)&&this.view.addOverlayWidget(this.overlayWidgets[d])}else this.hasView=!1},b.prototype._detachModel=function(){this.hasView=!1,this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.cursor&&(this.cursor.destroy(),this.cursor=null),this.view&&(this.view.destroy(),this.domElement.removeChild(this.view.domNode),this.view=null),this.model&&(this.model.removeAllDecorationsWithOwnerId(this.id),this.model=null)},b}(A.EventEmitter);b.CodeEditorWidget=N}),define("vs/css!vs/editor/diff/diffEditor",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/diff/diffEditorWidget",["require","exports","vs/editor/core/config","vs/editor/core/constants","vs/base/objects","vs/editor/core/codeEditorWidget","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/range","vs/editor/editor","vs/css!./diffEditor"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(a){function b(b,c,d){var e=this;a.call(this),c=c||{},this.domElement=b,this.listenersToRemove=[],this.theme=c.theme||k.Config.editor.theme,this.containerDomElement=document.createElement("div"),this.containerDomElement.className="monaco-diff-editor monaco-editor-background "+this.theme,this.containerDomElement.style.position="relative",this.containerDomElement.style.height="100%",this.domElement.appendChild(this.containerDomElement),this.overviewDomElement=document.createElement("div"),this.overviewDomElement.className="diffOverview",this.overviewDomElement.style.position="absolute",this.overviewDomElement.style.height="100%",this.listenersToRemove.push(o.addListener(this.overviewDomElement,"mousedown",function(a){e.modifiedEditor.delegateVerticalScrollbarMouseDown(a)})),this.containerDomElement.appendChild(this.overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this.domElementWidth=0,this.domElementHeight=0,this._measureDomElement(!1),c.automaticLayout&&(this.measureDomElementToken=window.setInterval(function(){return e._measureDomElement(!0)},100)),this._createLeftHandSideEditor(c,d),this._createRightHandSideEditor(c,d),this.originalDecorations=[],this.modifiedDecorations=[],this.originalZones=[],this.modifiedZones=[],this.beginUpdateDecorationsTimeout=-1,this.diffComputationToken=0,this.isHandlingScrollEvent=!1,this.isVisible=!0}return __extends(b,a),b.UPDATE_DIFF_DECORATIONS_DELAY=200,b.ONE_OVERVIEW_WIDTH=15,b.ENTIRE_DIFF_OVERVIEW_WIDTH=30,b.prototype.getEditorType=function(){return l.EditorType.IDiffEditor},b.prototype.getLineChanges=function(){return this.lineChanges},b.prototype.getModifiedEditor=function(){return this.modifiedEditor},b.prototype._createLeftHandSide=function(){this.originalDomNode=document.createElement("div"),this.originalDomNode.className="original",this.originalDomNode.style.position="absolute",this.originalDomNode.style.height="100%",this.containerDomElement.appendChild(this.originalDomNode)},b.prototype._createRightHandSide=function(){this.modifiedDomNode=document.createElement("div"),this.modifiedDomNode.className="modified",this.modifiedDomNode.style.position="absolute",this.modifiedDomNode.style.height="100%",this.containerDomElement.appendChild(this.modifiedDomNode)},b.prototype._measureDomElement=function(a){var c=o.getDomNodePosition(this.containerDomElement);if(c.width!==this.width||c.height!==this.height){this.width=c.width,this.height=c.height;var d=Math.floor((this.width-b.ENTIRE_DIFF_OVERVIEW_WIDTH)/2),e=this.width-d;this.originalDomNode.style.width=d+"px",this.originalDomNode.style.left="0px",this.modifiedDomNode.style.width=e+"px",this.modifiedDomNode.style.left=d+"px",this.overviewDomElement.style.top="0px",this.overviewDomElement.style.width=b.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this.overviewDomElement.style.left=this.width-b.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",a&&this.layout(),(this.originalOverviewRuler||this.modifiedOverviewRuler)&&this._layoutOverviewRulers()}},b.prototype._layoutOverviewRulers=function(){var a=b.ENTIRE_DIFF_OVERVIEW_WIDTH-2*b.ONE_OVERVIEW_WIDTH,c=this.modifiedEditor.getLayoutInfo();c&&(this.originalOverviewRuler.setLayout({top:0,width:b.ONE_OVERVIEW_WIDTH,right:a+b.ONE_OVERVIEW_WIDTH,height:this.height-c.horizontalScrollbarHeight},!0),this.modifiedOverviewRuler.setLayout({top:0,right:0,width:b.ONE_OVERVIEW_WIDTH,height:this.height-c.horizontalScrollbarHeight},!0))},b.prototype._recreateOverviewRulers=function(){this.originalOverviewRuler&&(this.overviewDomElement.removeChild(this.originalOverviewRuler.getDomNode()),this.originalOverviewRuler.destroy()),this.originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this.overviewDomElement.appendChild(this.originalOverviewRuler.getDomNode()),this.modifiedOverviewRuler&&(this.overviewDomElement.removeChild(this.modifiedOverviewRuler.getDomNode()),this.modifiedOverviewRuler.destroy()),this.modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this.overviewDomElement.appendChild(this.modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},b.prototype._createLeftHandSideEditor=function(a,b){var c=this;this.originalEditor=new n.CodeEditorWidget(this.originalDomNode,this._adjustOptionsForLeftHandSide(a),b),this.listenersToRemove.push(this.originalEditor.addBulkListener(function(a){return c._onOriginalEditorEvents(a)})),this.listenersToRemove.push(this.addEmitter(this.originalEditor,"leftHandSide"))},b.prototype._adjustOptionsForLeftHandSide=function(a){var b=m.clone(a||{});return b.readOnly=!0,b.automaticLayout=!1,b.scrollbar=b.scrollbar||{},b.scrollbar.vertical="hidden",b.theme=this.theme+" original-in-monaco-diff-editor",b},b.prototype._createRightHandSideEditor=function(a,b){var c=this;this.modifiedEditor=new n.CodeEditorWidget(this.modifiedDomNode,this._adjustOptionsForRightHandSide(a),b),this.listenersToRemove.push(this.modifiedEditor.addBulkListener(function(a){return c._onModifiedEditorEvents(a)})),this.listenersToRemove.push(this.addEmitter(this.modifiedEditor,"rightHandSide"))},b.prototype._adjustOptionsForRightHandSide=function(a){var b=m.clone(a||{});return b.automaticLayout=!1,b.scrollbar=b.scrollbar||{},b.scrollbar.vertical="visible",b.scrollbar.verticalHasArrows=!1,b.scrollbar.verticalScrollbarSize=41,b.theme=this.theme+" modified-in-monaco-diff-editor",b},b.prototype._cleanViewZonesAndDecorationsOnEditor=function(a,b,c){b.length>0&&a.getView().change(function(a){for(var c=0,d=b.length;c<d;c++)a.removeZone(b[c])}),c.length>0&&a.changeDecorations(function(a){for(var b=0,d=c.length;b<d;b++)a.removeDecoration(c[b])})},b.prototype._cleanViewZonesAndDecorations=function(){this._cleanViewZonesAndDecorationsOnEditor(this.originalEditor,this.originalZones,this.originalDecorations),this.originalZones=[],this.originalDecorations=[],this._cleanViewZonesAndDecorationsOnEditor(this.modifiedEditor,this.modifiedZones,this.modifiedDecorations),this.modifiedZones=[],this.modifiedDecorations=[]},b.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],window.clearInterval(this.measureDomElementToken),this._cleanViewZonesAndDecorations(),this.originalOverviewRuler.destroy(),this.modifiedOverviewRuler.destroy(),this.originalEditor.destroy(),this.modifiedEditor.destroy()},b.prototype.updateOptions=function(a){this.theme=a&&a.theme?a.theme:this.theme,this.containerDomElement.className="monaco-diff-editor monaco-editor-background "+this.theme,this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(a)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(a))},b.prototype.getValue=function(a){return typeof a=="undefined"&&(a=null),this.modifiedEditor.getValue(a)},b.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},b.prototype.setModel=function(a){this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(a?a.original:null),this.modifiedEditor.setModel(a?a.modified:null),a&&(this._recreateOverviewRulers(),this._beginUpdateDecorations())},b.prototype.getDomNode=function(){return this.domElement},b.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},b.prototype.setPosition=function(a,b,c,d){this.modifiedEditor.setPosition(a,b,c,d)},b.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},b.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},b.prototype.setSelection=function(a,b,c,d){this.modifiedEditor.setSelection(a,b,c,d)},b.prototype.getActions=function(){return this.modifiedEditor.getActions()},b.prototype.saveViewState=function(){var a=this.originalEditor.saveViewState(),b=this.modifiedEditor.saveViewState();return{original:a,modified:b}},b.prototype.restoreViewState=function(a){var b=a;if(b.original&&b.original){var c=b;this.originalEditor.restoreViewState(c.original),this.modifiedEditor.restoreViewState(c.modified)}},b.prototype.layout=function(){this._measureDomElement(!1),this.originalEditor.layout(),this.modifiedEditor.layout()},b.prototype.focus=function(){this.modifiedEditor.focus()},b.prototype.onVisible=function(){this.isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},b.prototype.onHide=function(){this.isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},b.prototype.trigger=function(a,b,c){this.modifiedEditor.trigger(a,b,c)},b.prototype._onModifiedEditorEvents=function(a){var c=this,d=!1;for(var e=0;e<a.length;e++)d=d||a[e].getType()==="change",a[e].getType()==="scroll"&&this._onModifiedEditorScroll(a[e].getData());d&&this.isVisible&&(this.beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this.beginUpdateDecorationsTimeout),this.beginUpdateDecorationsTimeout=-1),this.beginUpdateDecorationsTimeout=window.setTimeout(function(){return c._beginUpdateDecorations()},b.UPDATE_DIFF_DECORATIONS_DELAY))},b.prototype._onOriginalEditorEvents=function(a){for(var b=0;b<a.length;b++)a[b].getType()==="scroll"&&this._onOriginalEditorScroll(a[b].getData())},b.prototype._onOriginalEditorScroll=function(a){if(this.isHandlingScrollEvent)return;this.isHandlingScrollEvent=!0,this.modifiedEditor.setScrollLeft(a.scrollLeft),this.modifiedEditor.setScrollTop(a.scrollTop),this.isHandlingScrollEvent=!1},b.prototype._onModifiedEditorScroll=function(a){if(this.isHandlingScrollEvent)return;this.isHandlingScrollEvent=!0,this.originalEditor.setScrollLeft(a.scrollLeft),this.originalEditor.setScrollTop(a.scrollTop),this.isHandlingScrollEvent=!1},b.prototype._beginUpdateDecorations=function(){var a=this;this.beginUpdateDecorationsTimeout=-1;if(!this.modifiedEditor.getModel())return;this.diffComputationToken++;var b=this.diffComputationToken,c=this.modifiedEditor.getModel().getMode().diffSupport;c?c.computeDiff(this.originalEditor.getModel().getAssociatedResource(),this.modifiedEditor.getModel().getAssociatedResource()).then(function(c){b===a.diffComputationToken&&(a._updateDecorations(c),a.lineChanges=c,a.emit(l.EventType.DiffUpdated,{editor:a,lineChanges:c}))},function(c){b===a.diffComputationToken&&a._updateDecorations(null)}):this._updateDecorations(null)},b.prototype._createDecoration=function(a,b,c,d,e,f){return{range:new q.Range(a,b,c,d),options:{isOverlay:!1,className:e,isWholeLine:f}}},b.prototype._createFakeLinesDiv=function(){var a=document.createElement("div");return a.className="diagonal-fill",a},b.prototype._isChangeOrInsert=function(a){return a.modifiedEndLineNumber>0},b.prototype._isChangeOrDelete=function(a){return a.originalEndLineNumber>0},b.prototype._getOriginalLength=function(a){return a.originalEndLineNumber>0?a.originalEndLineNumber-a.originalStartLineNumber+1:0},b.prototype._getModifiedLength=function(a){return a.modifiedEndLineNumber>0?a.modifiedEndLineNumber-a.modifiedStartLineNumber+1:0},b.prototype._updateOriginalEditorDecorations=function(a){var b=this;this.originalEditor.getView().change(function(c){var d,e;for(d=0,e=b.originalZones.length;d<e;d++)c.removeZone(b.originalZones[d]);b.originalZones=[];var f,g,h,i;for(d=0,e=a.length;d<e;d++)f=a[d],b._isChangeOrInsert(f)&&(h=b._getModifiedLength(f),g=b._getOriginalLength(f),h>g&&(i=Math.max(f.originalStartLineNumber,f.originalEndLineNumber),b.originalZones.push(c.addZone({afterLineNumber:i,heightInLines:h-g,domNode:b._createFakeLinesDiv()}))))});var c,d,e,f,g,h,i,j=[],k=[];for(c=0,d=a.length;c<d;c++){g=a[c];if(this._isChangeOrDelete(g)){i=this._isChangeOrInsert(g),j.push(this._createDecoration(g.originalStartLineNumber,1,g.originalEndLineNumber,1e5,"line-delete",!0)),(!i||!g.charChanges)&&j.push(this._createDecoration(g.originalStartLineNumber,1,g.originalEndLineNumber,1e5,"char-delete",!0)),k.push({startLineNumber:g.originalStartLineNumber,endLineNumber:g.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)"});if(g.charChanges)for(e=0,f=g.charChanges.length;e<f;e++)h=g.charChanges[e],this._isChangeOrDelete(h)&&j.push(this._createDecoration(h.originalStartLineNumber,h.originalStartColumn,h.originalEndLineNumber,h.originalEndColumn,"char-delete",!1))}}this.originalDecorations=this.originalEditor.deltaDecorations(this.originalDecorations,j),this.originalOverviewRuler.setZones(k,!0)},b.prototype._updateModifiedEditorDecorations=function(a){var b=this;this.modifiedEditor.getView().change(function(c){var d,e;for(d=0,e=b.modifiedZones.length;d<e;d++)c.removeZone(b.modifiedZones[d]);b.modifiedZones=[];var f,g,h,i;for(d=0,e=a.length;d<e;d++)f=a[d],b._isChangeOrDelete(f)&&(h=b._getModifiedLength(f),g=b._getOriginalLength(f),g>h&&(i=Math.max(f.modifiedStartLineNumber,f.modifiedEndLineNumber),b.modifiedZones.push(c.addZone({afterLineNumber:i,heightInLines:g-h,domNode:b._createFakeLinesDiv()}))))});var c,d,e,f,g,h,i,j=[],k=[];for(c=0,d=a.length;c<d;c++){g=a[c];if(this._isChangeOrInsert(g)){i=this._isChangeOrDelete(g),j.push(this._createDecoration(g.modifiedStartLineNumber,1,g.modifiedEndLineNumber,1e5,"line-insert",!0)),(!i||!g.charChanges)&&j.push(this._createDecoration(g.modifiedStartLineNumber,1,g.modifiedEndLineNumber,1e5,"char-insert",!0)),k.push({startLineNumber:g.modifiedStartLineNumber,endLineNumber:g.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)"});if(g.charChanges)for(e=0,f=g.charChanges.length;e<f;e++)h=g.charChanges[e],this._isChangeOrInsert(h)&&j.push(this._createDecoration(h.modifiedStartLineNumber,h.modifiedStartColumn,h.modifiedEndLineNumber,h.modifiedEndColumn,"char-insert",!1))}}this.modifiedDecorations=this.modifiedEditor.deltaDecorations(this.modifiedDecorations,j),this.modifiedOverviewRuler.setZones(k,!0)},b.prototype._updateDecorations=function(a){this._updateOriginalEditorDecorations(a),this._updateModifiedEditorDecorations(a)},b}(p.EventEmitter);b.DiffEditorWidget=s});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/platform/actionRegistry",["require","exports","vs/platform/platform","vs/platform/services","vs/base/ui/actions","vs/base/assert"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=function(a){function b(b,c,d){var e=[];for(var f=0;f<arguments.length-3;f++)e[f]=arguments[f+3];a.call(this,b),this.id=c,this.label=d,this.keybindings=e.slice(0)}return __extends(b,a),b.prototype.createNew=function(){var b=[];for(var c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];return a.prototype.createNew.apply(this,b)},b}(g.BaseDescriptor);b.ActionDescriptor=k;var l=function(a){function b(b,c,d,e,f){typeof d=="undefined"&&(d=""),typeof e=="undefined"&&(e=""),typeof f=="undefined"&&(f=!0),a.call(this,b,d,e,f),this.actionDescriptor=c}return __extends(b,a),b.prototype.injectInjectorService=function(a){this.injectorService=a},b.prototype.getId=function(){return this.cachedAction instanceof i.Action?this.cachedAction.getId():a.prototype.getId.call(this)},b.prototype.getLabel=function(){return this.cachedAction instanceof i.Action?this.cachedAction.getLabel():a.prototype.getLabel.call(this)},b.prototype.setLabel=function(b){this.cachedAction instanceof i.Action?this.cachedAction.setLabel(b):a.prototype.setLabel.call(this,b)},b.prototype.getClass=function(){return this.cachedAction instanceof i.Action?this.cachedAction.getClass():a.prototype.getClass.call(this)},b.prototype.setClass=function(b){this.cachedAction instanceof i.Action?this.cachedAction.setClass(b):a.prototype.setClass.call(this,b)},b.prototype.isEnabled=function(){return this.cachedAction instanceof i.Action?this.cachedAction.isEnabled():a.prototype.isEnabled.call(this)},b.prototype.setEnabled=function(b){this.cachedAction instanceof i.Action?this.cachedAction.setEnabled(b):a.prototype.setEnabled.call(this,b)},b.prototype.run=function(a){var b=this;return this.cachedAction instanceof i.Action?this.cachedAction.run(a):this.actionDescriptor.loadAndCreate(this.injectorService).then(function(c){return j.ok(c instanceof i.Action,"Action must be an instanceof Base Action"),b.cachedAction=c,c.run(a)})},b}(i.Action);b.DeferredAction=l}),define("vs/css!vs/base/ui/widgets/findInput",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/base/dom/builder",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/dom/builder",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/strings","vs/base/assert","vs/base/dom/dom","vs/css!./builder"],function(a,b,c,d,e,f,g){function t(a,b){return k.ok(!(a instanceof H),"Expected HTMLElement as parameter"),new H(a,b)}function u(a){return new I(a)}function v(a,b){return k.ok(a instanceof H||a instanceof I,"Expected Builder as parameter"),a instanceof I?new I(a):new H(a.getHTMLElement(),b)}function w(a){return new I(a)}function x(){return new H(null,!0)}function y(a,b){k.ok(i.isString(a),"Expected String as parameter");var c=document.getElementById(a);return c?new H(c,b):null}function z(a,b){k.ok(i.isString(a),"Expected String as parameter");var c=document.querySelectorAll(a),d=[];for(var e=0;e<c.length;e++)d.push(t(c.item(e),b));return new I(d)}function A(a){return a[m]||(a[m]={}),a[m]}function B(a,b,c){A(a)[b]=c}function C(a,b,c){var d=A(a)[b];return i.isUndefined(d)?c:d}function D(a,b){delete A(a)[b]}function E(a,b){B(a,n,b)}function F(a){D(a,n)}function G(a){return C(a,n)}var h=c,i=d,j=e,k=f,l=g,m="_msDataKey",n="__$binding",o="__$listeners",p="__$visibility",q=function(){function a(a,b){this.x=a,this.y=b}return a}();b.Position=q;var r=function(){function a(a,b,c,d){this.top=a,this.right=b,this.bottom=c,this.left=d}return a}();b.Box=r;var s=function(){function a(a,b){this.width=a,this.height=b}return a.prototype.substract=function(b){return new a(this.width-b.left-b.right,this.height-b.top-b.bottom)},a}();b.Dimension=s,b.withElement=t,b.withElements=u,b.withBuilder=v,b.withBuilders=w,b.offDOM=x,b.withElementById=y,b.withElementsBySelector=z,b.Select=function(a,b){return z(a,b)},b.Build={withElement:t,withBuilder:v,offDOM:x,withElementById:y,withElementsBySelector:z},b.setPropertyOnElement=B,b.getPropertyFromElement=C,b.removePropertyFromElement=D,b.bindElement=E,b.unbindElement=F,b.getBindingFromElement=G,b.Binding={setPropertyOnElement:B,getPropertyFromElement:C,removePropertyFromElement:D,bindElement:E,unbindElement:F,getBindingFromElement:G};var H=function(){function a(a,b){this.offdom=b,this.container=a,this.currentElement=a,this.createdElements=[],this.toUnbind={},this.captureToUnbind={}}return a.prototype.asContainer=function(){return v(this,this.offdom)},a.prototype.clone=function(){var b=new a(this.container,this.offdom);return b.currentElement=this.currentElement,b.createdElements=this.createdElements,b.captureToUnbind=this.captureToUnbind,b.toUnbind=this.toUnbind,b},a.prototype.and=function(b){!(b instanceof a)&&!(b instanceof I)&&(b=new a(b,this.offdom));var c=[this];if(b instanceof I)for(var d=0;d<b.length;d++)c.push(b.item(d));else c.push(b);return new I(c)},a.prototype.build=function(b,c){k.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),b?b instanceof a&&(b=b.getHTMLElement()):b=this.container,k.ok(b,"Builder can only be build() with a container provided."),k.ok(l.isHTMLElement(b),"The container must either be a HTMLElement or a Builder.");var d=b,e,f,g=d.childNodes;if(i.isNumber(c)&&c<g.length)for(e=0,f=this.createdElements.length;e<f;e++)d.insertBefore(this.createdElements[e],g[c++]);else for(e=0,f=this.createdElements.length;e<f;e++)d.appendChild(this.createdElements[e]);return this},a.prototype.appendTo=function(b,c){b?b instanceof a&&(b=b.getHTMLElement()):b=this.container,k.ok(b,"Builder can only be build() with a container provided."),k.ok(l.isHTMLElement(b),"The container must either be a HTMLElement or a Builder.");var d=b;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var e=d.childNodes;return i.isNumber(c)&&c<e.length?d.insertBefore(this.currentElement,e[c]):d.appendChild(this.currentElement),this},a.prototype.append=function(b,c){return k.ok(b,"Need a child to append"),l.isHTMLElement(b)&&(b=t(b)),k.ok(b instanceof a||b instanceof I,"Need a child to append"),b.appendTo(this,c),this},a.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},a.prototype.getHTMLElement=function(){return this.currentElement},a.prototype.getContainer=function(){return this.container},a.prototype.div=function(a,b){return this.doElement("div",a,b)},a.prototype.p=function(a,b){return this.doElement("p",a,b)},a.prototype.ul=function(a,b){return this.doElement("ul",a,b)},a.prototype.ol=function(a,b){return this.doElement("ol",a,b)},a.prototype.li=function(a,b){return this.doElement("li",a,b)},a.prototype.span=function(a,b){return this.doElement("span",a,b)},a.prototype.img=function(a,b){return this.doElement("img",a,b)},a.prototype.a=function(a,b){return this.doElement("a",a,b)},a.prototype.header=function(a,b){return this.doElement("header",a,b)},a.prototype.section=function(a,b){return this.doElement("section",a,b)},a.prototype.footer=function(a,b){return this.doElement("footer",a,b)},a.prototype.element=function(a,b,c){return this.doElement(a,b,c)},a.prototype.doElement=function(b,c,d){var e=document.createElement(b);this.currentElement=e,this.offdom&&this.createdElements.push(e),i.isObject(c)&&this.attr(c),i.isFunction(c)&&(d=c);if(i.isFunction(d)){var f=new a(e);d.call(f,f)}return this.offdom||this.container.appendChild(e),this},a.prototype.domFocus=function(){return this.currentElement.focus(),this},a.prototype.hasFocus=function(){var a=document.activeElement;return a===this.currentElement},a.prototype.domSelect=function(){return this.currentElement.select(),this},a.prototype.domBlur=function(){return this.currentElement.blur(),this},a.prototype.domClick=function(){return this.currentElement.click(),this},a.prototype.on=function(a,b,c,d){var e=this;if(i.isArray(a))a.forEach(function(a){e.on(a,b,c,d)});else{var f=a,g=l.addListener(this.currentElement,f,function(a){b(a,e,g)},d||!1);d?(this.captureToUnbind[f]||(this.captureToUnbind[f]=[]),this.captureToUnbind[f].push(g)):(this.toUnbind[f]||(this.toUnbind[f]=[]),this.toUnbind[f].push(g));var h=this.getProperty(o,[]);h.push(g),this.setProperty(o,h),c&&i.isArray(c)&&c.push(g)}return this},a.prototype.off=function(a,b){var c=this;if(i.isArray(a))a.forEach(function(a){c.off(a)});else{var d=a;if(b){if(this.captureToUnbind[d])while(this.captureToUnbind[d].length)this.captureToUnbind[d].pop()()}else if(this.toUnbind[d])while(this.toUnbind[d].length)this.toUnbind[d].pop()()}return this},a.prototype.once=function(a,b,c,d){var e=this;if(i.isArray(a))a.forEach(function(a){e.once(a,b)});else var f=a,g=l.addListener(this.currentElement,f,function(a){b(a,e,g),g()},d||!1);return this},a.prototype.preventDefault=function(a,b,c,d){var e=function(a){a.preventDefault(),b&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};return this.on(a,e,c)},a.prototype.attr=function(a,b){if(i.isObject(a)){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];this.doSetAttr(c,d)}return this}return i.isString(a)&&!i.isString(b)?this.currentElement.getAttribute(a):(i.isString(a)&&(i.isString(b)||(b=String(b)),this.doSetAttr(a,b)),this)},a.prototype.doSetAttr=function(a,b){a==="class"&&(a="addClass"),this[a]?i.isArray(b)?this[a].apply(this,b):this[a].call(this,b):this.currentElement.setAttribute(a,b)},a.prototype.id=function(a){return this.currentElement.setAttribute("id",a),this},a.prototype.src=function(a){return this.currentElement.setAttribute("src",a),this},a.prototype.href=function(a){return this.currentElement.setAttribute("href",a),this},a.prototype.title=function(a){return this.currentElement.setAttribute("title",a),this},a.prototype.name=function(a){return this.currentElement.setAttribute("name",a),this},a.prototype.type=function(a){return this.currentElement.setAttribute("type",a),this},a.prototype.value=function(a){return this.currentElement.setAttribute("value",a),this},a.prototype.alt=function(a){return this.currentElement.setAttribute("alt",a),this},a.prototype.draggable=function(a){return this.currentElement.setAttribute("draggable",a?"true":"false"),this},a.prototype.tabindex=function(a){return this.currentElement.setAttribute("tabindex",a.toString()),this},a.prototype.style=function(a,b){if(i.isObject(a)){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];this.doSetStyle(c,d)}}else{if(i.isString(a)&&!i.isString(b))return this.currentElement.style[this.cssKeyToJavaScriptProperty(a)];i.isString(a)&&i.isString(b)&&this.doSetStyle(a,b)}return this},a.prototype.doSetStyle=function(a,b){if(a.indexOf("-")>=0){var c=a.split("-");a=c[0];for(var d=1;d<c.length;d++){var e=c[d];a=a+e.charAt(0).toUpperCase()+e.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(a)]=b},a.prototype.cssKeyToJavaScriptProperty=function(a){if(a.indexOf("-")>=0){var b=a.split("-");a=b[0];for(var c=1;c<b.length;c++){var d=b[c];a=a+d.charAt(0).toUpperCase()+d.substr(1)}}else a==="float"&&(a="cssFloat");return a},a.prototype.getComputedStyle=function(){return l.getComputedStyle(this.currentElement)},a.prototype.addClass=function(){var a=this,b=[];for(var c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];return b.forEach(function(b){var c=b.split(" ");c.forEach(function(b){l.addClass(a.currentElement,b)})}),this},a.prototype.setClass=function(a){return this.currentElement.className=a,this},a.prototype.hasClass=function(a){return l.hasClass(this.currentElement,a)},a.prototype.removeClass=function(){var a=this,b=[];for(var c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];return b.forEach(function(b){var c=b.split(" ");c.forEach(function(b){l.removeClass(a.currentElement,b)})}),this},a.prototype.swapClass=function(a,b){return this.hasClass(a)?(this.removeClass(a),this.addClass(b)):(this.removeClass(b),this.addClass(a)),this},a.prototype.toggleClass=function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a),this},a.prototype.color=function(a){return this.currentElement.style.color=a,this},a.prototype.background=function(a){return this.currentElement.style.backgroundColor=a,this},a.prototype.padding=function(a,b,c,d){return i.isString(a)&&a.indexOf(" ")>=0?this.padding.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.paddingTop=this.toPixel(a)),b!==null&&(this.currentElement.style.paddingRight=this.toPixel(b)),c!==null&&(this.currentElement.style.paddingBottom=this.toPixel(c)),d!==null&&(this.currentElement.style.paddingLeft=this.toPixel(d)),this)},a.prototype.margin=function(a,b,c,d){return i.isString(a)&&a.indexOf(" ")>=0?this.margin.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.marginTop=this.toPixel(a)),b!==null&&(this.currentElement.style.marginRight=this.toPixel(b)),c!==null&&(this.currentElement.style.marginBottom=this.toPixel(c)),d!==null&&(this.currentElement.style.marginLeft=this.toPixel(d)),this)},a.prototype.position=function(a,b,c,d,e){return i.isString(a)&&a.indexOf(" ")>=0?this.position.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.top=this.toPixel(a)),b!==null&&(this.currentElement.style.right=this.toPixel(b)),c!==null&&(this.currentElement.style.bottom=this.toPixel(c)),d!==null&&(this.currentElement.style.left=this.toPixel(d)),e||(e="absolute"),this.currentElement.style.position=e,this)},a.prototype.size=function(a,b){return i.isString(a)&&a.indexOf(" ")>=0?this.size.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.width=this.toPixel(a)),b!==null&&(this.currentElement.style.height=this.toPixel(b)),this)},a.prototype.minSize=function(a,b){return i.isString(a)&&a.indexOf(" ")>=0?this.minSize.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.minWidth=this.toPixel(a)),b!==null&&(this.currentElement.style.minHeight=this.toPixel(b)),this)},a.prototype.maxSize=function(a,b){return i.isString(a)&&a.indexOf(" ")>=0?this.maxSize.apply(this,a.split(" ")):(a!==null&&(this.currentElement.style.maxWidth=this.toPixel(a)),b!==null&&(this.currentElement.style.maxHeight=this.toPixel(b)),this)},a.prototype.float=function(a){return this.currentElement.style.cssFloat=a,this.currentElement.style.styleFloat=a,this},a.prototype.clear=function(a){return this.currentElement.style.clear=a,this},a.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},a.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},a.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},a.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},a.prototype.overflow=function(a){return this.currentElement.style.overflow=a,this},a.prototype.display=function(a){return this.currentElement.style.display=a,this},a.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},a.prototype.showDelayed=function(a){var b=this;this.cancelVisibilityPromise();var c=h.Promise.timeout(a);return this.setProperty(p,c),c.done(function(){b.removeProperty(p),b.show()}),this},a.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},a.prototype.isHidden=function(){return this.hasClass("hidden")||this.currentElement.style.display==="none"},a.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},a.prototype.cancelVisibilityPromise=function(){var a=this.getProperty(p);a&&(a.cancel(),this.removeProperty(p))},a.prototype.border=function(a,b,c){return i.isString(a)&&a.indexOf(" ")>=0?this.border.apply(this,a.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(a),c&&(this.currentElement.style.borderColor=c),b&&(this.currentElement.style.borderStyle=b),this)},a.prototype.borderTop=function(a,b,c){return i.isString(a)&&a.indexOf(" ")>=0?this.borderTop.apply(this,a.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(a),c&&(this.currentElement.style.borderTopColor=c),b&&(this.currentElement.style.borderTopStyle=b),this)},a.prototype.borderBottom=function(a,b,c){return i.isString(a)&&a.indexOf(" ")>=0?this.borderBottom.apply(this,a.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(a),c&&(this.currentElement.style.borderBottomColor=c),b&&(this.currentElement.style.borderBottomStyle=b),this)},a.prototype.borderLeft=function(a,b,c){return i.isString(a)&&a.indexOf(" ")>=0?this.borderLeft.apply(this,a.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(a),c&&(this.currentElement.style.borderLeftColor=c),b&&(this.currentElement.style.borderLeftStyle=b),this)},a.prototype.borderRight=function(a,b,c){return i.isString(a)&&a.indexOf(" ")>=0?this.borderRight.apply(this,a.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(a),c&&(this.currentElement.style.borderRightColor=c),b&&(this.currentElement.style.borderRightStyle=b),this)},a.prototype.textAlign=function(a){return this.currentElement.style.textAlign=a,this},a.prototype.verticalAlign=function(a){return this.currentElement.style.verticalAlign=a,this},a.prototype.toPixel=function(a){return a.toString().indexOf("px")===-1?a.toString()+"px":a},a.prototype.innerHtml=function(a,b){return b?this.currentElement.innerHTML+=a:this.currentElement.innerHTML=a,this},a.prototype.text=function(a){return this.currentElement.textContent=a,this},a.prototype.safeInnerHtml=function(a,b){return this.innerHtml(j.escape(a),b)},a.prototype.insertHtmlBeforeBegin=function(a){return this.currentElement.insertAdjacentHTML("beforeBegin",a),this},a.prototype.insertHtmlAfterBegin=function(a){return this.currentElement.insertAdjacentHTML("afterBegin",a),this},a.prototype.insertHtmlBeforeEnd=function(a){return this.currentElement.insertAdjacentHTML("beforeEnd",a),this},a.prototype.insertHtmlAfterEnd=function(a){return this.currentElement.insertAdjacentHTML("afterEnd",a),this},a.prototype.bind=function(a){return E(this.currentElement,a),this},a.prototype.unbind=function(){return F(this.currentElement),this},a.prototype.getBinding=function(){return G(this.currentElement)},a.prototype.setProperty=function(a,b){return B(this.currentElement,a,b),this},a.prototype.getProperty=function(a,b){return C(this.currentElement,a,b)},a.prototype.removeProperty=function(a){return delete A(this.currentElement)[a],this},a.prototype.parent=function(a){return k.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),t(this.currentElement.parentNode,a)},a.prototype.children=function(a){var b=this.currentElement.children,c=[];for(var d=0;d<b.length;d++)c.push(t(b.item(d),a));return new I(c)},a.prototype.removeChild=function(a){return this.currentElement===a.parent().getHTMLElement()&&this.currentElement.removeChild(a.getHTMLElement()),this},a.prototype.select=function(a,b){k.ok(i.isString(a),"Expected String as parameter");var c=this.currentElement.querySelectorAll(a),d=[];for(var e=0;e<c.length;e++)d.push(t(c.item(e),b));return new I(d)},a.prototype.matches=function(a){var b=this.currentElement,c=b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c&&c.call(b,a)},a.prototype.isEmpty=function(){return!this.currentElement.childNodes||this.currentElement.childNodes.length===0},a.prototype.empty=function(){var a=this.currentElement.querySelectorAll("*");for(var b=0,c=a.length;b<c;b++){var d=a.item(b);if(A(d)){var e=A(d)[o];if(i.isArray(e))while(e.length)e.pop()();delete d[m]}}return l.clearNode(this.currentElement),this.offdom&&(this.createdElements=[]),this},a.prototype.destroy=function(){this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty();if(A(this.currentElement)){var a=A(this.currentElement)[o];if(i.isArray(a))while(a.length)a.pop()();delete this.currentElement[m]}var b;for(b in this.toUnbind)if(this.toUnbind.hasOwnProperty(b)&&i.isArray(this.toUnbind[b]))while(this.toUnbind[b].length)this.toUnbind[b].pop()();for(b in this.captureToUnbind)if(this.captureToUnbind.hasOwnProperty(b)&&i.isArray(this.captureToUnbind[b]))while(this.captureToUnbind[b].length)this.captureToUnbind[b].pop()();this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},a.prototype.getPositionRelativeTo=function(b){b instanceof a&&(b=b.getHTMLElement());var c=l.getRelativeLeft(this.currentElement,b),d=l.getRelativeTop(this.currentElement,b);return new r(d,-1,-1,c)},a.prototype.getPosition=function(){var a=l.getTopLeftOffset(this.currentElement);return new r(a.top,-1,-1,a.left)},a.prototype.getTotalSize=function(){var a=l.getTotalWidth(this.currentElement),b=l.getTotalHeight(this.currentElement);return new s(a,b)},a.prototype.getContentSize=function(){var a=l.getContentWidth(this.currentElement),b=l.getContentHeight(this.currentElement);return new s(a,b)},a.prototype.getClientArea=function(){if(this.currentElement!==document.body){var a=l.getDomNodePosition(this.currentElement);return new s(a.width,a.height)}if(window.innerWidth&&window.innerHeight)return new s(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new s(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new s(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},a}();b.Builder=H;var I=function(a){function b(c){k.ok(i.isArray(c)||c instanceof b,"Expected Array or MultiBuilder as parameter"),a.call(this),this.length=0,this.builders=[];if(i.isArray(c))for(var d=0;d<c.length;d++)c[d]instanceof HTMLElement?this.push(t(c[d])):this.push(c[d]);else for(var d=0;d<c.length;d++)this.push(c.item(d));var e=this,f=function(a){e[a]=function(){var c=Array.prototype.slice.call(arguments),d,f=!1;for(var g=0;g<e.length;g++){var h=e.item(g)[a].apply(e.item(g),c);if(h instanceof b){d||(d=[]),f=!0;for(var j=0;j<h.length;j++)d.push(h.item(j))}else!i.isUndefined(h)&&!(h instanceof H)&&(d||(d=[]),d.push(h))}return d&&f?new b(d):d||e}};for(var g in H.prototype)g!=="clone"&&g!=="and"&&H.prototype.hasOwnProperty(g)&&i.isFunction(H.prototype[g])&&f(g)}return __extends(b,a),b.prototype.item=function(a){return this.builders[a]},b.prototype.push=function(){var a=[];for(var b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];for(var c=0;c<a.length;c++)this.builders.push(a[c]);this.length=this.builders.length},b.prototype.pop=function(){var a=this.builders.pop();return this.length=this.builders.length,a},b.prototype.concat=function(a){var b=this.builders.concat(a);return this.length=this.builders.length,b},b.prototype.shift=function(){var a=this.builders.shift();return this.length=this.builders.length,a},b.prototype.unshift=function(a){var b=this.builders.unshift(a);return this.length=this.builders.length,b},b.prototype.slice=function(a,b){var c=this.builders.slice(a,b);return this.length=this.builders.length,c},b.prototype.splice=function(a,b){var c=this.builders.splice(a,b);return this.length=this.builders.length,c},b.prototype.clone=function(){return new b(this)},b.prototype.and=function(a){!(a instanceof H)&&!(a instanceof b)&&(a=new H(a));var c=[];if(a instanceof b)for(var d=0;d<a.length;d++)c.push(a.item(d));else c.push(a);return this.push.apply(this,c),this},b}(H);b.MultiBuilder=I;var J=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;b.$=function(a){if(!a)throw new Error("Bad use of $");if(l.isHTMLElement(a)||a===window)return t(a);if(a instanceof H)return v(a);if(typeof a=="string"){if(a[0]==="<"){var b=document.createElement("div");b.innerHTML=j.format.apply(j,arguments);var c;if(b.children.length===0)throw new Error("Bad use of $");if(b.children.length===1)return c=b.firstChild,b.removeChild(c),t(c);var d=[];while(b.firstChild)c=b.firstChild,b.removeChild(c),d.push(t(c));return new I(d)}if(arguments.length===1){var e=J.exec(a);if(!e)throw new Error("Bad use of $");var f=e[1]||"div",g=e[3]||undefined,h=(e[4]||"").replace(/\./g," "),i={};return g&&(i.id=g),h&&(i["class"]=h),x().element(f,i)}var k=x();return k.element.apply(k,arguments),k}throw new Error("Bad use of $")},b.$.Box=r,b.$.Dimension=s,b.$.Position=q,b.$.Builder=H,b.$.MultiBuilder=I,b.$.Select=b.Select,b.$.Build=b.Build,b.$.Binding=b.Binding}),define("vs/base/ui/widgets/findInput",["require","exports","vs/nls!vs/editor/editor.main","vs/base/dom/builder","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/strings","vs/css!./findInput"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(a,b,c,d){var e=this;this.actionClassName=a,this.title=b,this.isChecked=c,this.onChange=d,this.listenersToRemove=[],this.domNode=document.createElement("div"),this.domNode.title=b,this.render(),i.Build.withElement(this.domNode).on("click",function(a){var b=new k.MouseEvent(a);e.isChecked=!e.isChecked,e.render(),e.onChange(),b.preventDefault()},this.listenersToRemove)}return a.prototype.render=function(){this.domNode.className=this.className()},a.prototype.setChecked=function(a){this.isChecked=a,this.render()},a.prototype.className=function(){return"custom-checkbox "+this.actionClassName+" "+(this.isChecked?"checked":"unchecked")},a.prototype.width=function(){return 23},a.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},a}();b.CustomCheckbox=m;var n=function(){function a(a,b){this.onOptionChange=null,this.width=b.width||100,this.placeholder=b.placeholder||"",this.validation=b.validation,this.listenersToRemove=[],this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputNode=null,this.validationNode=null,this.buildDomNode(),Boolean(a)&&a.appendChild(this.domNode)}return a.OPTION_CHANGE="optionChange",a.prototype.destroy=function(){this.regex.destroy(),this.wholeWords.destroy(),this.caseSensitive.destroy(),this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},a.prototype.on=function(b,c){switch(b){case"keydown":case"keyup":i.Build.withElement(this.inputNode).on(b,c,this.listenersToRemove);break;case a.OPTION_CHANGE:this.onOptionChange=c}return this},a.prototype.enable=function(){this.inputNode.disabled=!1},a.prototype.disable=function(){this.inputNode.disabled=!0},a.prototype.setWidth=function(a){this.width=a,this.domNode.style.width=this.width+"px",this.setInputWidth()},a.prototype.getValue=function(){return this.inputNode.value},a.prototype.setValue=function(a){this.inputNode.value=a},a.prototype.select=function(){this.inputNode.select()},a.prototype.focus=function(){this.inputNode.focus()},a.prototype.getCaseSensitive=function(){return this.caseSensitive.isChecked},a.prototype.setCaseSensitive=function(a){this.caseSensitive.setChecked(a),this.setInputWidth()},a.prototype.getWholeWords=function(){return this.wholeWords.isChecked},a.prototype.setWholeWords=function(a){this.wholeWords.setChecked(a),this.setInputWidth()},a.prototype.getRegex=function(){return this.regex.isChecked},a.prototype.setRegex=function(a){this.regex.setChecked(a),this.setInputWidth()},a.prototype.setInputWidth=function(){var a=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width()-4;this.inputNode.style.width=a+"px"},a.prototype.buildDomNode=function(){var a=this;this.inputNode=document.createElement("input"),i.Build.withElement(this.inputNode).addClass("input").attr({placeholder:this.placeholder||"",wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}).type("text").on(j.EventType.KEY_UP,function(b,c){Boolean(a.validation)&&a.validate()}),this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",i.Build.withElement(this.domNode).addClass("monaco-findInput"),this.regex=new m("regex",h.localize("vs_base_ui_widgets_findInput",0),!1,function(){a.onOptionChange(null),a.inputNode.focus(),a.setInputWidth(),a.validate()}),this.wholeWords=new m("whole-word",h.localize("vs_base_ui_widgets_findInput",1),!1,function(){a.onOptionChange(null),a.inputNode.focus(),a.setInputWidth(),a.validate()}),this.caseSensitive=new m("case-sensitive",h.localize("vs_base_ui_widgets_findInput",2),!1,function(){a.onOptionChange(null),a.inputNode.focus(),a.setInputWidth(),a.validate()}),this.setInputWidth(),this.domNode.appendChild(this.inputNode),this.domNode.appendChild(this.regex.domNode),this.domNode.appendChild(this.wholeWords.domNode),this.domNode.appendChild(this.caseSensitive.domNode)},a.prototype.validate=function(){var a=l.trim(this.inputNode.value),b=this.validation(l.trim(a));if(b==="")this.validationNode&&i.$(this.domNode).removeChild(this.validationNode),this.validationNode=null,this.inputNode.setAttribute("title","");else{var c=document.createElement("span");c.className="text-measure",c.innerHTML=a,this.domNode.appendChild(c);if(!this.validationNode){var d=document.createElement("div");d.className="validation-decoration",this.domNode.insertBefore(d,this.inputNode),this.validationNode=i.$(d),this.inputNode.setAttribute("title",b)}this.validationNode.size(c.offsetWidth,c.offsetHeight),this.domNode.removeChild(c)}},a}();b.FindInput=n}),define("vs/css!vs/editor/contrib/find/findWidget",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/find/replaceAllCommand",["require","exports","vs/editor/editor","vs/editor/core/selection"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b){this._ranges=a,this._replaceStrings=b}return a.prototype.getEditOperations=function(a,b){for(var c=0;c<this._ranges.length;c++)b.addEditOperation(this._ranges[c],this._replaceStrings[c])},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[c.length-1].range;return new f.Selection(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn)},a}();b.ReplaceAllCommand=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/find/findModel",["require","exports","vs/editor/core/position","vs/editor/core/constants","vs/base/strings","vs/base/eventEmitter","vs/editor/contrib/find/replaceAllCommand","vs/editor/core/command/replaceCommand"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h;b.START_FIND_ID="actions.find",b.NEXT_MATCH_FIND_ID="editor.actions.nextMatchFindAction",b.PREVIOUS_MATCH_FIND_ID="editor.actions.previousMatchFindAction",b.START_FIND_REPLACE_ID="editor.actions.startFindReplaceAction",b.REPLACE_ID="editor.actions.replaceAction",b.REPLACE_ALL_ID="editor.actions.replaceAllAction";var o=function(a){function b(b){var c=this;a.call(this),this.editor=b,this.startPosition=null,this.searchString="",this.replaceString="",this.decorations=[],this.decorationIndex=0,this.highlightedDecorationId=null,this.listenersToRemove=[],this.updateDecorationsTimeout=null,this.didReplace=!1,this.isRegex=!1,this.matchCase=!1,this.wholeWord=!1,this.listenersToRemove.push(this.editor.addListener(j.EventType.CursorPositionChanged,function(a){if(a.reason==="explicit"||a.reason==="undo"||a.reason==="redo")c.highlightedDecorationId!==null&&c.editor.changeDecorations(function(a){a.changeDecorationOptions(c.highlightedDecorationId,c.createFindMatchDecorationOptions(!1)),c.highlightedDecorationId=null}),c.startPosition=c.editor.getPosition(),c.decorationIndex=-1})),this.listenersToRemove.push(this.editor.getModel().addListener(j.EventType.ModelContentChanged,function(a){a.changeType===j.EventType.ModelContentChangedFlush&&(c.decorations=[]),c.startPosition=c.editor.getPosition();if(c.updateDecorationsTimeout!==null){window.clearTimeout(c.updateDecorationsTimeout),c.resetupdateDecorationsTimeout();return}c.resetupdateDecorationsTimeout()}))}return __extends(b,a),b.prototype.resetupdateDecorationsTimeout=function(){var a=this;this.updateDecorationsTimeout=window.setTimeout(function(){a.updateDecorations(!1),a.updateDecorationsTimeout=null},100)},b.prototype.removeOldDecorations=function(a){var b,c;for(b=0,c=this.decorations.length;b<c;b++)a.removeDecoration(this.decorations[b]);this.decorations=[]},b.prototype.createFindMatchDecorationOptions=function(a){return{isOverlay:!1,className:a?"currentFindMatch":"findMatch",showInOverviewRuler:"rgba(246, 185, 77, 0.7)"}},b.prototype.addDecorations=function(a,b){var c,d;for(c=0,d=b.length;c<d;c++)this.decorations[c]=a.addDecoration(b[c],this.createFindMatchDecorationOptions(!1))},b.prototype.updateDecorations=function(a){var b=this;this.didReplace&&this.next(),this.editor.changeDecorations(function(a){b.removeOldDecorations(a),b.addDecorations(a,b.editor.getModel().findMatches(b.searchString,b.isRegex,b.matchCase,b.wholeWord))}),this.highlightedDecorationId=null,this.decorationIndex=this.indexAfterPosition(this.startPosition),!this.didReplace&&!a?this.decorationIndex=this.previousIndex(this.decorationIndex):this.decorations.length>0&&this.setSelectionToDecoration(this.decorations[this.decorationIndex]);var c={position:this.decorations.length>0?this.decorationIndex+1:0,count:this.decorations.length};this.emit("matches",c),this.didReplace=!1},b.prototype.update=function(a,b){var c=!1;this.isRegex!==a.properties.isRegex&&(this.isRegex=a.properties.isRegex,c=!0),this.matchCase!==a.properties.matchCase&&(this.matchCase=a.properties.matchCase,c=!0),this.wholeWord!==a.properties.wholeWord&&(this.wholeWord=a.properties.wholeWord,c=!0),a.searchString!==this.searchString&&(this.searchString=a.searchString,c=!0),this.replaceString=a.replaceString,c&&this.updateDecorations(b)},b.prototype.start=function(a,b){this.startPosition=this.editor.getPosition(),this.isRegex=a.properties.isRegex,this.matchCase=a.properties.matchCase,this.wholeWord=a.properties.wholeWord,this.searchString=a.searchString,this.replaceString=a.replaceString,this.updateDecorations(!1),this.decorationIndex=this.previousIndex(this.indexAfterPosition(this.startPosition));var c={state:a,shouldFocus:b};this.emit("start",c)},b.prototype.prev=function(){this.decorations.length>0&&(this.decorationIndex===-1&&(this.decorationIndex=this.indexAfterPosition(this.startPosition)),this.decorationIndex=this.previousIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex]))},b.prototype.next=function(){this.decorations.length>0&&(this.decorationIndex===-1?this.decorationIndex=this.indexAfterPosition(this.startPosition):this.decorationIndex=this.nextIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex]))},b.prototype.setSelectionToDecoration=function(a){var b=this;this.editor.changeDecorations(function(c){b.highlightedDecorationId!==null&&c.changeDecorationOptions(b.highlightedDecorationId,b.createFindMatchDecorationOptions(!1)),c.changeDecorationOptions(a,b.createFindMatchDecorationOptions(!0)),b.highlightedDecorationId=a});var c=this.editor.getModel().getDecorationRange(a);this.editor.setSelection(c,!0,!0,!0)},b.prototype.getReplaceString=function(a){if(!this.isRegex)return this.replaceString;var b=k.createRegExp(this.searchString,this.isRegex,this.matchCase,this.wholeWord);return a.replace(b,this.replaceString)},b.prototype.replace=function(){if(this.decorations.length===0)return;var a=this.editor.getModel(),b=a.getDecorationRange(this.decorations[this.decorationIndex]),c=this.editor.getSelection();if(b!==null&&c.startColumn===b.startColumn&&c.endColumn===b.endColumn&&c.startLineNumber===b.startLineNumber&&c.endLineNumber===b.endLineNumber){var d=a.getValueInRange(c),e=this.getReplaceString(d),f=new n.ReplaceCommand(c,e);this.editor.executeCommand("replace",f),this.startPosition=new i.Position(c.startLineNumber,c.startColumn+e.length),this.decorationIndex=-1,this.didReplace=!0}else this.next()},b.prototype.replaceAll=function(){var a=this;if(this.decorations.length===0)return;var b=this.editor.getModel(),c=[];for(var d=0,e=this.decorations.length;d<e;d++)c.push(b.getDecorationRange(this.decorations[d]));this.editor.changeDecorations(function(b){a.removeOldDecorations(b)});var f=[];for(var d=0,e=c.length;d<e;d++)f.push(this.getReplaceString(b.getValueInRange(c[d])));var g=new m.ReplaceAllCommand(c,f);this.editor.executeCommand("replaceAll",g)},b.prototype.destroy=function(){var a=this;this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[],this.editor.changeDecorations(function(b){a.removeOldDecorations(b)}),this.emit("destroy",null)},b.prototype.previousIndex=function(a){return this.decorations.length>0?(a-1+this.decorations.length)%this.decorations.length:0},b.prototype.nextIndex=function(a){return this.decorations.length>0?(a+1)%this.decorations.length:0},b.prototype.indexAfterPosition=function(a){if(this.decorations.length===0)return 0;for(var b=0,c=this.decorations.length;b<c;b++){var d=this.decorations[b],e=this.editor.getModel().getDecorationRange(d);if(e.startLineNumber<a.lineNumber)continue;if(e.startLineNumber>a.lineNumber)return b;if(e.startColumn<a.column)continue;return b}return 0},b}(l.EventEmitter);b.FindModelBoundToEditorModel=o});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/find/findWidget",["require","exports","vs/base/ui/widgets/findInput","./findModel","vs/base/dom/dom","vs/base/dom/keyboardEvent","vs/base/env","vs/nls!vs/editor/editor.main","vs/base/dom/builder","vs/base/dom/mouseEvent","vs/base/eventEmitter","vs/editor/editor","vs/css!./findWidget"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=c,n=d,o=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=function(a){function b(b){a.call(this),this.codeEditor=b,this.domNode=null,this.findInput=null,this.replaceInputElement=null,this.toggleReplaceBtn=null,this.isVisible=!1,this.isReplaceVisible=!1,this.isReplaceEnabled=!1,this.listenersToRemove=[],this.model=null,this.modelListenersToRemove=[],this.buildDomNode(),this.codeEditor.addOverlayWidget(this)}return __extends(b,a),b.ID="editor.contrib.findWidget",b.USER_CLOSED_EVENT="close",b.USER_INPUT_EVENT="userInputEvent",b.WIDGET_WIDTH=317,b.PART_WIDTH=300,b.FIND_INPUT_AREA_WIDTH=b.PART_WIDTH-54,b.REPLACE_INPUT_AREA_WIDTH=b.PART_WIDTH-112,b.prototype.getId=function(){return b.ID},b.prototype.getDomNode=function(){return this.domNode},b.prototype.destroy=function(){this.removeModel(),this.findInput.destroy(),this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},b.prototype.setState=function(a){this.findInput.setValue(a.searchString),this.findInput.setCaseSensitive(a.properties.matchCase),this.findInput.setWholeWords(a.properties.wholeWord),this.findInput.setRegex(a.properties.isRegex),this.replaceInputElement.value=a.replaceString,a.isReplaceEnabled?this._enableReplace(!1):this._disableReplace(!1)},b.prototype.getState=function(){var a={searchString:this.findInput.getValue(),replaceString:this.replaceInputElement.value,properties:{isRegex:this.findInput.getRegex(),wholeWord:this.findInput.getWholeWords(),matchCase:this.findInput.getCaseSensitive()},isReplaceEnabled:this.isReplaceEnabled,isVisible:this.isVisible};return a},b.prototype.setModel=function(a){var b=this;this.removeModel(),a?(this.model=a,this.modelListenersToRemove.push(this.model.addListener("start",function(a){b.reveal(a.shouldFocus),b.setState(a.state),a.shouldFocus&&b.findInput.select()})),this.modelListenersToRemove.push(this.model.addListener("matches",function(a){var c=a.position,d=a.count;o.toggleClass(b.domNode,"no-results",b.findInput.getValue()!==""&&a.count===0)}))):this.hide()},b.prototype._enableReplace=function(a){this.isReplaceEnabled=!0,!this.codeEditor.getConfiguration().readOnly&&!this.isReplaceVisible&&(this.replaceInputElement.disabled=!1,this.isReplaceVisible=!0,o.addClass(this.domNode,"replace"),o.removeClass(this.toggleReplaceBtn,"collapse"),o.addClass(this.toggleReplaceBtn,"expand")),a&&this.emit(b.USER_INPUT_EVENT)},b.prototype._disableReplace=function(a){this.isReplaceEnabled=!1,this.isReplaceVisible&&(this.replaceInputElement.disabled=!0,o.removeClass(this.domNode,"replace"),o.removeClass(this.toggleReplaceBtn,"expand"),o.addClass(this.toggleReplaceBtn,"collapse"),this.isReplaceVisible=!1),a&&this.emit(b.USER_INPUT_EVENT)},b.prototype.removeModel=function(){this.model!==null&&(this.modelListenersToRemove.forEach(function(a){a()}),this.modelListenersToRemove=[],this.model=null)},b.prototype.onFindInputKeyDown=function(a){var c=this,d=new p.KeyboardEvent(a),e=!1;if(d.asString()===(q.browser.isMacintosh?"Meta-H":"Ctrl-H")||d.asString()==="DownArrow")this._enableReplace(!0),this.replaceInputElement.select(),this.replaceInputElement.focus(),d.preventDefault(),e=!0;!e&&d.asString()==="Enter"&&(this.codeEditor.getAction(n.NEXT_MATCH_FIND_ID).run(),d.preventDefault(),e=!0),!e&&d.asString()==="Shift-Enter"&&(this.codeEditor.getAction(n.PREVIOUS_MATCH_FIND_ID).run(),d.preventDefault(),e=!0),e||setTimeout(function(){c.emit(b.USER_INPUT_EVENT)},10)},b.prototype.onReplaceInputKeyDown=function(a){var c=this,d=new p.KeyboardEvent(a),e=!1;if(d.asString()===(q.browser.isMacintosh?"Meta-H":"Ctrl-H")||d.asString()==="UpArrow")this.findInput.select(),this.findInput.focus(),d.preventDefault(),e=!0;!e&&d.asString()==="Enter"&&(this.codeEditor.getAction(n.REPLACE_ID).run(),d.preventDefault(),e=!0),!e&&d.asString()===(q.browser.isMacintosh?"Meta-Enter":"Ctrl-Enter")&&(this.codeEditor.getAction(n.REPLACE_ALL_ID).run(),d.preventDefault(),e=!0),e||setTimeout(function(){c.emit(b.USER_INPUT_EVENT)},10)},b.prototype.buildDomNode=function(){var a=this;this.findInput=(new m.FindInput(null,{width:b.FIND_INPUT_AREA_WIDTH,placeholder:r.localize("vs_editor_contrib_find_findWidget",0),validation:function(a){if(a.length===0)return"";if(!this.findInput.getRegex())return"";try{return new RegExp(a),""}catch(b){return b.message}}.bind(this)})).on("keydown",function(b){a.onFindInputKeyDown(b)}).on(m.FindInput.OPTION_CHANGE,function(){a.emit(b.USER_INPUT_EVENT)});var c=document.createElement("div");c.title=r.localize("vs_editor_contrib_find_findWidget",1),s.Build.withElement(c).addClass("button previous").on("click",function(b){var c=new t.MouseEvent(b);a.codeEditor.getAction(n.PREVIOUS_MATCH_FIND_ID).run(),a.findInput.focus(),c.preventDefault()},this.listenersToRemove);var d=document.createElement("div");d.title=r.localize("vs_editor_contrib_find_findWidget",2),s.Build.withElement(d).addClass("button next").on("click",function(b){var c=new t.MouseEvent(b);a.codeEditor.getAction(n.NEXT_MATCH_FIND_ID).run(),a.findInput.focus(),c.preventDefault()},this.listenersToRemove);var e=document.createElement("div");e.title=r.localize("vs_editor_contrib_find_findWidget",3),s.Build.withElement(e).addClass("button close").on("click",function(c){a.hide(),a.emit(b.USER_CLOSED_EVENT);var d=new t.MouseEvent(c);d.preventDefault()},this.listenersToRemove);var f=document.createElement("div");s.Build.withElement(f).addClass("find-part"),f.appendChild(this.findInput.domNode),f.appendChild(c),f.appendChild(d),f.appendChild(e),this.replaceInputElement=document.createElement("input"),s.Build.withElement(this.replaceInputElement).addClass("replace-input").attr({placeholder:r.localize("vs_editor_contrib_find_findWidget",4),disabled:"true"}).style({width:b.REPLACE_INPUT_AREA_WIDTH+"px"}).on("keydown",function(b){a.onReplaceInputKeyDown(b)});var g=document.createElement("div");s.Build.withElement(g).innerHtml(r.localize("vs_editor_contrib_find_findWidget",5)).addClass("button wide").on("click",function(b){var c=new t.MouseEvent(b);a.codeEditor.getAction(n.REPLACE_ALL_ID).run(),c.preventDefault()},this.listenersToRemove);var h=document.createElement("div");s.Build.withElement(h).innerHtml(r.localize("vs_editor_contrib_find_findWidget",6)).addClass("button wide").on("click",function(b){var c=new t.MouseEvent(b);a.codeEditor.getAction(n.REPLACE_ID).run(),c.preventDefault()},this.listenersToRemove);var i=document.createElement("div");s.Build.withElement(i).addClass("replace-part"),i.appendChild(this.replaceInputElement),i.appendChild(h),i.appendChild(g),this.toggleReplaceBtn=document.createElement("div");var j=s.Build.withElement(this.toggleReplaceBtn);j.addClass("button toggle left").on("click",function(b){var c=new t.MouseEvent(b);a.isReplaceVisible?a._disableReplace(!0):a._enableReplace(!0),c.preventDefault()},this.listenersToRemove),j.addClass(this.isReplaceVisible?"expand":"collapse"),this.domNode=document.createElement("div");var k=s.Build.withElement(this.domNode);k.addClass("editor-widget find-widget").addClass("monaco-editor-background"),this.codeEditor.getConfiguration().readOnly||k.addClass("can-replace"),this.domNode.appendChild(this.toggleReplaceBtn),this.domNode.appendChild(f),this.domNode.appendChild(i)},b.prototype.reveal=function(a){var b=this;this.isVisible||(this.findInput.enable(),this.isVisible=!0,window.setTimeout(function(){o.addClass(b.domNode,"visible"),a||(o.addClass(b.domNode,"noanimation"),window.setTimeout(function(){o.removeClass(b.domNode,"noanimation")},200))},0),this.codeEditor.layoutOverlayWidget(this))},b.prototype.hide=function(){this.isVisible&&(this.findInput.disable(),o.removeClass(this.domNode,"visible"),this.isVisible=!1,this.codeEditor.focus(),this.codeEditor.layoutOverlayWidget(this))},b.prototype.getPosition=function(){return this.isVisible?{preference:v.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},b}(u.EventEmitter);b.FindWidget=w});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/find/find",["require","exports","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/actionRegistry","vs/editor/editorExtensions","./findWidget","./findModel","vs/nls!vs/editor/editor.main","vs/platform/services","vs/editor/core/constants","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=c,n=d,o=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=function(){function a(a){var b=this;this.editor=a,this.handlerService=null,this.binding=null,this.model=null,this.widget=null,this.widgetIsVisible=!1,this.lastState=null,this.widgetListeners=[],this.editorListeners=[],this.editorListeners.push(this.editor.addListener(u.EventType.ModelChanged,function(){setTimeout(function(){b.editor.getModel()&&b.lastState&&b.widgetIsVisible&&b._start(b.lastState.isReplaceEnabled,!1,!1)})})),this.editorListeners.push(this.editor.addListener(u.EventType.Disposed,function(){b.editorListeners.forEach(function(a){a()}),b.editorListeners=[]}))}return a.ID="editor.contrib.findController",a.getFindController=function(c){return c.getContribution(a.ID)},a.prototype.injectHandlerService=function(a){this.handlerService=a},a.prototype.getId=function(){return a.ID},a.prototype.dispose=function(){this.widgetListeners.forEach(function(a){a()}),this.widgetListeners=[],this.widget&&(this.widget.destroy(),this.widget=null),this.disposeBindingAndModel()},a.prototype.disposeBindingAndModel=function(){this.binding&&(this.binding.dispose(),this.binding=null),this.widget&&this.widget.setModel(null),this.model&&(this.model.destroy(),this.model=null)},a.prototype.onEscape=function(){return this.widgetIsVisible=!1,this.disposeBindingAndModel(),!0},a.prototype.onWidgetClosed=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel()},a.prototype.onWidgetUserInput=function(){this.lastState=this.widget.getState(),this.model&&this.model.update(this.lastState,!0)},a.prototype._start=function(a,b,c){var d=this;this.widget||(this.widget=new q.FindWidget(this.editor),this.widgetListeners.push(this.widget.addListener(q.FindWidget.USER_INPUT_EVENT,function(){return d.onWidgetUserInput()})),this.widgetListeners.push(this.widget.addListener(q.FindWidget.USER_CLOSED_EVENT,function(){return d.onWidgetClosed()}))),this.model||(this.model=new r.FindModelBoundToEditorModel(this.editor),this.widget.setModel(this.model)),this.binding===null&&(this.binding=this.handlerService.bind({key:"Escape"},function(){return d.onEscape()})),this.lastState=this.lastState||this.widget.getState();var e=this.editor.getSelection();b&&!e.isEmpty()&&e.startLineNumber===e.endLineNumber&&(this.lastState.searchString=this.editor.getModel().getValueInRange(e)),a&&(this.lastState.isReplaceEnabled=a),this.model.start(this.lastState,c),this.widgetIsVisible=!0},a.prototype.start=function(a){this._start(a,!0,!0)},a.prototype.next=function(){return this.model?(this.model.next(),!0):!1},a.prototype.prev=function(){return this.model?(this.model.prev(),!0):!1},a.prototype.replace=function(){return this.model?(this.model.replace(),!0):!1},a.prototype.replaceAll=function(){return this.model?(this.model.replaceAll(),!0):!1},a}();b.FindController=w;var x=function(a){function b(b,c){a.call(this,b,c,p.Precondition.WidgetFocus),this.handlerService=null}return __extends(b,a),b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.handlerService},b.prototype._startController=function(a){a.start(!1)},b.prototype.run=function(){var a=w.getFindController(this.editor);return this._startController(a),m.Promise.as(!0)},b}(p.EditorAction);b.StartFindAction=x;var y=function(a){function b(b,c){a.call(this,b,c,p.Precondition.WidgetFocus)}return __extends(b,a),b.prototype.run=function(){var a=w.getFindController(this.editor);return a.next()?m.Promise.as(!0):this.editor.getAction(r.START_FIND_ID).run()},b}(p.EditorAction);b.NextMatchFindAction=y;var z=function(a){function b(b,c){a.call(this,b,c,p.Precondition.WidgetFocus)}return __extends(b,a),b.prototype.run=function(){var a=w.getFindController(this.editor);return a.prev()?m.Promise.as(!0):this.editor.getAction(r.START_FIND_ID).run()},b}(p.EditorAction);b.PreviousMatchFindAction=z;var A=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.prototype.getId=function(){return r.START_FIND_REPLACE_ID},b.prototype._startController=function(a){a.start(!0)},b}(x);b.StartFindReplaceAction=A;var B=function(a){function b(b,c){a.call(this,b,c,p.Precondition.WidgetFocus),this.setLabel(s.localize("vs_editor_contrib_find_find",0))}return __extends(b,a),b.prototype.run=function(){var a=w.getFindController(this.editor);return a.replace()?m.Promise.as(!0):m.Promise.as(!1)},b}(p.EditorAction);b.ReplaceAction=B;var C=function(a){function b(b,c){a.call(this,b,c,p.Precondition.WidgetFocus),this.setLabel(s.localize("vs_editor_contrib_find_find",1))}return __extends(b,a),b.prototype.run=function(){var a=w.getFindController(this.editor);return a.replaceAll()?m.Promise.as(!0):m.Promise.as(!1)},b}(p.EditorAction);b.ReplaceAllAction=C;var D=n.Registry.as(p.Extensions.EditorContributions);D.registerContribution(new o.ActionDescriptor(x,r.START_FIND_ID,s.localize("vs_editor_contrib_find_find",2),{ctrlCmd:!0,key:"F"},{ctrlCmd:!0,key:"F3"})),D.registerContribution(new o.ActionDescriptor(y,r.NEXT_MATCH_FIND_ID,s.localize("vs_editor_contrib_find_find",3),{key:"F3"})),D.registerContribution(new o.ActionDescriptor(z,r.PREVIOUS_MATCH_FIND_ID,s.localize("vs_editor_contrib_find_find",4),{shift:!0,key:"F3"})),D.registerContribution(new o.ActionDescriptor(A,r.START_FIND_REPLACE_ID,s.localize("vs_editor_contrib_find_find",5),{ctrlCmd:!0,key:"H"})),D.registerContribution(new o.ActionDescriptor(B,r.REPLACE_ID,s.localize("vs_editor_contrib_find_find",6))),D.registerContribution(new o.ActionDescriptor(C,r.REPLACE_ALL_ID,s.localize("vs_editor_contrib_find_find",7))),D.registerContribution(new n.BaseDescriptor(w))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/format/format",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/platform/platform","vs/platform/actionRegistry","vs/editor/core/range","vs/editor/core/constants","vs/nls!vs/editor/editor.main","vs/editor/editorExtensions","vs/editor/core/command/replaceCommand","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=c,n=d,o=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=function(){function a(a){var b=this;this.editor=a,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(a.addListener(r.EventType.ConfigurationChanged,function(){return b.update()})),this.callOnDispose.push(a.addListener(r.EventType.ModelChanged,function(){return b.update()})),this.callOnDispose.push(a.addListener(r.EventType.ModelModeChanged,function(){return b.update()}))}return a.ID="editor.contrib.autoFormat",a.prototype.update=function(){var a=this;while(this.callOnModel.length>0)this.callOnModel.pop()();if(!this.editor.getConfiguration().formatOnType)return;if(n.isUndefinedOrNull(this.editor.getModel()))return;var b=this.editor.getModel(),c=b.getMode();if(n.isUndefinedOrNull(c.formattingSupport)||!n.isFunction(c.formattingSupport.getAutoFormatTriggerCharacters)||!n.isFunction(c.formattingSupport.formatAfterKeystroke))return;this.formattingOptions={tabSize:this.editor.getConfiguration().tabSize,insertSpaces:this.editor.getConfiguration().insertSpaces},c.formattingSupport.getAutoFormatTriggerCharacters().forEach(function(b){a.callOnModel.push(a.editor.addTypingListener(b,function(){return a.editor.getModel().addOneTimeListener(r.EventType.ModelContentChanged,function(b){b.changeType===r.EventType.ModelContentChangedLineChanged&&a.trigger()}),!0}))})},a.prototype.trigger=function(){var a=this,b=this.editor.getModel(),c=this.editor.getPosition().lineNumber,d=new q.Range(c,1,c,b.getLineMaxColumn(c)),e={range:d,id:b.addTrackedRange(d),lineText:b.getLineContent(c)},f=new m.Promise(function(c,d,f){b.getMode().formattingSupport.formatAfterKeystroke(b.getAssociatedResource(),a.editor.getPosition(),a.formattingOptions).then(function(a){var d=b.getTrackedRange(e.id);b.removeTrackedRange(e.id);if(n.isUndefinedOrNull(a))return;var f=b.getValueInRange(d);if(e.lineText!==f||a.text===f)return;if(a.range.startLineNumber!==a.range.endLineNumber)return;e.lineText=a.text,e.range=d,c(e)},d,f)});f.then(function(){var b=new q.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),c=a.editor.getSelection(),d=new u.ReplaceCommandThatPreservesSelection(b,e.lineText,c);a.editor.executeCommand(a.getId(),d)},function(a){})},a.prototype.getId=function(){return a.ID},a.prototype.dispose=function(){while(this.callOnDispose.length>0)this.callOnDispose.pop()();while(this.callOnModel.length>0)this.callOnModel.pop()()},a}(),x=function(a){function b(b,c){a.call(this,b,c),this.setLabel(s.localize("vs_editor_contrib_format_format",0))}return __extends(b,a),b.ID="editor.actions.format",b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().formattingSupport},b.prototype.run=function(){var a=this,b=this.editor.getModel(),c=b.getMode(),d=b.getMode().formattingSupport,e=this.editor.getPosition(),f=this.editor.getSelection();f.isEmpty()||(f.startColumn=1);var g=f;f.isEmpty()&&(g=new q.Range(1,1,b.getLineCount(),b.getLineMaxColumn(b.getLineCount())));var h={tabSize:this.editor.getConfiguration().tabSize,insertSpaces:this.editor.getConfiguration().insertSpaces};return d.format(b.getAssociatedResource(),g,h).then(function(b){n.isString(b)&&(a.apply(a.editor,e,f,b),a.editor.focus())})},b.prototype.apply=function(a,b,c,d){if(!c.isEmpty()){var e=new u.ReplaceCommandThatPreservesSelection(c,d,c);a.executeCommand(this.getId(),e)}else{if(a.getModel().getValue()===d)return;var f=a.getModel().getLineCount(),g=a.getModel().getLineMaxColumn(f),h=new u.ReplaceCommand(new q.Range(1,1,f,g),d);a.executeCommand(this.getId(),h),a.setSelection(c)}},b}(t.EditorAction);b.FormatAction=x;var y=new p.ActionDescriptor(x,x.ID,s.localize("vs_editor_contrib_format_format",1),{ctrlCmd:!0,alt:!0,key:"F"}),z=o.Registry.as(t.Extensions.EditorContributions);z.registerContribution(y),z.registerContribution(new o.BaseDescriptor(w))}),define("vs/editor/contrib/hover/hoverOperation",["require","exports","vs/base/lib/winjs.base"],function(a,b,c){var d=c,e;(function(a){a._map=[],a.IDLE=0,a.FIRST_WAIT=1,a.SECOND_WAIT=2,a.WAITING_FOR_ASYNC_COMPUTATION=3})(e||(e={}));var f=function(){function a(a){this._computer=a,this._state=e.IDLE,this._waitPromise=null,this._asyncComputationPromise=null,this._resultPromise=null,this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1}return a.HOVER_TIME=300,a.prototype.getComputer=function(){return this._computer},a.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():a.HOVER_TIME},a.prototype._triggerAsyncComputation=function(){var a=this;this._state=e.SECOND_WAIT,this._waitPromise=d.Promise.timeout(this._getHoverTimeMillis()/2),this._waitPromise.then(function(){return a._triggerSyncComputation()}),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync(),this._asyncComputationPromise.then(function(b){a._asyncComputationPromiseDone=!0,a._withAsyncResult(b)}).done()):this._asyncComputationPromiseDone=!0},a.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=e.IDLE,this._completeCallback(this._computer.getResult())):(this._state=e.WAITING_FOR_ASYNC_COMPUTATION,this._progressCallback(this._computer.getResult()))},a.prototype._withAsyncResult=function(a){a&&this._computer.onResult(a,!1),this._state===e.WAITING_FOR_ASYNC_COMPUTATION&&(this._state=e.IDLE,this._completeCallback(this._computer.getResult()))},a.prototype.then=function(a,b,c){var f=this;return this._state===e.IDLE&&(this._state=e.FIRST_WAIT,this._waitPromise=d.Promise.timeout(this._getHoverTimeMillis()/2),this._waitPromise.then(function(){return f._triggerAsyncComputation()}),this._resultPromise=new d.Promise(function(a,b,c){f._completeCallback=a,f._errorCallback=b,f._progressCallback=c},function(){return f.cancel()})),this._resultPromise.then(a,b,c)},a.prototype.cancel=function(){this._state===e.FIRST_WAIT&&this._waitPromise.cancel(),this._state===e.SECOND_WAIT&&(this._waitPromise.cancel(),this._asyncComputationPromise&&this._asyncComputationPromise.cancel()),this._state===e.WAITING_FOR_ASYNC_COMPUTATION&&this._asyncComputationPromise&&this._asyncComputationPromise.cancel(),this._state=e.IDLE},a}();b.HoverOperation=f}),define("vs/editor/contrib/hover/hoverWidgets",["require","exports","vs/editor/editor","vs/editor/core/position"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b){this._id=a,this._editor=b,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._editor.addContentWidget(this),this._showAtPosition=null}return a.prototype.getId=function(){return this._id},a.prototype.getDomNode=function(){return this._domNode},a.prototype.showAt=function(a){this._showAtPosition=new f.Position(a.lineNumber,a.column),this._isVisible||(this._isVisible=!0,this._domNode.style.display="block"),this._domNode.style.width="",this._domNode.style.height="",this._domNode.style.left="0px";var b=this._domNode.clientWidth,c=this._domNode.clientHeight;this._domNode.style.width=b+"px",this._domNode.style.height=c+"px",this._editor.layoutContentWidget(this)},a.prototype.hide=function(){if(!this._isVisible)return;this._isVisible=!1,this._domNode.style.display="none",this._editor.layoutContentWidget(this)},a.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[e.ContentWidgetPositionPreference.ABOVE,e.ContentWidgetPositionPreference.BELOW]}:null},a.prototype.dispose=function(){this.hide()},a}();b.ContentHoverWidget=g;var h=function(){function a(a,b){this._id=a,this._editor=b,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._showAtLineNumber=-1,this._editor.addOverlayWidget(this)}return a.prototype.getId=function(){return this._id},a.prototype.getDomNode=function(){return this._domNode},a.prototype.showAt=function(a){this._showAtLineNumber=a,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var b=this._editor.getLayoutInfo(),c=this._editor.getTopForLineNumber(this._showAtLineNumber),d=this._editor.getScrollTop();this._domNode.style.left=b.glyphMarginLeft+b.glyphMarginWidth+"px",this._domNode.style.top=c-d+"px"},a.prototype.hide=function(){if(!this._isVisible)return;this._isVisible=!1,this._domNode.style.display="none"},a.prototype.getPosition=function(){return null},a.prototype.dispose=function(){this.hide()},a}();b.GlyphHoverWidget=h});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/hover/modesContentHover",["require","exports","vs/editor/core/range","vs/base/lib/winjs.base","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=function(){function a(a,b){this._editor=a,this._model=a.getModel(),this._range=b,this._result=[]}return a.prototype.computeAsync=function(){var a=this._model.getMode(),b=a.extraInfoSupport;return b?b.computeInfo(this._model.getAssociatedResource(),{lineNumber:this._range.startLineNumber,column:this._range.startColumn}).then(function(a){return a?[a]:null}):h.Promise.as(null)},a.prototype.computeSync=function(){var a=this._range.startLineNumber,b=this._editor.getLineDecorations(a),c=this._model.getLineMaxColumn(a),d=[];for(var e=0,f=b.length;e<f;e++){var h=b[e],i=h.range.startLineNumber===a?h.range.startColumn:1,j=h.range.endLineNumber===a?h.range.endColumn:c;i<=this._range.startColumn&&this._range.endColumn<=j&&h.options.hoverMessage&&d.push({value:h.options.hoverMessage,range:new g.Range(this._range.startLineNumber,i,this._range.startLineNumber,j)})}return d},a.prototype.onResult=function(a,b){b?this._result=a.concat(this._result):this._result=this._result.concat(a)},a.prototype.getResult=function(){return this._result.slice(0)},a}(),l=function(a){function b(c){a.call(this,b.ID,c),this._lastComputeOperation=null}return __extends(b,a),b.ID="editor.contrib.modesContentHoverWidget",b.prototype.startShowingAt=function(a){var b=this;if(this._lastRange&&this._lastRange.equalsRange(a))return;this._lastComputeOperation&&(this._lastComputeOperation.cancel(),this._lastComputeOperation=null);if(this._isVisible)if(this._showAtPosition.lineNumber!==a.startLineNumber)this.hide();else{var c=[];for(var d=0,e=this._messages.length;d<e;d++){var f=this._messages[d],g=f.range;g.startColumn<=a.startColumn&&g.endColumn>=a.endColumn&&c.push(f)}c.length>0?this._renderMessages(a,c):this.hide()}this._lastRange=a,this._lastComputeOperation=new i.HoverOperation(new k(this._editor,a)),this._lastComputeOperation.then(function(a){return b._withResult(a)},null,function(a){return b._withResult(a)})},b.prototype.hide=function(){this._lastRange=null,this._lastComputeOperation&&(this._lastComputeOperation.cancel(),this._lastComputeOperation=null),a.prototype.hide.call(this)},b.prototype._withResult=function(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastRange,this._messages):this.hide()},b.prototype._renderMessages=function(a,b){var c,d,e,f=Number.MAX_VALUE,g=[];for(c=0,d=b.length;c<d;c++)e=b[c],f=Math.min(f,e.range.startColumn),e.className?g.push('<span class="'+e.className+'">'+e.value+"</span>"):g.push(e.value);this._domNode.innerHTML=g.join("<br />"),this.showAt({lineNumber:a.startLineNumber,column:f})},b}(j.ContentHoverWidget);b.ModesContentHoverWidget=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/hover/modesGlyphHover",["require","exports","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b){this._editor=a,this._model=a.getModel(),this._lineNumber=b,this._result=[]}return a.prototype.computeSync=function(){var a=[],b=this._editor.getLineDecorations(this._lineNumber),c,d,e;for(c=0,d=b.length;c<d;c++)e=b[c],e.options.glyphMarginClassName&&e.options.hoverMessage&&a.push({value:e.options.hoverMessage});return a},a.prototype.onResult=function(a,b){this._result=this._result.concat(a)},a.prototype.getResult=function(){return this._result},a}(),h=function(a){function b(c){a.call(this,b.ID,c),this._lastLineNumber===-1}return __extends(b,a),b.ID="editor.contrib.modesGlyphHoverWidget",b.prototype.startShowingAt=function(a){var b=this;if(this._lastLineNumber===a)return;this._lastComputeOperation&&(this._lastComputeOperation.cancel(),this._lastComputeOperation=null),this.hide(),this._lastLineNumber=a,this._lastComputeOperation=new e.HoverOperation(new g(this._editor,a)),this._lastComputeOperation.then(function(a){return b._withResult(a)},null,function(a){return b._withResult(a)})},b.prototype.hide=function(){this._lastLineNumber=-1,this._lastComputeOperation&&(this._lastComputeOperation.cancel(),this._lastComputeOperation=null),a.prototype.hide.call(this)},b.prototype._withResult=function(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},b.prototype._renderMessages=function(a,b){var c,d,e,f=[];for(c=0,d=b.length;c<d;c++)e=b[c],e.className?f.push('<span class="'+e.className+'">'+e.value+"</span>"):f.push(e.value);this._domNode.innerHTML=f.join("<br />"),this.showAt(a)},b}(f.GlyphHoverWidget);b.ModesGlyphHoverWidget=h}),define("vs/css!vs/editor/contrib/hover/hover",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/hover/hover",["require","exports","vs/editor/core/constants","vs/base/dom/dom","vs/platform/platform","vs/editor/editorExtensions","vs/editor/editor","vs/base/env","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/hover/modesGlyphHover","vs/css!./hover"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(){function a(a){var b=this;this._editor=a,this._toUnhook=[],a.getConfiguration().hover&&(this._toUnhook.push(this._editor.addListener(k.EventType.MouseMove,function(a){return b._onEditorMouseMove(a)})),this._toUnhook.push(this._editor.addListener(k.EventType.MouseLeave,function(a){return b._hideWidgets()})),this._toUnhook.push(this._editor.addListener(k.EventType.KeyDown,function(){return b._hideWidgets()})),this._toUnhook.push(this._editor.addListener(k.EventType.ModelChanged,function(){return b._hideWidgets()})),this._toUnhook.push(this._editor.addListener("scroll",function(){return b._hideWidgets()})),p.browser.isIE8||this._toUnhook.push(l.addListener(window,"blur",function(){return b._hideWidgets()})),this._contentWidget=new q.ModesContentHoverWidget(a),this._glyphWidget=new r.ModesGlyphHoverWidget(a))}return a.ID="editor.contrib.hover",a.prototype._onEditorMouseMove=function(a){var b=a.target.type;if(b===o.MouseTargetType.CONTENT_WIDGET&&a.target.detail===q.ModesContentHoverWidget.ID)return;if(b===o.MouseTargetType.OVERLAY_WIDGET&&a.target.detail===r.ModesGlyphHoverWidget.ID)return;b===o.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(a.target.range)):b===o.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(a.target.position.lineNumber)):this._hideWidgets()},a.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},a.prototype.getId=function(){return a.ID},a.prototype.dispose=function(){this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null);while(this._toUnhook.length>0)this._toUnhook.pop()()},a}(),t=m.Registry.as(n.Extensions.EditorContributions);t.registerContribution(new m.BaseDescriptor(s))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/rename/rename",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/platform/actionRegistry","vs/editor/editorExtensions","vs/platform/services","vs/editor/core/range"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q=function(a){function b(b,c){a.call(this,b,c),this.idPool=0}return __extends(b,a),b.prototype.injectMessageService=function(a){this.messageService=a},b.prototype.computeInfos=function(a){return j.Promise.as([])},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.messageService},b.prototype.run=function(){var a=this,b=++this.idPool,c=this.editor.getSelection();return this.computeInfos(this.editor).then(function(d){if(b!==a.idPool)return;if(d.length===0)return;var e=d.map(function(a){return a.range});a._beginLinkedEditing(e,c)},function(b){a.messageService.show(o.Severity.Info,b)})},b.prototype._indexOf=function(a,b,c){var d={lineNumber:b,column:c};for(var e=0;e<a.length;e++){if(a[e].startLineNumber!==b)continue;if(p.RangeUtils.containsPosition(a[e],d))return e}return-1},b.prototype._beginLinkedEditing=function(a,b){var c=this.editor.getSelection(),d=this._indexOf(a,c.positionLineNumber,c.positionColumn);if(d===-1){c=b,d=this._indexOf(a,c.positionLineNumber,c.positionColumn);if(d===-1)return}var e=!1;c.isEmpty()||p.RangeUtils.containsPosition(a[d],{lineNumber:c.selectionStartLineNumber,column:c.selectionStartColumn})&&(e=!0);var f,g;e?(f=c.positionColumn-a[d].startColumn,g=c.selectionStartColumn-a[d].startColumn):(f=a[d].endColumn-a[d].startColumn,g=0);var h=[];h.push({selectionStartLineNumber:a[d].startLineNumber,selectionStartColumn:a[d].startColumn+g,positionLineNumber:a[d].startLineNumber,positionColumn:a[d].startColumn+f});for(var i=0;i<a.length;i++)i!==d&&h.push({selectionStartLineNumber:a[i].startLineNumber,selectionStartColumn:a[i].startColumn+g,positionLineNumber:a[i].startLineNumber,positionColumn:a[i].startColumn+f});this.editor.setSelections(h)},b}(n.EditorAction);b.LinkedEditing=q;var r=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.changeAll",b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().occurrencesSupport},b.prototype.computeInfos=function(a){var b=a.getSelection(),c=b.getStartPosition(),d=a.getModel();return this.editor.getModel().getMode().occurrencesSupport.findOccurrences(d.getAssociatedResource(),c)},b}(q);b.ChangeAllAction=r;var s=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.rename",b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().referenceSupport},b.prototype.computeInfos=function(a){var c=a.getSelection(),d=c.getStartPosition(),e=a.getModel(),f=e.getMode();return new j.Promise(function(a,b,c){f.referenceSupport.findReferences(e.getAssociatedResource(),d).then(function(c){var d,e,f=!1,g=[];for(e=0;!f&&e<c.length;e++){var h=c[e];if(typeof d=="undefined")d=h.resourceUrl;else if(d!==h.resourceUrl){f=!0;break}g.push({kind:null,range:h.range})}f?b(k.localize("vs_editor_contrib_rename_rename",0)):a(g)},b,c)})},b}(q);b.RenameAction=s;var t=l.Registry.as(n.Extensions.EditorContributions);t.registerContribution(new m.ActionDescriptor(s,s.ID,k.localize("vs_editor_contrib_rename_rename",1),{key:"F2"},{ctrlCmd:!0,key:"B"})),t.registerContribution(new m.ActionDescriptor(r,r.ID,k.localize("vs_editor_contrib_rename_rename",2),{ctrlCmd:!0,alt:!0,key:"B"},{ctrlCmd:!0,key:"F2"}))}),define("vs/css!vs/editor/contrib/snippet/snippet",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/snippet/snippet",["require","exports","vs/base/strings","vs/editor/core/range","vs/editor/core/constants","vs/editor/core/command/replaceCommand","vs/editor/core/selection","vs/css!./snippet"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(a){this.lines=[],this.placeHolders=[],this.startPlaceHolderIndex=0,this.finishPlaceHolderIndex=-1,this.parseTemplate(a)}return a.prototype.parseTemplate=function(a){var b={},c,d,e,f,g=a.split("\n");for(c=0,d=g.length;c<d;c++){var h=this.parseLine(g[c]);for(e=0,f=h.placeHolders.length;e<f;e++){var j=h.placeHolders[e],k=new i.Range(c+1,j.startColumn,c+1,j.endColumn),l;b.hasOwnProperty(j.value)?l=b[j.value]:(l={value:j.value,occurences:[]},this.placeHolders.push(l),j.value===""&&(this.finishPlaceHolderIndex=this.placeHolders.length-1),b[j.value]=l),l.occurences.push(k)}this.lines.push(h.line)}this.placeHolders.length>this.startPlaceHolderIndex&&this.placeHolders[this.startPlaceHolderIndex].value===""&&this.placeHolders.length>1&&this.startPlaceHolderIndex++},a.prototype.parseLine=function(a){var b,c="",d=[],e=0,f=a.length,g=0;while(e<f)if(a.charAt(e)==="{"&&e+1<f&&a.charAt(e+1)==="{"){e+=2,b="";while(e<f){if(a.charAt(e)==="}"&&e+1<f&&a.charAt(e+1)==="}"){e+=2;break}b+=a.charAt(e),e++}d.push({value:b,startColumn:g+1,endColumn:g+1+b.length}),c+=b,g+=b.length}else c+=a.charAt(e),g++,e++;return{line:c,placeHolders:d}},a.prototype.extractLineIndentation=function(a,b){typeof b=="undefined"&&(b=Number.MAX_VALUE);var c=h.getLeadingWhitespace(a);return c.length>b-1?c.substring(0,b-1):c},a.prototype.bind=function(a,b,c,d){var e=[],f=[],g=this.extractLineIndentation(a,c+1),h,i,j,k,l,m,n,o,p=[];for(l=0,m=this.lines.length;l<m;l++)h=this.lines[l],l===0?(p[l+1]=c,e[l]=h):(i=this.extractLineIndentation(h),j=h.substr(i.length),k=d.normalizeIndentation(g+i),p[l+1]=k.length-i.length,e[l]=k+j);var q,r,s;for(l=0,m=this.placeHolders.length;l<m;l++){q=this.placeHolders[l],s=[];for(n=0,o=q.occurences.length;n<o;n++)r=q.occurences[n],s.push({startLineNumber:r.startLineNumber+b,startColumn:r.startColumn+p[r.startLineNumber],endLineNumber:r.endLineNumber+b,endColumn:r.endColumn+p[r.endLineNumber]});f.push({value:q.value,occurences:s})}return{lines:e,placeHolders:f,startPlaceHolderIndex:this.startPlaceHolderIndex,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},a}();b.CodeSnippet=m;var n=function(){function a(a,b,c,d){this.editor=a,this.handlerService=b,this.finishPlaceHolderIndex=c.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=c.startPlaceHolderIndex,this.highlightDecorationId=null,this.isFinished=!1,this.binding=null,this.initialize(c,d)}return a.prototype.initialize=function(a,b){var c=this,d=[],e,f,g=this.editor.getModel();for(e=0,f=a.placeHolders.length;e<f;e++){var h=a.placeHolders[e],k=[];for(var l=0,m=h.occurences.length;l<m;l++)k.push(g.addTrackedRange(h.occurences[l]));this.trackedPlaceHolders.push({ranges:k})}this.editor.changeDecorations(function(d){var h=b+a.lines.length-1,j=c.editor.getModel().getLineMaxColumn(h);c.highlightDecorationId=d.addDecoration(new i.Range(b,1,h,j),{className:"new-snippet",isWholeLine:!0});for(e=0,f=c.trackedPlaceHolders.length;e<f;e++){var k=e===c.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";c.placeHolderDecorations.push(d.addDecoration(g.getTrackedRange(c.trackedPlaceHolders[e].ranges[0]),{className:k}))}}),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.getModel().addListener(j.EventType.ModelContentChanged,function(a){if(c.isFinished)return;if(a.changeType===j.EventType.ModelContentChangedFlush)c.stopAll();else if(a.changeType===j.EventType.ModelContentChangedLineChanged){var b=a.lineNumber,d=c.editor.getModel().getDecorationRange(c.highlightDecorationId);(b<d.startLineNumber||b>d.endLineNumber)&&c.stopAll()}else if(a.changeType===j.EventType.ModelContentChangedLinesInserted){var e=a.fromLineNumber,d=c.editor.getModel().getDecorationRange(c.highlightDecorationId);(e<d.startLineNumber||e>d.endLineNumber)&&c.stopAll()}else if(a.changeType===j.EventType.ModelContentChangedLinesDeleted){var f=a.fromLineNumber,g=a.toLineNumber,d=c.editor.getModel().getDecorationRange(c.highlightDecorationId),h=g<d.startLineNumber,i=f>d.endLineNumber;(h||i)&&c.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(j.EventType.ModelChanged,function(){c.stopAll()})),this.listenersToRemove.push(this.editor.getModel().addListener(j.EventType.ModelDecorationsChanged,function(a){if(c.isFinished)return;var b=!0;for(var d=0;d<c.trackedPlaceHolders.length;d++){var e=c.trackedPlaceHolders[d].ranges;for(var f=0;f<e.length;f++){var g=c.editor.getModel().getTrackedRange(e[f]);if(!g.isEmpty()){b=!1;break}}}if(b)c.stopAll();else if(c.finishPlaceHolderIndex!==-1){var h=c.placeHolderDecorations[c.finishPlaceHolderIndex],i=c.editor.getModel().getDecorationRange(h),j=c.editor.getModel().getDecorationOptions(h),k=i.isEmpty(),l=j.className==="finish-snippet-placeholder",m=k^l;m&&c.editor.changeDecorations(function(a){var b=k?"finish-snippet-placeholder":"snippet-placeholder";a.changeDecorationOptions(h,{className:b})})}})),this.doLinkEditing(),this.registerKeyHandlers()},a.prototype.registerKeyHandlers=function(){var a=this;this.binding=this.handlerService.bindGroup(function(b){b({key:"Tab"},function(){return a.onNextPlaceHolder()}),b({key:"Shift-Tab"},function(){return a.onPrevPlaceHolder()}),b({key:"Enter"},function(){return a.onAccept()}),b({key:"Escape"},function(){return a.onEscape()})})},a.prototype.onNextPlaceHolder=function(){return this.isFinished?!1:(this.currentPlaceHolderIndex=(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length,this.doLinkEditing(),!0)},a.prototype.onPrevPlaceHolder=function(){return this.isFinished?!1:(this.currentPlaceHolderIndex=(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length,this.doLinkEditing(),!0)},a.prototype.onAccept=function(){if(this.isFinished)return!1;if(this.finishPlaceHolderIndex!==-1){var a=this.editor.getModel().getTrackedRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:a.endLineNumber,column:a.endColumn})}return this.stopAll(),!0},a.prototype.onEscape=function(){return this.isFinished?!1:(this.stopAll(),!1)},a.prototype.doLinkEditing=function(){var a=[];for(var b=0,c=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;b<c;b++){var d=this.editor.getModel().getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[b]);a.push({selectionStartLineNumber:d.startLineNumber,selectionStartColumn:d.startColumn,positionLineNumber:d.endLineNumber,positionColumn:d.endColumn})}this.editor.setSelections(a)},a.prototype.stopAll=function(){var a=this;if(this.isFinished)return;this.isFinished=!0,this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[];var b=this.editor.getModel();for(var c=0;c<this.trackedPlaceHolders.length;c++){var d=this.trackedPlaceHolders[c].ranges;for(var e=0;e<d.length;e++)b.removeTrackedRange(d[e])}this.trackedPlaceHolders=[],this.binding.dispose(),this.editor.changeDecorations(function(b){b.removeDecoration(a.highlightDecorationId);for(var c=0;c<a.placeHolderDecorations.length;c++)b.removeDecoration(a.placeHolderDecorations[c]);a.placeHolderDecorations=[],a.highlightDecorationId=null})},a}(),o=function(){function a(){}return a.run=function(c,d,e,f){var g=c.getSelection(),h=g.getStartPosition(),i=c.getLiveConfiguration(),j=c.getModel(),m=g;f&&(m=m.plusRange(f));var o=e.bind(j.getLineContent(m.startLineNumber),m.startLineNumber-1,m.startColumn-1,i),p=o.lines.join("\n"),q=new k.ReplaceCommand(m,p);c.executeCommand("editor.contrib.insertSnippetHelper",q);var r=a._getSnippetCursorOnly(o);r?c.setSelection(new l.Selection(r.lineNumber,r.column,r.lineNumber,r.column)):o.placeHolders.length>0&&new n(c,d,o,m.startLineNumber)},a._getSnippetCursorOnly=function(b){if(b.placeHolders.length!==1)return null;var c=b.placeHolders[0];if(c.value!==""||c.occurences.length!==1)return null;var d=c.occurences[0];return i.RangeUtils.isEmpty(d)?{lineNumber:d.startLineNumber,column:d.startColumn}:null},a}();b.InsertSnippetHelper=o}),define("vs/editor/contrib/comment/blockCommentCommand",["require","exports","vs/editor/editor","vs/editor/core/range","vs/editor/core/selection"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(a){this._selection=a,this._usedEndToken=null}return a.prototype._haystackHasNeedleAtOffset=function(a,b,c){if(c<0)return!1;var d=b.length,e=a.length;if(c+d>e)return!1;for(var f=0;f<d;f++)if(a.charCodeAt(c+f)!==b.charCodeAt(f))return!1;return!0},a.prototype._createOperationsForBlockComment=function(a,b,c,d){var e=a.startLineNumber,f=a.startColumn,h=a.endLineNumber,i=a.endColumn,j=g.RangeUtils.isEmpty(a),k=b.blockCommentStartToken,l=k.length,m=b.blockCommentEndToken,n=m.length,o=this._haystackHasNeedleAtOffset(c.getLineContent(e),k,f-1-l),p=this._haystackHasNeedleAtOffset(c.getLineContent(h),m,i-1);o&&p?j?d.addEditOperation(new g.Range(e,f-l,h,i+n),null):(d.addEditOperation(new g.Range(e,f-l,e,f),null),d.addEditOperation(new g.Range(h,i,h,i+n),null)):j?(d.addEditOperation(new g.Range(e,f,h,i),k+m),this._usedEndToken=m):(d.addEditOperation(new g.Range(e,f,e,f),k),d.addEditOperation(new g.Range(h,i,h,i),m))},a.prototype.getEditOperations=function(a,b){var c=this._selection.startLineNumber,d=this._selection.startColumn,e=this._selection.endLineNumber,f=this._selection.endColumn;c<e&&f===1&&(e-=1,f=a.getLineMaxColumn(e));var g=a.getModeAtPosition(c,d).commentsSupport;if(!g)return;var h=g.getCommentsConfiguration();if(!h||!h.blockCommentStartToken||!h.blockCommentEndToken)return;this._createOperationsForBlockComment({startLineNumber:c,startColumn:d,endLineNumber:e,endColumn:f},h,a,b)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations();if(c.length===2){var d=c[0],e=c[1];return new h.Selection(d.range.endLineNumber,d.range.endColumn,e.range.startLineNumber,e.range.startColumn)}var f=c[0].range,g=this._usedEndToken?-this._usedEndToken.length:0;return new h.Selection(f.endLineNumber,f.endColumn+g,f.endLineNumber,f.endColumn+g)},a}();b.BlockCommentCommand=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/comment/lineCommentCommand",["require","exports","vs/editor/contrib/comment/blockCommentCommand","vs/base/strings","vs/editor/core/range"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b){a.call(this,b),this._hasDelegatedToParent=!1}return __extends(b,a),b.prototype._hasLineCommentTokensSupportForLines=function(a,b,c){var d,e;for(var f=b;f<=c;f++){d=a.getModeAtPosition(b,1).commentsSupport;if(!d)return!1;e=d.getCommentsConfiguration();if(!e||!e.lineCommentTokens||e.lineCommentTokens.length===0)return!1}return!0},b.prototype.getEditOperations=function(b,c){var d=this._selection;this._moveEndPositionDown=!1,d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,b.getLineMaxColumn(d.endLineNumber-1)));var e=b.getModeAtPosition(d.startLineNumber,d.startColumn).commentsSupport;if(!e)return;if(!this._hasLineCommentTokensSupportForLines(b,d.startLineNumber,d.endLineNumber)){var f=e.getCommentsConfiguration();if(!f||!f.blockCommentStartToken||!f.blockCommentEndToken)return;var i=f.blockCommentStartToken,j=i.length,k=f.blockCommentEndToken,l=k.length,m=b.getLineContent(d.startLineNumber).lastIndexOf(i,d.startColumn-1),n=b.getLineContent(d.endLineNumber).indexOf(k,d.endColumn-1);m!==-1&&n!==-1?(d.startColumn=m+j+1,d.endColumn=n+1):(d.startColumn=1,d.endColumn=b.getLineMaxColumn(d.endLineNumber)),this._hasDelegatedToParent=!0,a.prototype._createOperationsForBlockComment.call(this,d,f,b,c);return}var o=!0,p,q=[],r=[],s,t,u;for(u=d.startLineNumber;u<=d.endLineNumber;u++)t=b.getModeAtPosition(u,1).commentsSupport.getCommentsConfiguration().lineCommentTokens[0],r[u-d.startLineNumber]=t,o&&(p=b.getLineContent(u),s=g.firstNonWhitespaceIndex(p),s===-1?o=!1:this._haystackHasNeedleAtOffset(p,t,s)||(o=!1),q[u-d.startLineNumber]=s);if(o)for(u=d.startLineNumber;u<=d.endLineNumber;u++)c.addEditOperation(new h.Range(u,q[u-d.startLineNumber]+1,u,q[u-d.startLineNumber]+1+r[u-d.startLineNumber].length),null);else for(u=d.startLineNumber;u<=d.endLineNumber;u++)c.addEditOperation(new h.Range(u,1,u,1),r[u-d.startLineNumber]);this._selectionId=c.trackSelection(d)},b.prototype.computeCursorState=function(b,c){if(this._hasDelegatedToParent)return a.prototype.computeCursorState.call(this,b,c);var d=c.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(d=d.setEndPosition(d.endLineNumber+1,1)),d},b}(f.BlockCommentCommand);b.LineCommentCommand=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/comment/comment",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/actionRegistry","./lineCommentCommand","./blockCommentCommand","vs/editor/editorExtensions"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.commentLine",b.prototype.run=function(){var a=new n.LineCommentCommand(this.editor.getSelection());return this.editor.executeCommand(this.getId(),a),k.Promise.as(null)},b}(p.EditorAction),r=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.blockComment",b.prototype.run=function(){var a=new o.BlockCommentCommand(this.editor.getSelection());return this.editor.executeCommand(this.getId(),a),k.Promise.as(null)},b}(p.EditorAction),s=new m.ActionDescriptor(q,q.ID,j.localize("vs_editor_contrib_comment_comment",0),{ctrlCmd:!0,key:"/"},{ctrlCmd:!0,key:"7"}),t=new m.ActionDescriptor(r,r.ID,j.localize("vs_editor_contrib_comment_comment",1),{shift:!0,alt:!0,key:"A"}),u=l.Registry.as(p.Extensions.EditorContributions);u.registerContribution(s),u.registerContribution(t)}),define("vs/editor/contrib/linesOperations/copyLinesCommand",["require","exports","vs/editor/editor","vs/editor/core/range"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b){this._selection=a,this._isCopyingDown=b}return a.prototype.getEditOperations=function(a,b){var c=this._selection;this._moveEndPositionDown=!1,this._moveStartPositionUp=!1,c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,a.getLineMaxColumn(c.endLineNumber-1)),!this._isCopyingDown&&c.isEmpty()&&(this._moveEndPositionDown=!1,this._moveStartPositionUp=!0));var d=[];for(var e=c.startLineNumber;e<=c.endLineNumber;e++)d.push(a.getLineContent(e));var g=d.join("\n");this._isCopyingDown?b.addEditOperation(new f.Range(c.startLineNumber,1,c.startLineNumber,1),g+"\n"):b.addEditOperation(new f.Range(c.endLineNumber,a.getLineMaxColumn(c.endLineNumber),c.endLineNumber,a.getLineMaxColumn(c.endLineNumber)),"\n"+g),this._selectionId=b.trackSelection(c)},a.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);return this._moveStartPositionUp&&(c=c.setEndPosition(c.startLineNumber-1,1)),this._moveEndPositionDown&&(c=c.setEndPosition(c.endLineNumber+1,1)),c},a}();b.CopyLinesCommand=g}),define("vs/editor/contrib/linesOperations/deleteLinesCommand",["require","exports","vs/editor/editor","vs/editor/core/range","vs/editor/core/selection"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(a){this.selection=a}return a.prototype.getEditOperations=function(a,b){if(a.getLineCount()===1&&a.getLineMaxColumn(1)===1)return;var c=this.selection.startLineNumber,d=this.selection.startColumn,e=this.selection.endLineNumber,f=this.selection.endColumn;c<e&&f===1&&(e-=1),d=1,f=a.getLineMaxColumn(e),e<a.getLineCount()?(e+=1,f=1):c>1&&(c-=1,d=a.getLineMaxColumn(c)),b.addEditOperation(new g.Range(c,d,e,f),null)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range;return new h.Selection(d.endLineNumber,this.selection.positionColumn,d.endLineNumber,this.selection.positionColumn)},a}();b.DeleteLinesCommand=i}),define("vs/editor/contrib/linesOperations/moveLinesCommand",["require","exports","vs/editor/editor","vs/editor/core/range","vs/editor/core/selection"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(a,b){this._selection=a,this._isMovingDown=b}return a.prototype.getEditOperations=function(a,b){var c=a.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===c)return;if(!this._isMovingDown&&this._selection.startLineNumber===1)return;this._moveEndPositionDown=!1;var d=this._selection;d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,a.getLineMaxColumn(d.endLineNumber-1)));if(d.startLineNumber===d.endLineNumber&&a.getLineMaxColumn(d.startLineNumber)===1){var e=d.startLineNumber,f=this._isMovingDown?e+1:e-1;b.addEditOperation(new g.Range(e,1,e,1),a.getLineContent(f)),b.addEditOperation(new g.Range(f,1,f,a.getLineMaxColumn(f)),null),d=new h.Selection(f,1,f,1)}else{var i,j;this._isMovingDown?(i=d.endLineNumber+1,j=a.getLineContent(i),b.addEditOperation(new g.Range(i-1,a.getLineMaxColumn(i-1),i,a.getLineMaxColumn(i)),null),b.addEditOperation(new g.Range(d.startLineNumber,1,d.startLineNumber,1),j+"\n")):(i=d.startLineNumber-1,j=a.getLineContent(i),b.addEditOperation(new g.Range(i,1,i+1,1),null),b.addEditOperation(new g.Range(d.endLineNumber,a.getLineMaxColumn(d.endLineNumber),d.endLineNumber,a.getLineMaxColumn(d.endLineNumber)),"\n"+j))}this._selectionId=b.trackSelection(d)},a.prototype.computeCursorState=function(a,b){var c=b.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(c=c.setEndPosition(c.endLineNumber+1,1)),c},a}();b.MoveLinesCommand=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/linesOperations/linesOperations",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/actionRegistry","vs/editor/editorExtensions","./copyLinesCommand","./deleteLinesCommand","./moveLinesCommand"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(a){function b(b,c,d){a.call(this,b,c),this.down=d}return __extends(b,a),b.prototype.run=function(){var a=new p.CopyLinesCommand(this.editor.getSelection(),this.down);return this.editor.executeCommand(this.getId(),a),l.Promise.as(null)},b}(o.EditorAction),t=function(a){function b(b,c){a.call(this,b,c,!1)}return __extends(b,a),b.ID="editor.actions.copyLinesUpAction",b}(s),u=function(a){function b(b,c){a.call(this,b,c,!0)}return __extends(b,a),b.ID="editor.actions.copyLinesDownAction",b}(s),v=function(a){function b(b,c,d){a.call(this,b,c),this.down=d}return __extends(b,a),b.prototype.run=function(){var a=new r.MoveLinesCommand(this.editor.getSelection(),this.down);return this.editor.executeCommand(this.getId(),a),l.Promise.as(null)},b}(o.EditorAction),w=function(a){function b(b,c){a.call(this,b,c,!1)}return __extends(b,a),b.ID="editor.actions.moveLinesUpAction",b}(v),x=function(a){function b(b,c){a.call(this,b,c,!0)}return __extends(b,a),b.ID="editor.actions.moveLinesDownAction",b}(v),y=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.action.deleteLines",b.prototype.run=function(){var a=new q.DeleteLinesCommand(this.editor.getSelection());return this.editor.executeCommand(this.getId(),a),l.Promise.as(null)},b}(o.EditorAction),z=m.Registry.as(o.Extensions.EditorContributions);z.registerContribution(new n.ActionDescriptor(y,y.ID,k.localize("vs_editor_contrib_linesOperations_linesOperations",0),{ctrlCmd:!0,key:"D"},{shift:!0,key:"Delete"})),z.registerContribution(new n.ActionDescriptor(x,x.ID,k.localize("vs_editor_contrib_linesOperations_linesOperations",1),{alt:!0,key:"DownArrow"})),z.registerContribution(new n.ActionDescriptor(w,w.ID,k.localize("vs_editor_contrib_linesOperations_linesOperations",2),{alt:!0,key:"UpArrow"})),z.registerContribution(new n.ActionDescriptor(u,u.ID,k.localize("vs_editor_contrib_linesOperations_linesOperations",3),{alt:!0,shift:!0,key:"DownArrow"})),z.registerContribution(new n.ActionDescriptor(t,t.ID,k.localize("vs_editor_contrib_linesOperations_linesOperations",4),{alt:!0,shift:!0,key:"UpArrow"}))}),define("vs/css!vs/editor/contrib/zoneWidget/zoneWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/zoneWidget/zoneWidget",["require","exports","vs/base/types","vs/base/objects","vs/base/eventEmitter","vs/base/dom/builder","vs/editor/core/constants","vs/editor/editor","vs/css!./zoneWidget"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h,o={showAbove:!1,showFrame:!0,frameColor:"",className:""},p="vs.editor.contrib.zoneWidget",q=function(){function a(a,b,c,d,e){this.domNode=a,this.afterLineNumber=b,this.heightInLines=c,this._onDomNodeTop=d,this._onComputedHeight=e}return a.prototype.onDomNodeTop=function(a){this._onDomNodeTop(a)},a.prototype.onComputedHeight=function(a){this._onComputedHeight(a)},a}(),r=function(){function a(a,b){this._id=a,this._domNode=b}return a.prototype.getId=function(){return this._id},a.prototype.getDomNode=function(){return this._domNode},a.prototype.getPosition=function(){return null},a}(),s=function(a){function b(b,c){typeof c=="undefined"&&(c={});var d=this;a.call(this),this.editor=b,this.options=j.mixin(j.clone(o),c),this.zoneId=-1,this.overlayWidget=null,this.lastView=null,this.domNode=document.createElement("div"),this.container=null,this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(m.EventType.EditorLayout,function(){d.editorLayoutInfo=d.editor.getLayoutInfo(),d.onWidth(d.editorLayoutInfo.width-10)}))}return __extends(b,a),b.prototype.create=function(){var a=this,b=l.Build.withElement(this.domNode).addClass("zone-widget").addClass(this.options.className);b.div({"class":"container"},function(b){a.container=b.asContainer(),a.fillContainer(b.getHTMLElement())})},b.prototype.onViewZoneTop=function(a){this.domNode.style.top=a+"px"},b.prototype.onViewZoneHeight=function(a){this.domNode.style.height=a+"px"},b.prototype.createArrow=function(a,b,c){var d=document.createElement("div"),e=this.editor.getOffsetForColumn(a.lineNumber,a.column);return d.style.borderWidth=c+"px",d.style.left=e+"px",this.options.showAbove?(d.className="zone-widget-arrow above",d.style.top=4+c+b+"px",d.style.borderTopColor=this.options.frameColor):(d.className="zone-widget-arrow below",d.style.top=-c+"px",d.style.borderBottomColor=this.options.frameColor),d},b.prototype.show=function(a,b){i.isUndefinedOrNull(a.startLineNumber)?this.showImpl({startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column},b):this.showImpl(a,b)},b.prototype.showImpl=function(a,b){var c=this;this.position={lineNumber:a.startLineNumber,column:a.startColumn},this.editor.revealPosition(this.position,!1,!1);var d=document.createElement("div"),e=this.editor.getConfiguration().lineHeight,f;if(this.options.showFrame){var g=Math.round(e/3),h=Math.max(0,e-2*g);f=(b-1)*e+h-4,d.appendChild(this.createArrow(this.position,f,g))}else f=b*e;this.editor.changeViewZones(function(a){c.zoneId!==-1&&a.removeZone(c.zoneId),c.overlayWidget&&(c.editor.removeOverlayWidget(c.overlayWidget),c.overlayWidget=null);var e=new q(d,c.position.lineNumber+(c.options.showAbove?-1:0),b,function(a){return c.onViewZoneTop(a)},function(a){return c.onViewZoneHeight(a)});c.zoneId=a.addZone(e),c.overlayWidget=new r(p+c.zoneId,c.domNode),c.editor.addOverlayWidget(c.overlayWidget)}),this.options.showFrame?this.container.style({borderTopColor:this.options.frameColor,borderBottomColor:this.options.frameColor,top:g+"px",height:f+"px",overflow:"hidden"}):this.container.style({borderTopColor:this.options.frameColor,borderBottomColor:this.options.frameColor,borderTopWidth:0,borderBottomWidth:0,height:f+"px",overflow:"hidden"}),this.doLayout(f),this.editor.setSelection(a);var i={lineNumber:Math.min(this.editor.getModel().getLineCount(),Math.max(1,a.endLineNumber+(this.options.showAbove?-1:1))),column:1};this.editor.revealPosition(i,!1,!1)},b.prototype.dispose=function(){var a=this;this.position=null,this.overlayWidget&&(this.editor.removeOverlayWidget(this.overlayWidget),this.overlayWidget=null),this.zoneId!==-1&&this.editor.changeViewZones(function(b){b.removeZone(a.zoneId),a.zoneId=-1})},b.prototype.fillContainer=function(a){},b.prototype.onClose=function(){},b.prototype.onWidth=function(a){},b.prototype.doLayout=function(a){},b}(k.EventEmitter);b.ZoneWidget=s}),define("vs/css!vs/editor/contrib/goToDeclaration/goToDeclaration",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/goToDeclaration/goToDeclaration",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/base/network","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/services","vs/platform/actionRegistry","vs/base/dom/builder","vs/editor/core/codeEditorWidget","vs/editor/editorExtensions","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/core/constants","vs/css!./goToDeclaration"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c,p=d,q=e,r=f,s=g,t=h,u=i,v=j,w=k,x=l,y=m,z=n,A=function(a){function b(b,c){a.call(this,b,c,x.Precondition.TextFocus),this.editorService=null,this.messageService=null}return __extends(b,a),b.prototype.injectEditorService=function(a){this.editorService=a,this.updateEnablementState()},b.prototype.injectMessageService=function(a){this.messageService=a,this.updateEnablementState()},b.prototype.injectRequestService=function(a){this.requestService=a},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editorService&&!!this.messageService&&!!this.editor.getModel().getMode().declarationSupport},b.prototype.run=function(){var a=this,b=this.editor.getModel(),c=this.editor.getModel().getMode().declarationSupport,d=this.editor.getPosition(),e=this.resolve(b.getAssociatedResource(),{lineNumber:d.lineNumber,column:d.column});return e.then(function(b){if(!b)return;a.editorService.openEditor({path:a.requestService.getPath("root",new q.URL(b.resourceUrl)),options:{selection:b.range}})},function(b){a.messageService.show(t.Severity.Error,b)})},b.prototype.resolve=function(a,b){return r.Promise.as(null)},b}(x.EditorAction);b.GoToTypeAction=A;var B=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.goToTypeDeclaration",b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().declarationSupport.findTypeDeclaration},b.prototype.resolve=function(a,b){return this.editor.getModel().getMode().declarationSupport.findTypeDeclaration(a,b)},b}(A);b.GoToTypeDeclarationActions=B;var C=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.actions.goToDeclaration",b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().declarationSupport.findDeclaration},b.prototype.resolve=function(a,b){return this.editor.getModel().getMode().declarationSupport.findDeclaration(a,b)},b}(A);b.GoToDeclarationAction=C;var D=function(a){function b(b,c,d){a.call(this,b,{showFrame:!0,showAbove:!0,frameColor:"#EFEFF2"}),this.model=c,this.range=d,this.widget=null,this.widgetContainer=null,this.create()}return __extends(b,a),b.prototype.fillContainer=function(a){var b=this;v.withElement(a).addClass("preview-zone-widget").div(function(a){b.widgetContainer=a.asContainer().addClass("preview");var c=b.editor.getConfiguration().lineNumbers,d=b.editor.getConfiguration().glyphMargin,e=b.editor.getConfiguration().theme;b.widget=new w.CodeEditorWidget(a.getHTMLElement(),{readOnly:!0,lineNumbers:c,glyphMargin:d,theme:e},null),b.widget.setModel(b.model),b.reveal()})},b.prototype.reveal=function(){this.widget.setPosition({lineNumber:this.range.startLineNumber,column:this.range.startColumn},!0,!0,!0)},b.prototype.doLayout=function(a){this.widgetContainer.style({height:a+"px"}),this.widget.layout()},b.prototype.dispose=function(){this.widget.destroy(),a.prototype.dispose.call(this)},b}(y.ZoneWidget),E=function(a){function b(b,c){var d=this;a.call(this,b,c,x.Precondition.TextFocus),this.handlerService=null,this.editorService=null,this.toUnhook.push(b.addListener(z.EventType.ModelChanged,function(){d.clear()})),this.widget=null,this.closeBinding=null}return __extends(b,a),b.ID="editor.actions.previewDeclaration",b.prototype.injectEditorService=function(a){this.editorService=a,this.updateEnablementState()},b.prototype.injectRequestService=function(a){this.requestService=a},b.prototype.injectTelemetryService=function(a){this.telemetryService=a},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editorService&&!!this.handlerService&&!!this.editor.getModel().getMode().declarationSupport&&!!this.editor.getModel().getMode().declarationSupport.findDeclaration},b.prototype.run=function(){var a=this;this.clear();var b=this.editor.getModel(),c=this.editor.getModel().getMode().declarationSupport,d=this.editor.getPosition(),e={lineNumber:d.lineNumber,column:d.column};return c.findDeclaration(b.getAssociatedResource(),e).then(function(b){if(!b||!b.preview)return r.Promise.as(null);var c={path:a.requestService.getPath("root",new q.URL(b.resourceUrl))};return a.editorService.resolveEditorModel(c).then(function(c){a.widget=new D(a.editor,c.getTextEditorModel(),b.range),a.widget.show(d,18),a.widget.reveal();var e=(new Date).getTime();a.closeBinding=a.handlerService.bind({key:"Escape"},function(){return a.telemetryService.log("zoneWidgetShown",{mode:"go to declaration",elapsedTime:(new Date).getTime()-e}),!!a.clear()},{id:a.getId()})})})},b.prototype.clear=function(){this.closeBinding!==null&&(this.closeBinding.dispose(),this.closeBinding=null),this.widget&&(this.widget.dispose(),this.widget=null)},b.prototype.dispose=function(){this.clear(),a.prototype.dispose.call(this)},b}(x.EditorAction);b.PreviewDeclarationAction=E;var F=new u.ActionDescriptor(E,E.ID,o.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",0)),G=new u.ActionDescriptor(C,C.ID,o.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",1),{ctrlCmd:!p.browser.isMacintosh,key:"F12"}),H=new u.ActionDescriptor(B,B.ID,o.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",2),{ctrlCmd:!0,shift:!p.browser.isMacintosh,key:"F12"}),I=s.Registry.as(x.Extensions.EditorContributions);I.registerContribution(G),I.registerContribution(F),I.registerContribution(H)}),define("vs/platform/markers/markers",["require","exports","vs/base/network"],function(a,b,c){function f(a,b,c,d,e,f){return{type:"text",ownerId:a,severity:b,code:c,text:d,offset:e,length:f}}function g(a,b,c,d,e){return{type:"text",ownerId:a,severity:b,code:c,text:d,range:e}}var d=c;(function(a){a._map=[],a._map[0]="Info",a.Info=0,a._map[1]="Warning",a.Warning=1,a._map[2]="Error",a.Error=2})(b.Severity||(b.Severity={}));var e=b.Severity;b.createTextMarker=f,b.createRangeTextMarker=g;var h=["type","ownerId"],i=function(){function a(a){this.resource=a,this.markers=[]}return a.fromJson=function(c){var e={},f=new a(new d.URL(c.resource));for(var g=0;g<c.markers.length;g++){var i=c.markers[g];h.forEach(function(a){var b=i[a],c=e[b];c?i[a]=c:e[b]=b}),f.__addMarker(i)}return f},a.prototype.getAssociatedResource=function(){return this.resource},a.prototype.getMarkers=function(){return this.markers.slice(0)},a.prototype.toJson=function(){return{resource:this.resource.toString(),markers:this.getMarkers()}},a.prototype.__addMarker=function(a){this.markers.push(a)},a}();b.MarkerSet=i});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/gotoError/gotoError",["require","exports","vs/base/dom/dom","vs/base/lib/winjs.base","vs/editor/contrib/zoneWidget/zoneWidget","vs/base/dom/builder","vs/base/eventEmitter","vs/editor/editorExtensions","vs/editor/core/constants","vs/editor/core/position","vs/editor/core/range","vs/platform/services","vs/platform/markers/markers","vs/platform/platform","vs/platform/actionRegistry","vs/nls!vs/editor/editor.main"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=c,r=d,s=e,t=f,u=g,v=h,w=i,x=j,y=k,z=l,A=m,B=n,C=o,D=p,E=function(a){function b(b,c){var d=this;a.call(this),this.editor=b,this.markers=null,this.nextIdx=-1,this.disposed=!1,this.toUnbind=[],this.ignoreSelectionChange=!1,this.setMarkers(c),this.toUnbind.push(this.editor.addListener(w.EventType.Disposed,function(){return d.dispose()})),this.toUnbind.push(this.editor.addListener(w.EventType.CursorPositionChanged,function(){d.ignoreSelectionChange||(d.nextIdx=-1)}))}return __extends(b,a),b.Events={CURRENT:"onMarker",MARKER_SET:"onNewMarkerSet"},b.prototype.setMarkers=function(a){this.markers=a||[],this.markers.sort(function(a,b){return a.range.startLineNumber===b.range.startLineNumber?a.range.startColumn-b.range.startColumn:a.range.startLineNumber-b.range.startLineNumber}),this.nextIdx=-1,this.emit(b.Events.MARKER_SET,this)},b.prototype.withoutWatchingEditorPosition=function(a){this.ignoreSelectionChange=!0;try{a()}finally{this.ignoreSelectionChange=!1}},b.prototype.initIdx=function(a){var b=!1,c=this.editor.getPosition();for(var d=0,e=this.markers.length;d<e&&!b;d++){var f=new y.Range(this.markers[d].range.startLineNumber,this.markers[d].range.startColumn,this.markers[d].range.endLineNumber,this.markers[d].range.endColumn);c.isBeforeOrEqual(f.getStartPosition())&&(this.nextIdx=d+(a?0:-1),b=!0)}b||(this.nextIdx=a?0:this.markers.length-1),this.nextIdx<0&&(this.nextIdx=this.markers.length-1)},b.prototype.move=function(a){if(!this.canNavigate()){this.emit(b.Events.CURRENT,null);return}this.nextIdx===-1?this.initIdx(a):a?(this.nextIdx+=1,this.nextIdx>=this.markers.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.markers.length-1));var c=this.markers[this.nextIdx];this.emit(b.Events.CURRENT,c)},b.prototype.canNavigate=function(){return this.markers.length>0},b.prototype.next=function(){this.move(!0)},b.prototype.previous=function(){this.move(!1)},b.prototype.reveal=function(){var a=this;if(this.nextIdx===-1)return;this.withoutWatchingEditorPosition(function(){var b=new x.Position(a.markers[a.nextIdx].range.startLineNumber,a.markers[a.nextIdx].range.startColumn);a.editor.setPosition(b,!0,!0,!0)})},b.prototype.dispose=function(){while(this.toUnbind.length>0)this.toUnbind.pop()();this.markers=null,this.disposed=!0,a.prototype.dispose.call(this)},b}(u.EventEmitter),F={showFrame:!0,showAbove:!1},G=function(a){function b(b,c){a.call(this,b,F),this.model=c,this.element=null,this.unhook=function(){},this.create(),this.wireModelAndView()}return __extends(b,a),b.prototype.fillContainer=function(a){var b=this;t.withElement(a).div(function(a){b.element=a,b.element.addClass("monaco-marker-widget")}),t.withElement(a).div(function(a){a.addClass("quick-fix-message"),b.quickFixLabel=a}),t.withElement(a).on(q.EventType.CLICK,function(){b.editor.focus()})},b.prototype.wireModelAndView=function(){var a=this;this.unhook=this.model.addListener(E.Events.CURRENT,function(b){return a.showAtMarker(b)})},b.prototype.showAtMarker=function(a){var b=this;if(!a)return;switch(a.severity){case A.Severity.Error:this.options.frameColor="#ff5a5a";break;case A.Severity.Warning:case A.Severity.Info:this.options.frameColor="#5aac5a"}this.element.safeInnerHtml(a.text);var c=this.editor.getModel().getMode();this.quickFixLabel.hide();if(a.severity===A.Severity.Error&&c.quickFixSupport){var d=c.quickFixSupport.quickFix(this.editor.getModel().getAssociatedResource(),{lineNumber:a.range.endLineNumber,column:a.range.endColumn});d.then(function(a){if(a.length>0){var c=a.map(function(a){return a.label});b.quickFixLabel.show().innerHtml(D.localize("vs_editor_contrib_gotoError_gotoError",0,c.join(", ")))}}).done()}this.model.withoutWatchingEditorPosition(function(){b.show(new x.Position(a.range.startLineNumber,a.range.startColumn),3)})},b.prototype.dispose=function(){this.unhook(),a.prototype.dispose.call(this)},b}(s.ZoneWidget),H=function(a){function b(b,c,d){a.call(this,b,c),this.handlerService=null,this.markerService=null,this.isNext=d}return __extends(b,a),b.prototype.injectMarkerService=function(a){this.markerService=a,this.updateEnablementState()},b.prototype.injectTelemetryService=function(a){this.telemetryService=a,this.updateEnablementState()},b.prototype.getEnablementState=function(){return!!this.markerService&&!!this.handlerService&&a.prototype.getEnablementState.call(this)},b.prototype.getOrCreateModel=function(){throw new Error("Abstract method")},b.prototype.run=function(){var a=this.getOrCreateModel();return this.telemetryService.log("zoneWidgetShown",{mode:"go to error"}),a&&(this.isNext?a.next():a.previous(),a.reveal()),r.Promise.as(!0)},b}(v.EditorAction),I=function(a){function b(b,c){a.call(this,b,c,!0),this.model=null,this.zone=null,this.moreToUnhook=[]}return __extends(b,a),b.ID="editor.actions.marker.next",b.prototype.cleanUp=function(){while(this.toUnhook.length>0)this.toUnhook.pop()();this.zone&&(this.zone.dispose(),this.zone=null),this.model&&(this.model.dispose(),this.model=null)},b.prototype.getOrCreateModel=function(){var a=this;if(this.model)return this.model;var b=this.getMarkers();return this.model=new E(this.editor,b),this.zone=new G(this.editor,this.model),this.toUnhook.push(this.handlerService.bind({key:"Escape"},function(){a.cleanUp()},{once:!0,id:this.getId()}).dispose),this.toUnhook.push(this.editor.addListener(w.EventType.ModelChanged,function(){a.cleanUp()})),this.toUnhook.push(this.model.addListener(E.Events.CURRENT,function(b){b||a.cleanUp()})),this.toUnhook.push(this.markerService.addListener(z.MarkerServiceConstants.SERVICE_CHANGED,function(b){var c=b.markerSetEvents,d=a.editor.getModel().getAssociatedResource().toExternal();for(var e=0;e<c.length;e++){var f=c[e];if(f.resource.toExternal()===d){var g=a.getMarkers();a.model.setMarkers(g);break}}})),this.model},b.prototype.getMarkers=function(){var a=this.editor.getModel().getAssociatedResource(),b=this.markerService.getMarkerSet(a);return b===null?null:b.getMarkers()},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.cleanUp()},b}(H),J=function(a){function b(b,c){a.call(this,b,c,!1)}return __extends(b,a),b.ID="editor.actions.marker.prev",b.prototype.getOrCreateModel=function(){return this.editor.getAction(I.ID).getOrCreateModel()},b}(H),K=new C.ActionDescriptor(I,I.ID,D.localize("vs_editor_contrib_gotoError_gotoError",1),{ctrlCmd:!0,key:","}),L=new C.ActionDescriptor(J,J.ID,D.localize("vs_editor_contrib_gotoError_gotoError",2),{ctrlCmd:!0,shift:!0,key:","}),M=B.Registry.as(v.Extensions.EditorContributions);M.registerContribution(K),M.registerContribution(L)}),define("vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand",["require","exports","vs/editor/editor","vs/editor/core/selection"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a,b,c){this._editRange=a,this._originalSelection=b,this._text=c}return a.prototype.getEditOperations=function(a,b){b.addEditOperation(this._editRange,this._text)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range;return this._originalSelection.isEmpty()?new f.Selection(d.endLineNumber,Math.min(this._originalSelection.positionColumn,d.endColumn),d.endLineNumber,Math.min(this._originalSelection.positionColumn,d.endColumn)):new f.Selection(d.endLineNumber,d.endColumn-this._text.length,d.endLineNumber,d.endColumn)},a}();b.InPlaceReplaceCommand=g});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/inPlaceReplace/inPlaceReplace",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/actionRegistry","vs/editor/editorExtensions","vs/editor/core/range","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q=function(a){function b(b,c,d){a.call(this,b,c),this.up=d,this.requestIdPool=0,this.currentRequest=k.Promise.as(null),this.decorationRemover=k.Promise.as(null),this.decorationIds=[]}return __extends(b,a),b.COMMAND="navigateValueSet",b.DECORATION={isOverlay:!1,className:"valueSetReplacement"},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().inplaceReplaceSupport},b.prototype.run=function(){var a=this;this.currentRequest.cancel();var c=this.editor.getSelection(),d=this.editor.getPosition(),e=this.editor.getModel(),f=e.getMode().inplaceReplaceSupport;return c.startLineNumber!==c.endLineNumber?null:(this.currentRequest=f.navigateValueSet(e.getAssociatedResource(),c,this.up).then(function(d){if(!d||!d.range||!d.value)return;var e=o.create(d.range),f=d.range,g=d.value.length-(c.endColumn-c.startColumn);f.endColumn=f.startColumn+d.value.length,c.endColumn+=g>1?g-1:0;var h=new p.InPlaceReplaceCommand(e,c,d.value);a.editor.executeCommand(a.getId(),h),a.decorationIds=a.editor.deltaDecorations(a.decorationIds,[{range:f,options:b.DECORATION}]),a.decorationRemover.cancel(),a.decorationRemover=k.Promise.timeout(350).then(function(){a.editor.changeDecorations(function(b){while(a.decorationIds.length>0)b.removeDecoration(a.decorationIds.pop())})})}),this.currentRequest)},b}(n.EditorAction),r=function(a){function b(b,c){a.call(this,b,c,!0)}return __extends(b,a),b.ID="editor.actions.inPlaceReplace.up",b}(q),s=function(a){function b(b,c){a.call(this,b,c,!1)}return __extends(b,a),b.ID="editor.actions.inPlaceReplace.down",b}(q),t=new m.ActionDescriptor(r,r.ID,j.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",0),{ctrlCmd:!0,key:"UpArrow"}),u=new m.ActionDescriptor(s,s.ID,j.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",1),{ctrlCmd:!0,key:"DownArrow"}),v=l.Registry.as(n.Extensions.EditorContributions);v.registerContribution(t),v.registerContribution(u)}),define("vs/base/errors",["require","exports","vs/nls!vs/editor/editor.main","./objects","./types"],function(a,b,c,d,e){function j(a){i=a}function k(a){i(a)}function m(a,b){var c=a.errorCode,d=a.errorMessage;return c!==null&&d!==null?f.localize("vs_base_errors",0,c,d):d!==null?d:b&&a.responseText!==null?a.responseText:null}function n(a,b){var c=m(a,b);return a.status===401?c!==null?f.localize("vs_base_errors",1,c):f.localize("vs_base_errors",2):c!==null?c:a.status>0&&a.statusText!==null?b&&a.responseText!==null&&a.responseText.length>0?f.localize("vs_base_errors",3,a.statusText,a.responseText):f.localize("vs_base_errors",4,a.statusText,a.status):b&&a.responseText!==null&&a.responseText.length>0?f.localize("vs_base_errors",5,a.responseText):f.localize("vs_base_errors",6)}function o(a,b){return n(new l(a),b)}function p(a,b){return b&&a.message&&(a.stack||a.stacktrace)?f.localize("vs_base_errors",7,a.message,a.stack||a.stacktrace):a.message?a.message:f.localize("vs_base_errors",8)}function q(a,b){typeof b=="undefined"&&(b=!1);if(!a)return f.localize("vs_base_errors",9);if(h.isString(a))return a;if(a instanceof l)return n(a,b);if(!h.isUndefinedOrNull(a.status))return o(a,b);if(a.detail){var c=a.detail;if(c.error){if(c.error&&!h.isUndefinedOrNull(c.error.status))return o(c.error,b);if(!h.isArray(c.error))return p(c.error,b);for(var d=0;d<c.error.length;d++)if(c.error[d]&&!h.isUndefinedOrNull(c.error[d].status))return o(c.error[d],b)}if(c.exception)return p(c.exception,b)}return a.stack?p(a,b):a.message?a.message:f.localize("vs_base_errors",10)}function r(a){if(a)if(h.isArray(a)){for(var b=0;b<a.length;b++)if(a[b]&&a[b].status)return a[b].status}else if(a.status)return a.status;return-1}function s(a){return a instanceof Error&&a.name==="Canceled"&&a.message==="Canceled"}var f=c,g=d,h=e,i=function(a){throw a};b.setPromiseErrorDelegate=j,b.onPromiseError=k;var l=function(){function a(a){this.status=a.status,this.statusText=a.statusText,this.responseText=a.responseText,this.errorMessage=null,this.errorCode=null,this.errorObject=null;if(this.responseText)try{var b=JSON.parse(this.responseText);this.errorMessage=b.message,this.errorCode=b.code,this.errorObject=b}catch(c){}this.message=q(this,!1)}return a}();b.ConnectionError=l,g.derive(Error,l),b.toErrorMessage=q,b.getHttpStatus=r,b.isPromiseCanceledError=s}),define("vs/base/ui/widgets/newtree/tree",["require","exports","vs/base/eventEmitter"],function(a,b,c){function d(){}var e=c;(function(a){a._map=[],a.NONE=0,a.ACCEPT=1,a.BUBBLE_UP=2})(b.DragOverReaction||(b.DragOverReaction={}));var f=b.DragOverReaction}),define("vs/base/ui/widgets/newtree/preRenderer",["require","exports","./tree","vs/base/dom/builder"],function(a,b,c,d){var e=c,f=d,g=f.$,h=function(){function a(a){this.dataSource=a,this.cache={}}return a.BINDING="monaco-tree-actionsRenderer",a.prototype.getHeight=function(a,b){var c=this.getKey(a,b),d=this.cache[c]||{},e=document.createElement("div");e.className="pre-render",d.cleanupFn=this.renderContents(a,b,e,d.cleanupFn||null);var f=a.withFakeRow(function(a){a.appendChild(e);var b=a.clientHeight;return a.removeChild(e),b});return d.tree=a,d.element=b,d.container=e,this.cache[c]=d,f},a.prototype.render=function(a,b,c){var d=this.getKey(a,b),e=this.cache[d];if(!e)throw new Error("Binding not found.");return c.appendChild(e.container),this.cleanup.bind(this,a,b)},a.prototype.cleanup=function(a,b){var c=this.getKey(a,b);this.cleanupBinding(this.cache[c]),delete this.cache[c]},a.prototype.cleanupBinding=function(a){a&&(a.cleanupFn&&(a.cleanupFn(a.tree,a.element),delete a.cleanupFn),a.container&&delete a.container,delete a.tree,delete a.element)},a.prototype.renderContents=function(a,b,c,d){throw new Error("Implement me.")},a.prototype.getKey=function(a,b){return this.dataSource.getId(a,b)},a.prototype.dispose=function(){var a=this;this.cache&&(Object.keys(this.cache).forEach(function(b){a.cleanupBinding(a.cache[b]),delete a.cache[b]}),delete this.cache)},a}();b.PreRenderer=h});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/widgets/newtree/treeModel",["require","exports","vs/base/assert","vs/base/eventEmitter","vs/base/lib/winjs.base"],function(a,b,c,d,e){var f=c,g=d,h=e,i=!1,j=function(){function a(){this.lockedItems={},this.lock=h.Promise.as(null)}return a.prototype.makePromise=function(a,b){var c=this;return new h.Promise(function(d,e,f){return c.lockedItems[a.id]=a,b().then(function(b){return delete c.lockedItems[a.id],b}).then(d,e,f)})},a.prototype.intersectLock=function(a){var b;for(b in this.lockedItems)if(this.lockedItems.hasOwnProperty(b)){var c=this.lockedItems[b];if(a.intersects(c))return!0}return!1},a.prototype.run=function(a,b){var c=this,d=function(){return c.makePromise(a,b)},e=this.lock;return this.intersectLock(a)?this.lock=this.lock.then(d):(e=d(),this.lock=h.Promise.join([this.lock,e])),e},a.prototype.isLocked=function(a){return!!this.lockedItems[a.id]},a}();b.Lock=j;var k=function(a){function b(){a.call(this),this.items={}}return __extends(b,a),b.prototype.register=function(a){f.ok(!this.isRegistered(a.id)),this.items[a.id]=a,this.emit("register",a)},b.prototype.deregister=function(a){f.ok(this.isRegistered(a.id)),delete this.items[a.id],this.emit("deregister",a)},b.prototype.isRegistered=function(a){return this.items.hasOwnProperty(a)},b.prototype.getItem=function(a){return this.items[a]||null},b.prototype.dispose=function(){a.prototype.dispose.call(this),delete this.items},b}(g.EventEmitter);b.ItemRegistry=k;var l=function(a){function b(b,c,d,e,f){a.call(this),this.registry=c,this.context=d,this.lock=e,this.element=f,this.id=b,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.level=0,this.expanded=!1,this.visible=this._isVisible(),this.height=this._getHeight()}return __extends(b,a),b.prototype.getElement=function(){return this.element},b.prototype.hasChildren=function(){return this.doesHaveChildren},b.prototype.setHasChildren=function(a){var b=a!==this.doesHaveChildren;this.doesHaveChildren=a;if(b){var c={item:this};this.emit("item:refresh",c)}},b.prototype.getLevel=function(){return this.level},b.prototype.isVisible=function(){return this.visible},b.prototype.setVisible=function(a){this.visible=a},b.prototype.isExpanded=function(){return this.expanded},b.prototype.setExpanded=function(a){this.expanded=a},b.prototype.reveal=function(a){typeof a=="undefined"&&(a=null);var b={item:this,relativeTop:a};this.emit("item:reveal",b)},b.prototype.expand=function(){var a=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return h.Promise.as(!1);var b=this.lock.run(this,function(){var b={item:a},c;return a.emit("item:expanding",b),a.needsChildrenRefresh?c=a.refreshChildren(!1,!0,!0):c=h.Promise.as(null),c.then(function(){return a.setExpanded(!0),a.emit("item:expanded",b),!0})});return b.then(function(b){return b&&a.firstChild!==null&&a.firstChild===a.lastChild?a.firstChild.expand().then(function(){return!0}):b})},b.prototype.collapse=function(a){typeof a=="undefined"&&(a=!1);var b=this;if(a){var c=h.Promise.as(null);return this.forEachChild(function(a){c=c.then(function(){return a.collapse(!0)})}),c.then(function(){return b.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?h.Promise.as(!1):this.lock.run(this,function(){var a={item:b};return b.emit("item:collapsing",a),b.setExpanded(!1),b.emit("item:collapsed",a),h.Promise.as(!0)})},b.prototype.addTrait=function(a){var b={item:this,trait:a};this.traits[a]=!0,this.emit("item:addTrait",b)},b.prototype.removeTrait=function(a){var b={item:this,trait:a};delete this.traits[a],this.emit("item:removeTrait",b)},b.prototype.hasTrait=function(a){return this.traits[a]||!1},b.prototype.getAllTraits=function(){var a=[],b;for(b in this.traits)this.traits.hasOwnProperty(b)&&this.traits[b]&&a.push(b);return a},b.prototype.getHeight=function(){return this.height},b.prototype.refreshChildren=function(a,c,d){typeof c=="undefined"&&(c=!1),typeof d=="undefined"&&(d=!1);var e=this;if(!d&&!this.isExpanded())return this.needsChildrenRefresh=!0,h.Promise.as(this);this.needsChildrenRefresh=!1;var f,g=function(){var d={item:e,isNested:c};e.emit("item:childrenRefreshing",d);var g;return e.doesHaveChildren?g=e.context.dataSource.getChildren(e.context.tree,e.element):g=h.Promise.as([]),g.then(function(c){c=c?c.slice(0):[],c=e.sort(c),f=c.length>0;var d={};while(e.firstChild!==null)d[e.firstChild.id]=e.firstChild,e.removeChild(e.firstChild);for(var g=0,i=c.length;g<i;g++){var j=c[g],k=e.context.dataSource.getId(e.context.tree,j),l=d[k]||new b(k,e.registry,e.context,e.lock,j);a&&(l.needsChildrenRefresh=a),delete d[k],e.addChild(l)}for(var k in d)d.hasOwnProperty(k)&&d[k].dispose();return a?h.Promise.join(e.mapEachChild(function(b){return b.doRefresh(a,!0)})):h.Promise.as(null)}).then(function(){e.emit("item:childrenRefreshed",d)})},i=c?g():this.lock.run(this,g);return i.then(function(){e.setHasChildren(f);if(!e.doesHaveChildren)return e.collapse()})},b.prototype.doRefresh=function(a,b){typeof b=="undefined"&&(b=!1);var c={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",c),this.refreshChildren(a,b)},b.prototype.refresh=function(a){return this.doRefresh(a)},b.prototype.getNavigator=function(){return new n(this)},b.prototype.intersects=function(a){return this.isAncestorOf(a)||a.isAncestorOf(this)},b.prototype.isAncestorOf=function(a){while(a){if(a.id===this.id)return!0;a=a.parent}return!1},b.prototype.addChild=function(a,b){typeof b=="undefined"&&(b=this.lastChild);var c=this.firstChild===null,d=b===null,e=b===this.lastChild;c?(this.firstChild=this.lastChild=a,a.next=a.previous=null):d?(this.firstChild.previous=a,a.next=this.firstChild,a.previous=null,this.firstChild=a):e?(this.lastChild.next=a,a.next=null,a.previous=this.lastChild,this.lastChild=a):(a.previous=b,a.next=b.next,b.next.previous=a,b.next=a),a.parent=this,a.level=this.level+1},b.prototype.removeChild=function(a){var b=this.firstChild===a,c=this.lastChild===a;b&&c?this.firstChild=this.lastChild=null:b?(a.next.previous=null,this.firstChild=a.next):c?(a.previous.next=null,this.lastChild=a.previous):(a.next.previous=a.previous,a.previous.next=a.next),a.parent=null,a.level=null},b.prototype.forEachChild=function(a){var b=this.firstChild,c;while(b)c=b.next,a(b),b=c},b.prototype.mapEachChild=function(a){var b=[];return this.forEachChild(function(c){b.push(a(c))}),b},b.prototype.sort=function(a){var b=this;return this.context.sorter?a.sort(function(a,c){return b.context.sorter.compare(b.context.tree,a,c)}):a},b.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},b.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},b.prototype.dispose=function(){this.forEachChild(function(a){return a.dispose()}),delete this.parent,delete this.previous,delete this.next,delete this.firstChild,delete this.lastChild;var b={item:this};this.emit("item:dispose",b),this.registry.deregister(this),a.prototype.dispose.call(this)},b}(g.EventEmitter);b.Item=l;var m=function(a){function b(b,c,d,e,f){a.call(this,b,c,d,e,f),this.level=0,this.height=0}return __extends(b,a),b.prototype.isVisible=function(){return!1},b.prototype.setVisible=function(a){},b.prototype.isExpanded=function(){return!0},b.prototype.setExpanded=function(a){},b.prototype.render=function(){},b.prototype._getHeight=function(){return 0},b.prototype._isVisible=function(){return!1},b}(l),n=function(){function a(a,b){typeof b=="undefined"&&(b=!0),this.item=a,this.start=b?a:null}return a.lastDescendantOf=function(c){return c?!c.isVisible()||!c.isExpanded()||c.lastChild===null?c:a.lastDescendantOf(c.lastChild):null},a.prototype.current=function(){return this.item||null},a.prototype.next=function(){if(this.item)do if((this.item instanceof m||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{while(this.item&&this.item!==this.start&&!this.item.next)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},a.prototype.previous=function(){if(this.item)do{var b=a.lastDescendantOf(this.item.previous);b?this.item=b:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},a.prototype.parent=function(){if(this.item){var a=this.item.parent;a&&a!==this.start&&a.isVisible()?this.item=a:this.item=null}return this.item||null},a.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},a.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},a}();b.TreeNavigator=n;var o=function(a){function b(b){a.call(this),this.context=b,this.input=null,this.traitsToItems={}}return __extends(b,a),b.prototype.setInput=function(a){var b=this,c={item:this.input};this.emit("clearingInput",c),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new j,this.registry&&(this.registry.dispose(),this.unbindRegistryListener()),this.registry=new k,this.unbindRegistryListener=this.registry.addListener("register",function(a){var c=b.addEmitter(a),d=b.registry.addListener("deregister",function(e){if(e.id===a.id){var f=e.getAllTraits();for(var g=0,h=f.length;g<h;g++){var i=f[g];delete b.traitsToItems[i][e.id]}c(),d()}})});var d=this.context.dataSource.getId(this.context.tree,a);return this.input=new m(d,this.registry,this.context,this.lock,a),c={item:this.input},this.emit("setInput",c),this.refresh(this.input)},b.prototype.getInput=function(){return this.input?this.input.getElement():null},b.prototype.refresh=function(a,b){typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=!0);var c=this;try{var d=this.getItem(a)}catch(e){return h.Promise.as(null)}var f={item:d,recursive:b};return this.emit("refreshing",f),d.refresh(b).then(function(){c.emit("refreshed",f)})},b.prototype.refreshAll=function(a,b){typeof b=="undefined"&&(b=!0);var c=this,d=[];return this.deferredEmit(function(){for(var e=0,f=a.length;e<f;e++)d.push(c.refresh(a[e],b))}),h.Promise.join(d)},b.prototype.expand=function(a){try{return this.getItem(a).expand()}catch(b){return h.Promise.as(!1)}},b.prototype.expandAll=function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(this.expand(a[c]));return h.Promise.join(b)},b.prototype.collapse=function(a,b){typeof b=="undefined"&&(b=!1);try{return this.getItem(a).collapse(b)}catch(c){return h.Promise.as(!1)}},b.prototype.collapseAll=function(a,b){typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=!1),a||(a=[this.input],b=!0);var c=[];for(var d=0,e=a.length;d<e;d++)c.push(this.collapse(a[d],b));return h.Promise.join(c)},b.prototype.toggleExpansion=function(a){return this.isExpanded(a)?this.collapse(a):this.expand(a)},b.prototype.toggleExpansionAll=function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(this.toggleExpansion(a[c]));return h.Promise.join(b)},b.prototype.isExpanded=function(a){try{return this.getItem(a).isExpanded()}catch(b){return!1}},b.prototype.reveal=function(a,b){typeof b=="undefined"&&(b=null);var c=this;return this.resolveUnknownParentChain(a).then(function(a){var b=h.Promise.as(null);return a.forEach(function(a){b=b.then(function(){return c.expand(a)})}),b}).then(function(){try{c.getItem(a).reveal(b)}catch(d){}})},b.prototype.resolveUnknownParentChain=function(a){var b=this;return this.context.dataSource.getParent(this.context.tree,a).then(function(a){return a?b.resolveUnknownParentChain(a).then(function(b){return b.push(a),b}):h.Promise.as([])})},b.prototype.setHighlight=function(a,b){var c=this.getHighlight();this.setTraits("highlighted",a?[a]:[]),c&&this.isElementInTree(c)&&c!==a&&this.refresh(c,!1);var d={highlight:this.getHighlight(),payload:b};this.emit("highlight",d)},b.prototype.getHighlight=function(){var a=this.getElementsWithTrait("highlighted");return a.length===0?null:a[0]},b.prototype.isHighlighted=function(a){try{return this.getItem(a).hasTrait("highlighted")}catch(b){return!1}},b.prototype.select=function(a,b){this.selectAll([a],b)},b.prototype.selectAll=function(a,b){this.addTraits("selected",a);var c={selection:this.getSelection(),payload:b};this.emit("selection",c)},b.prototype.deselect=function(a,b){this.deselectAll([a],b)},b.prototype.deselectAll=function(a,b){this.removeTraits("selected",a);var c={selection:this.getSelection(),payload:b};this.emit("selection",c)},b.prototype.setSelection=function(a,b){this.setTraits("selected",a);var c={selection:this.getSelection(),payload:b};this.emit("selection",c)},b.prototype.isSelected=function(a){try{return this.getItem(a).hasTrait("selected")}catch(b){return!1}},b.prototype.getSelection=function(){return this.getElementsWithTrait("selected")},b.prototype.selectNext=function(a,b){typeof a=="undefined"&&(a=1);var c=this.getSelection(),d=c.length>0?c[0]:this.input,e,f=this.getNavigator(d,!1);for(var g=0;g<a;g++){e=f.next();if(!e)break;d=e}this.setSelection([d],b)},b.prototype.selectPrevious=function(a,b){typeof a=="undefined"&&(a=1);var c=this.getSelection();if(c.length===0){var d=this.getNavigator(this.input),e=null,f=null;while(e=d.next())f=e;this.setSelection([f],b);return}var e=c[0],f,d=this.getNavigator(e,!1);for(var g=0;g<a;g++){f=d.previous();if(!f)break;e=f}this.setSelection([e],b)},b.prototype.selectParent=function(a){var b=this.getSelection(),c=b.length>0?b[0]:this.input,d=this.getNavigator(c,!1),e=d.parent();e&&this.setSelection([e],a)},b.prototype.setFocus=function(a,b){this.setTraits("focused",a?[a]:[]);var c={focus:this.getFocus(),payload:b};this.emit("focus",c)},b.prototype.isFocused=function(a){try{return this.getItem(a).hasTrait("focused")}catch(b){return!1}},b.prototype.getFocus=function(){var a=this.getElementsWithTrait("focused");return a.length===0?null:a[0]},b.prototype.focusNext=function(a,b){typeof a=="undefined"&&(a=1);var c=this.getFocus()||this.input,d,e=this.getNavigator(c,!1);for(var f=0;f<a;f++){d=e.next();if(!d)break;c=d}this.setFocus(c,b)},b.prototype.focusPrevious=function(a,b){typeof a=="undefined"&&(a=1);var c=this.getFocus()||this.input,d,e=this.getNavigator(c,!1);for(var f=0;f<a;f++){d=e.previous();if(!d)break;c=d}this.setFocus(c,b)},b.prototype.focusParent=function(a){var b=this.getFocus()||this.input,c=this.getNavigator(b,!1),d=c.parent();d&&this.setFocus(d,a)},b.prototype.focusFirst=function(a){var b=this.getNavigator(this.input),c=b.first();c&&this.setFocus(c,a)},b.prototype.focusLast=function(a){var b=this.getNavigator(this.input),c=b.last();c&&this.setFocus(c,a)},b.prototype.getNavigator=function(a,b){typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=!0);var c=null;try{c=this.getItem(a)}catch(d){}return new n(c,b)},b.prototype.isElementInTree=function(a){return this.registry.isRegistered(this.context.dataSource.getId(this.context.tree,a))},b.prototype.getItem=function(a){typeof a=="undefined"&&(a=null);var b;a===null?b=this.input:a instanceof l?b=a:typeof a=="string"?b=this.registry.getItem(a):b=this.registry.getItem(this.context.dataSource.getId(this.context.tree,a));if(b===null)throw new Error("No such element in the tree");return b},b.prototype.addTraits=function(a,b){var c=this.traitsToItems[a]||{},d;for(var e=0,f=b.length;e<f;e++)try{d=this.getItem(b[e]),d.addTrait(a),c[d.id]=d}catch(g){}this.traitsToItems[a]=c},b.prototype.removeTraits=function(a,b){var c=this.traitsToItems[a]||{},d,e;if(b.length===0){for(e in c)if(c.hasOwnProperty(e)){var d=c[e];d.removeTrait(a)}delete this.traitsToItems[a]}else for(var f=0,g=b.length;f<g;f++)try{d=this.getItem(b[f]),d.removeTrait(a),delete c[d.id]}catch(h){}},b.prototype.setTraits=function(a,b){if(b.length===0)this.removeTraits(a,b);else{var c={},d;for(var e=0,f=b.length;e<f;e++)try{d=this.getItem(b[e]),c[d.id]=d}catch(g){}var h=this.traitsToItems[a]||{},i=[],j;for(j in h)h.hasOwnProperty(j)&&(c.hasOwnProperty(j)?delete c[j]:i.push(h[j]));for(var e=0,f=i.length;e<f;e++)d=i[e],d.removeTrait(a),delete h[d.id];for(var j in c)c.hasOwnProperty(j)&&(d=c[j],d.addTrait(a),h[j]=d);this.traitsToItems[a]=h}},b.prototype.getElementsWithTrait=function(a){var b=[],c=this.traitsToItems[a]||{},d;for(d in c)c.hasOwnProperty(d)&&b.push(c[d].getElement());return b},b.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),a.prototype.dispose.call(this)},b}(g.EventEmitter);b.TreeModel=o});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/widgets/newtree/treeView",["require","exports","./tree","vs/base/env","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","./treeModel","vs/base/ui/scrollbar/scrollableElement"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(){function a(a){this.elements=a}return a.prototype.update=function(a){},a.prototype.getData=function(){return this.elements},a}();b.ElementsDragAndDropData=s;var t=function(){function a(){}return a.prototype.update=function(a){this.types=a.dataTransfer.types||this.types,this.files=a.dataTransfer.files||this.files},a.prototype.getData=function(){return{types:this.types,files:this.files}},a}();b.DesktopDragAndDropData=t;var u=function(){function a(a,b){this.model=a,this.id=this.model.id,this.top=b,this.height=a.getHeight()}return a}();b.ViewItem=u;var v=function(){function a(){this.heightMap=[],this.indexes={}}return a.prototype.getTotalHeight=function(){var a=this.heightMap[this.heightMap.length-1];return a?a.top+a.height:0},a.prototype.onInsertItems=function(a,b){typeof b=="undefined"&&(b=null);var c,d,e,f,g,h=0;b===null?(e=0,g=0):(e=this.indexes[b.id]+1,g=this.heightMap[e-1].top+this.heightMap[e-1].height);var i=this.heightMap.splice.bind(this.heightMap,e,0),j=[];while(c=a.next())d=new u(c,g+h),this.indexes[c.id]=e++,j.push(d),h+=d.height,this.onInsertItem(d);if(h===0)return;i.apply(this.heightMap,j);for(;e<this.heightMap.length;e++)d=this.heightMap[e],d.top+=h,this.indexes[d.id]=e,this.onRefreshItem(d)},a.prototype.onInsertItem=function(a){},a.prototype.onRemoveItems=function(a){var b,c,d=null,e,f=0;while(b=a.next())e=this.indexes[b.id],c=this.heightMap[e],f-=c.height,delete this.indexes[b.id],this.onRemoveItem(c),d===null&&(d=e);if(f===0)return;this.heightMap.splice(d,e-d+1);for(e=d;e<this.heightMap.length;e++)c=this.heightMap[e],c.top+=f,this.indexes[c.id]=e,this.onRefreshItem(c)},a.prototype.onRemoveItem=function(a){},a.prototype.onRefreshItemSet=function(a){var b=this;this.onRefreshItems(new w(a.sort(function(a,c){return b.indexes[a.id]-b.indexes[c.id]})))},a.prototype.onRefreshItems=function(a){var b,c,d,e,f=null,g=0;while(b=a.next()){e=this.indexes[b.id];for(;g!==0&&f!==null&&f<e;f++)c=this.heightMap[f],c.top+=g,this.onRefreshItem(c);c=this.heightMap[e],d=b.getHeight(),c.top+=g,g+=d-c.height,c.height=d,this.onRefreshItem(c,!0),f=e+1}if(g!==0&&f!==null)for(;f<this.heightMap.length;f++)c=this.heightMap[f],c.top+=g,this.onRefreshItem(c)},a.prototype.onRefreshItem=function(a,b){typeof b=="undefined"&&(b=!1)},a.prototype.itemsCount=function(){return this.heightMap.length},a.prototype.itemAt=function(a){return this.heightMap[this.indexAt(a)].id},a.prototype.withItemsInRange=function(a,b,c){a=this.indexAt(a),b=this.indexAt(b);for(var d=a;d<=b;d++)c(this.heightMap[d].id)},a.prototype.indexAt=function(a){var b=0,c=this.heightMap.length,d,e;while(b<c){d=Math.floor((b+c)/2),e=this.heightMap[d];if(a<e.top)c=d;else{if(!(a>=e.top+e.height))return d;if(b===d)break;b=d}}return this.heightMap.length},a.prototype.indexAfter=function(a){return Math.min(this.indexAt(a)+1,this.heightMap.length)},a.prototype.itemAtIndex=function(a){return this.heightMap[a]},a.prototype.dispose=function(){this.heightMap=null,this.indexes=null},a}();b.HeightMap=v;var w=function(){function a(a){this.items=a,this.index=-1}return a.prototype.current=function(){return this.items[this.index]||null},a.prototype.next=function(){return this.index=Math.min(this.index+1,this.items.length),this.items[this.index]},a.prototype.previous=function(){return this.index=Math.max(this.index-1,-1),this.items[this.index]},a.prototype.parent=function(){return this.index=this.items.length,this.items[this.index]},a.prototype.first=function(){return this.index=0,this.items[this.index]},a.prototype.last=function(){return this.index=this.items.length-1,this.items[this.index]},a}(),x=function(a){function b(b,c){a.call(this),this.context=b,this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-vtree",this.domNode.tabIndex=0,this.context.options.alwaysFocused&&n.addClass(this.domNode,"focused"),this.context.options.bare&&n.addClass(this.domNode,"bare"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-vtree-wrapper",this.scrollable=new r.ScrollableElement(this.wrapper,{horizontal:b.options.horizontalScrollMode||"hidden",vertical:b.options.verticalScrollMode||"auto"}),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="rows",this.fakeRow=document.createElement("div"),this.fakeRow.className="row fake",this.fakeContent=document.createElement("div"),this.fakeContent.className="content",this.fakeRow.appendChild(this.fakeContent),this.rowsContainer.appendChild(this.fakeRow);var d=n.trackFocus(this.domNode);d.addFocusListener(this.onFocus.bind(this)),d.addBlurListener(this.onBlur.bind(this)),this.viewListeners.push(function(){d.dispose()}),this.viewListeners.push(n.addListener(this.domNode,"keydown",this.onKeyDown.bind(this))),this.viewListeners.push(n.addListener(this.domNode,"keyup",this.onKeyUp.bind(this))),this.viewListeners.push(n.addListener(this.wrapper,"click",this.onClick.bind(this))),this.viewListeners.push(n.addListener(this.wrapper,"contextmenu",this.onContextMenu.bind(this))),this.viewListeners.push(n.addListener(this.wrapper,"scroll",this.onScroll.bind(this))),this.viewListeners.push(n.addListener(window,"dragover",this.onDragOver.bind(this))),this.viewListeners.push(n.addListener(window,"drop",this.onDrop.bind(this))),this.viewListeners.push(n.addListener(window,"dragend",this.onDragEnd.bind(this))),this.viewListeners.push(n.addListener(window,"dragleave",this.onDragOver.bind(this))),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollable.getDomNode()),c.appendChild(this.domNode),this.renderTop=0,this.renderHeight=0,this.onRowsChanged(),this.layout(),this.currentDropFeedbackHTMLElements=[],this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null}return __extends(b,a),b.BINDING="monaco-vtree-row",b.BUFFER=50,b.prototype.getHTMLElement=function(){return this.domNode},b.prototype.focus=function(){this.domNode.focus()},b.prototype.isFocused=function(){return document.activeElement===this.domNode},b.prototype.blur=function(){this.domNode.blur()},b.prototype.layout=function(a){this.viewTop=n.getTopLeftOffset(this.wrapper).top;var b=this.wrapper.scrollTop,c=a||n.getContentHeight(this.wrapper);this.scrollable.onElementDimensions(),this.render(b,c)},b.prototype.render=function(a,b){var c=a+b,d=this.renderTop+this.renderHeight,e,f;for(e=this.indexAt(a),f=Math.min(this.indexAt(this.renderTop),this.indexAfter(c));e<f;e++)this.insertItemInDOM(this.itemAtIndex(e));for(e=this.indexAt(Math.max(d,a)),f=this.indexAfter(c);e<f;e++)this.insertItemInDOM(this.itemAtIndex(e));for(e=this.indexAt(this.renderTop),f=Math.min(this.indexAt(a),this.indexAfter(d));e<f;e++)this.removeItemFromDOM(this.itemAtIndex(e));for(e=Math.max(this.indexAfter(c),this.indexAt(this.renderTop)),f=this.indexAfter(d);e<f;e++)this.removeItemFromDOM(this.itemAtIndex(e));this.renderTop=a,this.renderHeight=b},b.prototype.setModel=function(a){this.releaseModel(),this.model=a,this.modelListeners.push(this.model.addBulkListener(this.onModelEvents.bind(this)))},b.prototype.onModelEvents=function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=a[c],f=e.getData();switch(e.getType()){case"clearingInput":this.onClearingInput(f);break;case"setInput":this.onSetInput(f);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(f);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(f);break;case"item:refresh":b.push(f.item);break;case"item:expanding":this.onItemExpanding(f);break;case"item:expanded":this.onItemExpanded(f);break;case"item:collapsing":this.onItemCollapsing(f);break;case"item:reveal":this.onItemReveal(f);break;case"item:addTrait":this.onItemAddTrait(f);break;case"item:removeTrait":this.onItemRemoveTrait(f)}}b.length>0&&this.onItemsRefresh(b)},b.prototype.onRowsChanged=function(){this.rowsContainer.style.height=this.getTotalHeight()+"px",this.scrollable.onElementInternalDimensions()},b.prototype.withFakeRow=function(a){return a(this.fakeContent)},b.prototype.focusNextPage=function(a){var b=this,c=this.indexAt(this.renderTop+this.renderHeight);c=c===0?0:c-1;var d=this.itemAtIndex(c).model.getElement(),e=this.model.getFocus();if(e!==d)this.model.setFocus(d,a);else{var f=this.wrapper.scrollTop;this.wrapper.scrollTop+=this.renderHeight,this.wrapper.scrollTop!==f&&setTimeout(function(){b.focusNextPage(a)},0)}},b.prototype.focusPreviousPage=function(a){var b=this,c;this.wrapper.scrollTop===0?c=this.indexAt(this.renderTop):c=this.indexAfter(this.renderTop-1);var d=this.itemAtIndex(c).model.getElement(),e=this.model.getFocus();if(e!==d)this.model.setFocus(d,a);else{var f=this.wrapper.scrollTop;this.wrapper.scrollTop-=this.renderHeight,this.wrapper.scrollTop!==f&&setTimeout(function(){b.focusPreviousPage(a)},0)}},b.prototype.onClearingInput=function(a){var b=a.item;b&&(this.onRemoveItems(b.getNavigator()),this.onRowsChanged())},b.prototype.onSetInput=function(a){this.inputItem=new u(a.item,0)},b.prototype.onItemChildrenRefreshing=function(a){var b=a.item,c=this.items[b.id];c&&n.addClass(c.row,"refreshing"),a.isNested||(this.onRemoveItems(b.getNavigator()),this.onRowsChanged())},b.prototype.onItemChildrenRefreshed=function(a){var b=a.item,c=this.items[b.id];c&&n.removeClass(c.row,"refreshing"),a.isNested||(this.onInsertItems(b.getNavigator(),b.getLevel()===0?null:b),this.onRowsChanged())},b.prototype.onItemsRefresh=function(a){var b=this;a=a.filter(function(a){return b.items.hasOwnProperty(a.id)}),this.onRefreshItemSet(a),this.onRowsChanged()},b.prototype.onItemExpanding=function(a){var b=this.items[a.item.id];b&&b.row&&n.addClass(b.row,"expanded")},b.prototype.onItemExpanded=function(a){var b=a.item,c=this.items[b.id];c&&c.row&&(n.addClass(c.row,"expanded"),this.onInsertItems(b.getNavigator(),b),this.onRowsChanged())},b.prototype.onItemCollapsing=function(a){var b=a.item,c=this.items[b.id];c&&c.row&&(n.removeClass(c.row,"expanded"),this.onRemoveItems(b.getNavigator()),this.onRowsChanged())},b.prototype.onItemReveal=function(a){var b=a.item,c=a.relativeTop,d=this.items[b.id];if(d&&d.row)if(c!==null){c=c<0?0:c,c=c>1?1:c;var e=d.height-this.renderHeight;this.wrapper.scrollTop=e*c+d.top}else{var f=d.top+d.height,g=this.wrapper.scrollTop+this.renderHeight;d.top<this.wrapper.scrollTop?this.wrapper.scrollTop=d.top:f>=g&&(this.wrapper.scrollTop=f-this.renderHeight)}},b.prototype.onItemAddTrait=function(a){var b=a.item,c=a.trait,d=this.items[b.id];d&&d.row&&n.addClass(d.row,c),c==="highlighted"&&(n.addClass(this.domNode,c),this.highlightedItemWasDraggable=!!d.row.draggable,d.row.draggable&&(d.row.draggable=!1))},b.prototype.onItemRemoveTrait=function(a){var b=a.item,c=a.trait,d=this.items[b.id];d&&d.row&&n.removeClass(d.row,c),c==="highlighted"&&(n.removeClass(this.domNode,c),this.highlightedItemWasDraggable&&(d.row.draggable=!0),delete this.highlightedItemWasDraggable)},b.prototype.onInsertItem=function(a){a.needsRender=!0,this.refreshViewItem(a),this.items[a.id]=a},b.prototype.onRefreshItem=function(a,b){typeof b=="undefined"&&(b=!1),a.needsRender=a.needsRender||b,this.refreshViewItem(a)},b.prototype.onRemoveItem=function(a){this.removeItemFromDOM(a),a.renderCleanupFn&&(a.renderCleanupFn(this.context.tree,a.model.getElement()),delete a.renderCleanupFn),delete a.row,delete a.content,delete a.model,delete this.items[a.id]},b.prototype.refreshViewItem=function(a){if(!a.row){a.row=document.createElement("div"),a.row.className="row",a.row[b.BINDING]=a,a.content=document.createElement("div"),a.content.className="content",a.row.appendChild(a.content);var c=a.model.getAllTraits();for(var d=0,e=c.length;d<e;d++)n.addClass(a.row,c[d])}a.row.style.height=a.height+"px",a.row.style.top=a.top+"px",a.row.style.paddingLeft=this.context.options.twistiePixels+(a.model.getLevel()-1)*this.context.options.indentPixels+"px",n.toggleClass(a.row,"has-children",a.model.hasChildren()),n.toggleClass(a.row,"expanded",a.model.isExpanded());var f=this.context.dnd.getDragURI(this.context.tree,a.model.getElement());f!==a.uri&&(a.unbindDragStart&&(a.unbindDragStart(),delete a.unbindDragStart),f?(a.uri=f,a.row.draggable=!0,a.unbindDragStart=n.addListener(a.row,"dragstart",this.onDragStart.bind(this,a))):delete a.uri),this.isVisible(a)?this.insertItemInDOM(a):this.removeItemFromDOM(a)},b.prototype.onClick=function(a){var b=new o.MouseEvent(a),c=this.getItemAround(b.target);this.context.controller.onClick(this.context.tree,c.model.getElement(),b)},b.prototype.onContextMenu=function(a){var b=new o.MouseEvent(a),c=this.getItemAround(b.target);this.context.controller.onContextMenu(this.context.tree,c.model.getElement(),b)},b.prototype.onScroll=function(a){this.render(this.wrapper.scrollTop,this.renderHeight)},b.prototype.onKeyDown=function(a){var b=new p.KeyboardEvent(a);if(b.target&&b.target.tagName&&b.target.tagName.toLowerCase()==="input")return;this.context.controller.onKeyDown(this.context.tree,b)},b.prototype.onKeyUp=function(a){this.context.controller.onKeyUp(this.context.tree,new p.KeyboardEvent(a))},b.prototype.onDragStart=function(a,b){this.model.setHighlight(),l.browser.isIE?b.effectAllowed="copyMove":(b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setData("text/uri-list",a.uri),b.dataTransfer.setDragImage(a.row,b.offsetX||6,b.offsetY||6)),this.currentDragAndDropData=new s([a.model.getElement()])},b.prototype.setupDragAndDropScrollInterval=function(){var a=this;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(a.dragAndDropMouseY===undefined)return;var b=a.dragAndDropMouseY-a.viewTop,c=0,d=a.renderHeight-35;b<35?c=Math.max(-14,.2*(b-35)):b>d&&(c=Math.min(14,.2*(b-d))),a.wrapper.scrollTop+=c},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){a.cancelDragAndDropScrollInterval(),a.dragAndDropScrollTimeout=null},1e3))},b.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},b.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},b.prototype.onDragOver=function(a){var b=this,c=new o.DragMouseEvent(a),d=this.getItemAround(c.target);if(!d){if(this.currentDropHTMLElement){var e;while(e=this.currentDropFeedbackHTMLElements.pop())n.removeClass(e,"drop-target");this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)}return this.cancelDragAndDropScrollInterval(),delete this.currentDropHTMLElement,delete this.currentDropElement,delete this.dragAndDropMouseY,!1}this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=c.posy;if(!this.currentDragAndDropData){if(!c.dataTransfer.types)return!1;this.currentDragAndDropData=new t}this.currentDragAndDropData.update(c);var f=d.model,e,g,h=!1;do{e=f?f.getElement():this.model.getInput(),g=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,e,c);if(g!==k.DragOverReaction.BUBBLE_UP)break;h=!0,f=f&&f.parent}while(f);if(!f)return delete this.currentDropElement,!1;var i=g===k.DragOverReaction.ACCEPT;i?(this.currentDropElement=f.getElement(),c.preventDefault(),c.dataTransfer.dropEffect=c.ctrlKey?"copy":"move"):delete this.currentDropElement;var j=f.id===this.inputItem.id?this.wrapper:this.items[f.id].row;if(this.currentDropHTMLElement!==j||this.currentDropElementDidBubbleUp!==h){if(this.currentDropHTMLElement){var e;while(e=this.currentDropFeedbackHTMLElements.pop())n.removeClass(e,"drop-target");this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)}this.currentDropHTMLElement=j,this.currentDropElementDidBubbleUp=h;if(i){n.addClass(this.currentDropHTMLElement,"drop-target"),this.currentDropFeedbackHTMLElements.push(this.currentDropHTMLElement);if(h){var l=f.getNavigator(),p;while(p=l.next()){var d=this.items[p.id];d&&d.row&&(n.addClass(d.row,"drop-target"),this.currentDropFeedbackHTMLElements.push(d.row))}}this.currentDropPromise=m.Promise.timeout(500).then(function(){b.context.tree.expand(b.currentDropElement)})}}return!0},b.prototype.onDrop=function(a){if(this.currentDropElement){var b=new o.DragMouseEvent(a);b.preventDefault(),this.currentDragAndDropData.update(b),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,b),this.onDragEnd()}this.cancelDragAndDropScrollInterval()},b.prototype.onDragEnd=function(){if(this.currentDropHTMLElement){var a;while(a=this.currentDropFeedbackHTMLElements.pop())n.removeClass(a,"drop-target")}this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),delete this.currentDragAndDropData,delete this.currentDropElement,delete this.currentDropHTMLElement,delete this.dragAndDropMouseY},b.prototype.onFocus=function(){this.context.options.alwaysFocused||n.addClass(this.domNode,"focused")},b.prototype.onBlur=function(){this.context.options.alwaysFocused||n.removeClass(this.domNode,"focused")},b.prototype.insertItemInDOM=function(a){a.needsRender&&(a.renderCleanupFn=this.context.renderer.render(this.context.tree,a.model.getElement(),a.content,a.renderCleanupFn),a.needsRender=!1),this.isInDOM(a)||this.rowsContainer.appendChild(a.row)},b.prototype.removeItemFromDOM=function(a){this.isInDOM(a)&&this.rowsContainer.removeChild(a.row)},b.prototype.isVisible=function(a){return a.top<this.renderTop+this.renderHeight&&a.top+a.height>this.renderTop},b.prototype.isInDOM=function(a){return!!a.row&&!!a.row.parentElement},b.prototype.getItemAround=function(a){var c=this.inputItem;do{a[b.BINDING]&&(c=a[b.BINDING]);if(a===this.wrapper)return c;if(a===document.body)return null}while(a=a.parentElement)},b.prototype.releaseModel=function(){if(this.model){while(this.modelListeners.length)this.modelListeners.pop()();delete this.model}},b.prototype.dispose=function(){this.releaseModel(),delete this.modelListeners;while(this.viewListeners.length)this.viewListeners.pop()();delete this.viewListeners,this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),delete this.domNode,a.prototype.dispose.call(this)},b}(v);b.TreeView=x}),define("vs/css!vs/base/ui/widgets/newtree/tree",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/newtree/treeDefaults",["require","exports","./tree","vs/base/lib/winjs.base","vs/base/env"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(){}return a.prototype.getHeight=function(a,b){return 20},a.prototype.render=function(a,b,c){return c.innerHTML=""+b,null},a}();b.DefaultRenderer=i;var j=function(){function a(){this.downKeyBindings={Space:this.onSpace.bind(this),UpArrow:this.onUp.bind(this),PageUp:this.onPageUp.bind(this),DownArrow:this.onDown.bind(this),PageDown:this.onPageDown.bind(this),LeftArrow:this.onLeft.bind(this),RightArrow:this.onRight.bind(this),Escape:this.onEscape.bind(this)},this.upKeyBindings={Enter:this.onEnter.bind(this)}}return a.prototype.onClick=function(a,b,c){var d=h.browser.isMacintosh,e=d?c.metaKey:c.ctrlKey;return c.middleButton||e?!1:c.target&&c.target.tagName&&c.target.tagName.toLowerCase()==="input"?!1:this.onLeftClick(a,b,c)},a.prototype.onLeftClick=function(a,b,c){c.preventDefault(),c.stopPropagation();var d={origin:"mouse"};return a.getInput()===b?(a.clearFocus(d),a.clearSelection(d)):(a.setSelection([b],d),a.setFocus(b,d),a.isExpanded(b)?a.collapse(b):a.expand(b)),!0},a.prototype.onContextMenu=function(a,b,c){return!1},a.prototype.onKeyDown=function(a,b){return this.onKey(this.downKeyBindings,a,b)},a.prototype.onKeyUp=function(a,b){return this.onKey(this.upKeyBindings,a,b)},a.prototype.onKey=function(a,b,c){var d=a[c.asString()];return d&&d(b,c)?(c.preventDefault(),c.stopPropagation(),!0):!1},a.prototype.onUp=function(a,b){var c={origin:"keyboard"};return a.getHighlight()?a.clearHighlight(c):(a.focusPrevious(1,c),a.reveal(a.getFocus())),!0},a.prototype.onPageUp=function(a,b){var c={origin:"keyboard"};return a.getHighlight()?a.clearHighlight(c):(a.focusPreviousPage(c),a.reveal(a.getFocus())),!0},a.prototype.onDown=function(a,b){var c={origin:"keyboard"};return a.getHighlight()?a.clearHighlight(c):(a.focusNext(1,c),a.reveal(a.getFocus())),!0},a.prototype.onPageDown=function(a,b){var c={origin:"keyboard"};return a.getHighlight()?a.clearHighlight(c):(a.focusNextPage(c),a.reveal(a.getFocus())),!0},a.prototype.onLeft=function(a,b){var c={origin:"keyboard"};if(a.getHighlight())a.clearHighlight(c);else{var d=a.getFocus();a.collapse(d).done(function(b){d&&!b&&a.focusParent(c)})}return!0},a.prototype.onRight=function(a,b){var c={origin:"keyboard"};if(a.getHighlight())a.clearHighlight(c);else{var d=a.getFocus();a.expand(d).done()}return!0},a.prototype.onEnter=function(a,b){var c={origin:"keyboard"};if(a.getHighlight())return!1;var d=a.getFocus();return d&&a.setSelection([d],c),!0},a.prototype.onSpace=function(a,b){if(a.getHighlight())return!1;var c=a.getFocus();return c&&a.toggleExpansion(c),!0},a.prototype.onEscape=function(a,b){var c={origin:"keyboard"};return a.getHighlight()?(a.clearHighlight(c),!0):a.getFocus()||a.getSelection().length?(a.clearFocus(c),a.clearSelection(c),!0):!1},a}();b.DefaultController=j;var k=function(){function a(){}return a.prototype.getDragURI=function(a,b){return null},a.prototype.onDragOver=function(a,b,c,d){return null},a.prototype.drop=function(a,b,c,d){return g.Promise.as(null)},a}();b.DefaultDragAndDrop=k;var l=function(){function a(){}return a.prototype.isVisible=function(a,b){return!0},a}();b.DefaultFilter=l;var m=function(){function a(){}return a.prototype.compare=function(a,b,c){return 0},a}();b.DefaultSorter=m});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/widgets/newtree/treeImpl",["require","exports","./tree","vs/base/ui/widgets/newtree/treeDefaults","vs/base/eventEmitter","./treeModel","./treeView","vs/css!./tree"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(a,b,c){typeof c=="undefined"&&(c={}),this.tree=a,this.configuration=b,this.options=c;if(!b.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=b.dataSource,this.renderer=b.renderer||new i.DefaultRenderer,this.controller=b.controller||new i.DefaultController,this.dnd=b.dnd||new i.DefaultDragAndDrop,this.filter=b.filter||new i.DefaultFilter,this.sorter=b.sorter||null}return a}();b.TreeContext=m;var n=function(a){function b(b,c,d){typeof d=="undefined"&&(d={}),a.call(this),this.container=b,this.configuration=c,this.options=d,this.options.twistiePixels=typeof this.options.twistiePixels=="number"?this.options.twistiePixels:20,this.options.indentPixels=typeof this.options.indentPixels=="number"?this.options.indentPixels:10,this.options.alwaysFocused=this.options.alwaysFocused===!0?!0:!1,this.options.bare=this.options.bare===!0?!0:!1,this.context=new m(this,c,d),this.model=new k.TreeModel(this.context),this.view=new l.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter(this.model)}return __extends(b,a),b.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},b.prototype.layout=function(a){this.view.layout(a)},b.prototype.DOMFocus=function(){this.view.focus()},b.prototype.isDOMFocused=function(){return this.view.isFocused()},b.prototype.DOMBlur=function(){this.view.blur()},b.prototype.setInput=function(a){return this.model.setInput(a)},b.prototype.getInput=function(){return this.model.getInput()},b.prototype.refresh=function(a,b){return typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=!0),this.model.refresh(a,b)},b.prototype.refreshAll=function(a,b){return typeof b=="undefined"&&(b=!0),this.model.refreshAll(a,b)},b.prototype.expand=function(a){return this.model.expand(a)},b.prototype.expandAll=function(a){return this.model.expandAll(a)},b.prototype.collapse=function(a,b){return typeof b=="undefined"&&(b=!1),this.model.collapse(a)},b.prototype.collapseAll=function(a,b){return typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=!1),this.model.collapseAll(a,b)},b.prototype.toggleExpansion=function(a){return this.model.toggleExpansion(a)},b.prototype.toggleExpansionAll=function(a){return this.model.toggleExpansionAll(a)},b.prototype.isExpanded=function(a){return this.model.isExpanded(a)},b.prototype.reveal=function(a,b){return typeof b=="undefined"&&(b=null),this.model.reveal(a,b)},b.prototype.setHighlight=function(a,b){this.model.setHighlight(a,b)},b.prototype.getHighlight=function(){return this.model.getHighlight()},b.prototype.isHighlighted=function(a){return this.model.isFocused(a)},b.prototype.clearHighlight=function(a){this.model.setHighlight(null,a)},b.prototype.select=function(a,b){this.model.select(a,b)},b.prototype.selectAll=function(a,b){this.model.selectAll(a,b)},b.prototype.deselect=function(a,b){this.model.deselect(a,b)},b.prototype.deselectAll=function(a,b){this.model.deselectAll(a,b)},b.prototype.setSelection=function(a,b){this.model.setSelection(a,b)},b.prototype.isSelected=function(a){return this.model.isSelected(a)},b.prototype.getSelection=function(){return this.model.getSelection()},b.prototype.clearSelection=function(a){this.model.setSelection([],a)},b.prototype.selectNext=function(a,b){this.model.selectNext(a,b)},b.prototype.selectPrevious=function(a,b){this.model.selectPrevious(a,b)},b.prototype.selectParent=function(a){this.model.selectParent(a)},b.prototype.setFocus=function(a,b){this.model.setFocus(a,b)},b.prototype.isFocused=function(a){return this.model.isFocused(a)},b.prototype.getFocus=function(){return this.model.getFocus()},b.prototype.focusNext=function(a,b){this.model.focusNext(a,b)},b.prototype.focusPrevious=function(a,b){this.model.focusPrevious(a,b)},b.prototype.focusParent=function(a){this.model.focusParent(a)},b.prototype.focusFirst=function(a){this.model.focusFirst(a)},b.prototype.focusLast=function(a){this.model.focusLast(a)},b.prototype.focusNextPage=function(a){this.view.focusNextPage(a)},b.prototype.focusPreviousPage=function(a){this.view.focusPreviousPage(a)},b.prototype.clearFocus=function(a){this.model.setFocus(null,a)},b.prototype.withFakeRow=function(a){return this.view.withFakeRow(a)},b.prototype.dispose=function(){this.model!==null&&(this.model.dispose(),this.model=null),this.view!==null&&(this.view.dispose(),this.view=null),a.prototype.dispose.call(this)},b}(j.EventEmitter);b.Tree=n}),define("vs/css!vs/base/ui/widgets/highlightedlabel",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/highlightedLabel",["require","exports","vs/base/dom/builder","vs/css!./highlightedlabel"],function(a,b,c){var d=c,e=d.$,f=function(){function a(a,b,c){typeof b=="undefined"&&(b=""),typeof c=="undefined"&&(c=[]),this.builder=e("span.monaco-highlighted-label").appendTo(a),this.text=b,this.highlights=c}return a.prototype.destroy=function(){this.builder!==null&&(this.builder.destroy(),this.builder=null),this.text=null,this.highlights=null},a.prototype.getHTMLElement=function(){return this.builder.getHTMLElement()},a.prototype.setValue=function(a,b){this.text=a||"",this.highlights=b||[],this.render()},a.prototype.render=function(){this.builder.empty();var a,b=0;for(var c=0;c<this.highlights.length;c++)a=this.highlights[c],b<a.start&&(this.builder.append(e("span",{innerHtml:this.text.substring(b,a.start)})),b=a.end),this.builder.append(e("span",{innerHtml:this.text.substring(a.start,a.end),"class":"highlight"})),b=a.end;b<this.text.length&&this.builder.append(e("span",{innerHtml:this.text.substring(b)}))},a}();b.HighlightedLabel=f}),define("vs/css!vs/editor/contrib/suggest/suggest",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/suggest/suggestWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/base/errors","vs/base/dom/builder","vs/base/ui/widgets/newtree/preRenderer","vs/base/ui/widgets/newtree/tree","vs/base/ui/widgets/newtree/treeImpl","vs/base/ui/widgets/newtree/treeDefaults","vs/base/ui/widgets/highlightedLabel","vs/editor/core/constants","vs/editor/editor","vs/css!./suggest"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function E(a,b){var c=0;while(c<b.length&&c<a.length&&b[c]===a[c])c++;return c}var n=c,o=d,p=e,q=f,r=g,s=h,t=i,u=j,v=k,w=l,x=m,y=q.$,z=function(){function a(a,b){this.parent=a,this.message=b}return a}();b.Message=z;var A=function(){function a(a){this.child=new z(this,a)}return a}();b.MessageRoot=A;var B=function(){function a(){this.root=null}return a.prototype.isRoot=function(a){return a instanceof A?!0:a instanceof z?!1:a.suggestions?(this.root=a,!0):!1},a.prototype.getId=function(a,b){return b instanceof A?"messageroot":b instanceof z?"message"+b.message:b.suggestions?"root":b.type+":"+b.label+":"+b.description},a.prototype.getParent=function(a,b){return b instanceof A?o.Promise.as(null):b instanceof z?o.Promise.as(b.parent):o.Promise.as(this.isRoot(b)?null:this.root)},a.prototype.getChildren=function(a,b){return b instanceof A?o.Promise.as([b.child]):b instanceof z?o.Promise.as([]):o.Promise.as(this.isRoot(b)?this.root.suggestions:[])},a.prototype.hasChildren=function(a,b){return this.isRoot(b)},a}(),C=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.onLeftClick=function(a,b,c){return c.preventDefault(),c.stopPropagation(),b instanceof z||a.setSelection([b],{origin:"mouse"}),!0},b}(u.DefaultController),D=function(a){function b(b,c){a.call(this,b),this.editor=c}return __extends(b,a),b.prototype.getHeight=function(b,c){var d=c;return c instanceof z||!b.isFocused(d)||!d.descriptionLabel&&!d.documentationLabel?19:a.prototype.getHeight.call(this,b,c)},b.prototype.render=function(a,b,c){return this.renderContents(a,b,c)},b.prototype.renderContents=function(a,b,c){var d=q.withElement(c);if(b instanceof z)return d.empty().span({style:{opacity:.7},innerHtml:b.message}),null;var e=b,f=d.getBinding(),g=d.clone();return f||(g.addClass(e.type),f={},f.main=y(".main").appendTo(g),f.highlightedLabel=new v.HighlightedLabel(f.main),f.typeLabel=y("span.type-label").appendTo(f.main),f.description=y(".description").appendTo(g),f.descriptionLabel=y("span.description-label").appendTo(f.description),f.documentation=y(".docs").appendTo(g),f.documentationLabel=y("span.docs-label").appendTo(f.documentation),d.bind(f)),f.highlightedLabel.setValue(e.label,e.highlights),f.typeLabel.safeInnerHtml(e.typeLabel||""),f.descriptionLabel.safeInnerHtml(e.descriptionLabel||""),f.documentationLabel.safeInnerHtml(e.documentationLabel||""),function(){f.highlightedLabel.destroy()}},b}(r.PreRenderer),F=function(){function a(b,c){var d=this;this.editor=b,this.telemetryService=c,this.isActive=!1,this.isLoading=!1,this.modelListenersToRemove=[],this.model=null;var e=function(){var a=d.editor.getModel();a&&a.getMode().suggestSupport?d.shouldShowEmptySuggestionList=a.getMode().suggestSupport.shouldShowEmptySuggestionList():d.shouldShowEmptySuggestionList=!1};e(),this.listenersToRemove=[],this.listenersToRemove.push(b.addListener(w.EventType.ModelChanged,e)),this.listenersToRemove.push(b.addListener(w.EventType.ModelModeChanged,e)),this.builder=y(".editor-widget.suggest-widget.monaco-editor-background").style({width:a.WIDTH+"px",height:a.HEIGHT+"px"}),this.editor.getConfiguration().iconsInSuggestions||this.builder.addClass("no-icons");var f=new B;this.renderer=new D(f,this.editor),this.tree=new t.Tree(this.builder.getHTMLElement(),{dataSource:f,renderer:this.renderer,controller:new C},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible"}),this.listenersToRemove.push(b.addListener("blur",function(){o.Promise.timeout(150).done(function(){d.tree&&!d.tree.isDOMFocused()&&d.hide()})})),this.listenersToRemove.push(this.tree.addListener("selection",function(a){if(a.selection&&a.selection.length>0){var b=a.selection[0];b instanceof z||(d.model.accept(b),d.editor.focus())}}));var g=null;this.listenersToRemove.push(this.tree.addListener("focus",function(a){var b=a.focus,c=a.payload;if(b===g)return;var e=[];g&&e.push(g),b&&e.push(b),g=b,d.tree.refreshAll(e).done(function(){b&&d.tree.reveal(b,c&&c.firstSuggestion?0:null)},p.onPromiseError)})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(w.EventType.CursorSelectionChanged,function(a){d.isActive&&d.editor.layoutContentWidget(d)})),this.hide()}return a.ID="editor.widget.suggestWidget",a.WIDTH=440,a.HEIGHT=240,a.LOADING_MESSAGE=new A(n.localize("vs_editor_contrib_suggest_suggestWidget",0)),a.NO_SUGGESTIONS_MESSAGE=new A(n.localize("vs_editor_contrib_suggest_suggestWidget",1)),a.prototype.setModel=function(b){var c=this;this.releaseModel(),this.model=b,this.modelListenersToRemove.push(this.model.addListener("loading",function(b){!b.auto&&!c.isActive&&(c.builder.removeClass("empty"),c.isLoading=!0,c.tree.setInput(a.LOADING_MESSAGE).done(null,p.onPromiseError),c.show())})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(a){c.isLoading=!1;if(!a.auto){c.builder.removeClass("empty"),c.tree.setInput(a.suggestions).done(null,p.onPromiseError);var b=a.suggestions.currentWord.toLowerCase(),d=a.suggestions.suggestions,e,f=null,g=-1;c.telemetryService.publicLog("suggestWidgetShown",{count:d.length});for(var h=0,i=d.length;h<i;h++){e=d[h];var j=E(e.label.toLowerCase(),b);j>g&&(g=j,f=e)}c.tree.setFocus(f||a.suggestions.suggestions[0],{firstSuggestion:!0})}})),this.modelListenersToRemove.push(this.model.addListener("empty",function(b){c.isLoading=!1,b.auto||(c.tree.getInput()===a.LOADING_MESSAGE?c.shouldShowEmptySuggestionList?c.tree.setInput(a.NO_SUGGESTIONS_MESSAGE).done(null,p.onPromiseError):c.hide():c.builder.addClass("empty"))})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(a){c.isLoading=!1,c.hide()}))},a.prototype.selectNextPage=function(){return this.isLoading?!0:this.isActive?(this.tree.focusNextPage(),!0):!1},a.prototype.selectNext=function(){return this.isLoading?!0:this.isActive?(this.tree.focusNext(1),!0):!1},a.prototype.selectPreviousPage=function(){return this.isLoading?!0:this.isActive?(this.tree.focusPreviousPage(),!0):!1},a.prototype.selectPrevious=function(){return this.isLoading?!0:this.isActive?(this.tree.focusPrevious(1),!0):!1},a.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!0;if(this.isActive){var a=this.tree.getFocus();if(a){this.tree.setSelection([a]);var b=this.tree.getInput().suggestions.indexOf(a),c=this.tree.getInput().suggestions.length;this.telemetryService.publicLog("suggestWidgetItemAccepted",{index:b,count:c})}else this.model.cancel();return!0}return!1},a.prototype.releaseModel=function(){var a;while(a=this.modelListenersToRemove.pop())a();this.model=null},a.prototype.show=function(){this.isActive=!0,this.builder.style("visibility","visible"),this.tree.layout(),this.editor.layoutContentWidget(this)},a.prototype.hide=function(){this.isActive=!1,this.builder.style("visibility","hidden")},a.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[x.ContentWidgetPositionPreference.BELOW,x.ContentWidgetPositionPreference.ABOVE]}:null},a.prototype.getDomNode=function(){return this.builder.getHTMLElement()},a.prototype.getId=function(){return a.ID},a.prototype.destroy=function(){this.releaseModel(),this.builder.destroy(),this.tree.dispose(),this.tree=null,this.renderer&&(this.renderer.dispose(),this.renderer=null),this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=null},a}();b.SuggestWidget=F}),define("vs/css!vs/editor/contrib/suggest/quickSuggest",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/suggest/quickSuggestWidget",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/editor/editor","vs/css!./quickSuggest"],function(a,b,c,d,e,f){function k(a,b){if("snippet"===b.type)return!1;var c=b.highlights;if(c.length!==1||c[0].start>0)return!1;var d=b.label;return d.length===a.length?!1:!0}var g=c,h=d,i=e,j=f;b.QUICK_SUGGEST_WIDGET_ID="editor.widget.quickSuggestWidget";var l=function(){function a(a,c){var d=this;this.editor=a,this.handlerService=c,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.currentSuggestion=null,this.currentSuggestionIndex=-1,this.suggestions=null,this.currentWord=null,this.builder=g.Build.offDOM().div({"class":"editor-widget quick-suggest-widget"}),this.bindings=this.handlerService.bindGroup(function(a){var b=function(){if(d.currentSuggestion)return d.model.accept(d.currentSuggestion)},c=function(){return d.suggestions.length===1?b():d.currentSuggestion?(d.next(),!0):!1},e=function(){return d.currentSuggestion?(d.previous(),!0):!1},f=function(){return d.model.cancel()};a({key:"Tab"},c),a({shift:!0,key:"Tab"},e),a({key:"RightArrow"},b),a({key:"Escape"},f)},{id:b.QUICK_SUGGEST_WIDGET_ID}),this.bindings.deactivate(),this.listenersToRemove=[],this.listenersToRemove.push(h.addListener(this.getDomNode(),"mousedown",function(a){(new i.MouseEvent(a)).preventDefault()})),this.listenersToRemove.push(a.addListener("blur",function(){d.cancel()})),this.editor.addContentWidget(this)}return a.ID="editor.contrib.quickSuggestWidget",a.prototype.setModel=function(a){var b=this;this.releaseModel(),this.model=a,this.modelListenersToRemove.push(this.model.addListener("suggest",function(a){a.auto?(b.currentWord=a.suggestions.currentWord,b.suggestions=a.suggestions.suggestions.filter(k.bind(null,b.currentWord)),b.currentSuggestionIndex=0,b.currentSuggestion=b.suggestions[b.currentSuggestionIndex],b.onSuggestions()):b.cancel()})),this.modelListenersToRemove.push(this.model.addListener("refilter",function(a){if(a.auto){var c=b.suggestions[b.currentSuggestionIndex];b.suggestions=b.suggestions.filter(a.filter),b.currentSuggestionIndex=0;for(var d=0;d<b.suggestions.length;d++)if(b.suggestions[d]===c){b.currentSuggestionIndex=d;break}b.currentSuggestion=b.suggestions[b.currentSuggestionIndex],b.currentWord=a.currentWord,b.onSuggestions()}else b.cancel()})),this.modelListenersToRemove.push(this.model.addListener("empty",function(a){return b.cancel()})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(a){return b.cancel()}))},a.prototype.onSuggestions=function(){if(!this.suggestions.length){this.hide();return}this.render()},a.prototype.next=function(){this.currentSuggestionIndex=(this.currentSuggestionIndex+1)%this.suggestions.length,this.currentSuggestion=this.suggestions[this.currentSuggestionIndex],this.render()},a.prototype.previous=function(){this.currentSuggestionIndex=--this.currentSuggestionIndex<0?this.suggestions.length-1:this.currentSuggestionIndex,this.currentSuggestion=this.suggestions[this.currentSuggestionIndex],this.render()},a.prototype.render=function(){this.builder.innerHtml(this.currentSuggestion.label.substring(this.currentWord.length)),this.show()},a.prototype.cancel=function(){this.currentSuggestion=null,this.hide()},a.prototype.releaseModel=function(){var a;while(a=this.modelListenersToRemove.pop())a();this.model=null},a.prototype.show=function(){this.isVisible=!0,this.builder.display("block"),this.bindings.activate(),this.editor.layoutContentWidget(this)},a.prototype.hide=function(){this.isVisible=!1,this.bindings.deactivate(),this.builder.display("none"),this.editor.layoutContentWidget(this)},a.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[j.ContentWidgetPositionPreference.EXACT]}:null},a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this.builder.getHTMLElement()},a.prototype.destroy=function(){while(this.listenersToRemove.length>0)this.listenersToRemove.pop()();this.bindings.dispose(),this.releaseModel(),this.builder.destroy()},a}();b.QuickSuggestWidget=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/parameterHints/parameterHintsModel",["require","exports","vs/base/lib/winjs.base","vs/editor/core/constants","vs/base/eventEmitter"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b){var c=this;a.call(this),this.editor=b,this.listenersToRemove=[],this.active=!1,this.triggerPromise=null,this.listenersToRemove.push(this.editor.addListener(g.EventType.CursorSelectionChanged,function(a){c.active&&c.trigger()}))}return __extends(b,a),b.prototype.cancel=function(a){typeof a=="undefined"&&(a=!1),this.active=!1,this.triggerPromise&&(this.triggerPromise.cancel(),this.triggerPromise=null),a||this.emit("cancel")},b.prototype.trigger=function(){var a=this;if(!this.editor.getModel().getMode().parameterHintsSupport)return;this.cancel(!0),this.triggerPromise=f.Promise.timeout(120).then(function(){a.triggerPromise=null,a.doTrigger()})},b.prototype.doTrigger=function(){var a=this,b=this.editor.getModel();if(!b||!b.getMode().parameterHintsSupport)return f.Promise.as(!1);var c=b.getMode().parameterHintsSupport;return c.getParameterHints(b.getAssociatedResource(),this.editor.getPosition()).then(function(b){if(!b)return a.cancel(),a.emit("cancel"),!1;a.active=!0;var c={hints:b};return a.emit("hint",c),!0})},b.prototype.isTriggered=function(){return this.active||!!this.triggerPromise},b.prototype.dispose=function(){this.cancel(!0),this.listenersToRemove&&(this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=null),this.emit("destroy",null),a.prototype.dispose.call(this)},b}(h.EventEmitter);b.ParameterHintsModel=i}),define("vs/css!vs/editor/contrib/parameterHints/parameterHints",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/parameterHints/parameterHintsWidget",["require","exports","vs/editor/modes/modes","vs/base/dom/builder","vs/editor/core/constants","vs/editor/editor","vs/css!./parameterHints"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k=h.$,l=function(){function a(b,c,d){var e=this;this.editor=c,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.setModel(b),this.triggerCharactersListeners=[];var f=function(){while(e.triggerCharactersListeners.length>0)e.triggerCharactersListeners.pop()();if(e.editor.getModel()){var a=e.editor.getModel().getMode();if(a.parameterHintsSupport){var b=a.parameterHintsSupport.getParameterHintsTriggerCharacters();for(var c=0;c<b.length;c++)e.triggerCharactersListeners.push(e.editor.addTypingListener(b[c],function(){return e.model.trigger()}))}}};this.modelListenersToRemove.push(this.editor.addListener(i.EventType.ModelChanged,f)),this.modelListenersToRemove.push(this.editor.addListener(i.EventType.ModelModeChanged,f)),this.$el=k(".editor-widget.parameter-hints-widget").on("click",function(){e.selectNext(),e.editor.focus()}),this.$wrapper=k(".wrapper.monaco-editor-background").appendTo(this.$el);var g=k(".buttons").appendTo(this.$wrapper),h=k(".button.previous").on("click",function(a){a.preventDefault(),a.stopPropagation(),e.selectPrevious()}).appendTo(g),j=k(".button.next").on("click",function(a){a.preventDefault(),a.stopPropagation(),e.selectNext()}).appendTo(g);this.$overloads=k(".overloads").appendTo(this.$wrapper),this.$signatures=k(".signatures").appendTo(this.$wrapper),this.signatureViews=[],this.currentSignature=0,this.bindings=d.bindGroup(function(a){a({key:"Escape"},e.cancel.bind(e)),a({key:"UpArrow"},e.selectPrevious.bind(e)),a({key:"DownArrow"},e.selectNext.bind(e))},{id:a.ID}),this.editor.addContentWidget(this),this.hide()}return a.ID="editor.widget.parameterHintsWidget",a.prototype.setModel=function(a){var b=this;this.releaseModel(),this.model=a,this.modelListenersToRemove.push(this.model.addListener("hint",function(a){b.show(),b.render(a.hints),b.currentSignature=a.hints.currentSignature,b.select(b.currentSignature)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(a){b.hide()}))},a.prototype.show=function(){this.isVisible=!0,this.$el.removeClass("hidden"),this.bindings.activate(),this.editor.layoutContentWidget(this)},a.prototype.hide=function(){this.isVisible=!1,this.bindings.deactivate(),this.$el.addClass("hidden"),this.editor.layoutContentWidget(this)},a.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[j.ContentWidgetPositionPreference.ABOVE,j.ContentWidgetPositionPreference.BELOW]}:null},a.prototype.render=function(a){a.signatures.length>1?this.$el.addClass("multiple"):this.$el.removeClass("multiple"),this.$signatures.empty(),this.signatureViews=[];var b=0,c=a.currentSignature;for(var d=0,e=a.signatures.length;d<e;d++){var f=a.signatures[d],g=this.renderSignature(this.$signatures,f,a.currentParameter,a.format);this.renderDocumentation(g,f,a.currentParameter);var h=g.getClientArea().height;this.signatureViews.push({top:b,height:h}),b+=h}},a.prototype.renderSignature=function(a,b,c,d){var e=k(".signature").appendTo(a);e.append(k("span.return-type").safeInnerHtml(b.returnType)),e.safeInnerHtml(" (",!0);for(var f=0,g=b.parameters.length;f<g;f++)this.renderParameter(e,b.parameters[f],f===c,d),f!==g-1&&e.safeInnerHtml(", ",!0);return e.safeInnerHtml(")",!0),e},a.prototype.renderParameter=function(a,b,c,d){var e=k("span.parameter");d.typeFormat===g.TypesFormat.PREFIX?(e.append(k("span.parameter-type").safeInnerHtml(b.type)),e.safeInnerHtml(d.typeSeparator||" ",!0),e.append(k("span.parameter-name").safeInnerHtml(b.name+(b.isOptional?"?":"")))):(e.append(k("span.parameter-name").safeInnerHtml(b.name+(b.isOptional?"?":""))),e.safeInnerHtml(d.typeSeparator||" ",!0),e.append(k("span.parameter-type").safeInnerHtml(b.type))),c&&e.addClass("active"),a.append(e)},a.prototype.renderDocumentation=function(a,b,c){b.documentation&&a.append(k(".documentation").safeInnerHtml(b.documentation));var d=b.parameters[c];if(d&&d.documentation){var e=k(".documentation");e.append(k("span.parameter").safeInnerHtml(d.name)),e.append(k("span").safeInnerHtml(d.documentation)),a.append(e)}},a.prototype.select=function(a){var b=this.signatureViews[a];this.$signatures.style({height:b.height+"px"}),this.$signatures.getHTMLElement().scrollTop=b.top,this.$overloads.safeInnerHtml(a+1+"/"+this.signatureViews.length)},a.prototype.selectNext=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%this.signatureViews.length,this.select(this.currentSignature),!0)},a.prototype.selectPrevious=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature--,this.currentSignature<0&&(this.currentSignature=this.signatureViews.length-1),this.select(this.currentSignature),!0)},a.prototype.cancel=function(){this.model.cancel()},a.prototype.getDomNode=function(){return this.$el.getHTMLElement()},a.prototype.getId=function(){return a.ID},a.prototype.releaseModel=function(){var a;while(a=this.modelListenersToRemove.pop())a();this.model&&(this.model.dispose(),this.model=null)},a.prototype.destroy=function(){this.releaseModel();while(this.triggerCharactersListeners.length>0)this.triggerCharactersListeners.pop()();this.$overloads&&(this.$overloads.destroy(),delete this.$overloads),this.$signatures&&(this.$signatures.destroy(),delete this.$signatures),this.$wrapper&&(this.$wrapper.destroy(),delete this.$wrapper),this.$el&&(this.$el.destroy(),delete this.$el),this.bindings&&(this.bindings.dispose(),delete this.bindings)},a}();b.ParameterHintsWidget=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/parameterHints/parameterHints",["require","exports","vs/nls!vs/editor/editor.main","./parameterHintsModel","./parameterHintsWidget","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/platform/platform","vs/platform/actionRegistry"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q=function(a){function b(b,c){a.call(this,b,c),this.model=new k.ParameterHintsModel(this.editor),this.parameterHintsWidget=null}return __extends(b,a),b.ID="editor.contrib.parameterHints.trigger",b.prototype.getModel=function(){return this.model},b.prototype.injectHandlerService=function(b){a.prototype.injectHandlerService.call(this,b),this.parameterHintsWidget||(this.parameterHintsWidget=new l.ParameterHintsWidget(this.model,this.editor,this.handlerService))},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().parameterHintsSupport},b.prototype.run=function(){return m.Promise.as(!1)},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.model&&(this.model.dispose(),this.model=null),this.parameterHintsWidget&&(this.parameterHintsWidget.destroy(),this.parameterHintsWidget=null)},b}(n.EditorAction);b.TriggerParameterHintsAction=q;var r=o.Registry.as(n.Extensions.EditorContributions);r.registerContribution(new p.ActionDescriptor(q,q.ID,j.localize("vs_editor_contrib_parameterHints_parameterHints",0)))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/suggest/suggestModel",["require","exports","vs/editor/contrib/snippet/snippet","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/range","vs/base/eventEmitter","vs/base/performance/timer","vs/editor/contrib/parameterHints/parameterHints"],function(a,b,c,d,e,f,g,h,i){var j=c,k=d,l=e,m=f,n=g,o=h,p=i,q;(function(a){a._map=[],a.NOT_ACTIVE=0,a.MANUAL_TRIGGER=1,a.AUTO_TRIGGER=2})(q||(q={}));var r=function(){function a(a,b){typeof b=="undefined"&&(b=a.getPosition());var c=a.getModel(),d=c.getLineContent(b.lineNumber);this.wordBefore="";var e=c.getWordAtPosition(b,!1);e&&(this.wordBefore=d.substring(e.startColumn-1,b.column-1)),this.lineNumber=b.lineNumber,this.column=b.column,this.lineContentBefore=d.substr(0,b.column-1),this.lineContentAfter=d.substr(b.column-1)}return a.prototype.isValidForAutoSuggest=function(){return/^\s*$/.test(this.lineContentAfter)?this.wordBefore.length===0?!1:!0:!1},a.prototype.isValidForNewContext=function(a){return this.lineNumber!==a.lineNumber?!1:a.column<this.column-this.wordBefore.length?!1:a.lineContentBefore.indexOf(this.lineContentBefore)!==0||this.lineContentAfter!==a.lineContentAfter?!1:a.wordBefore===""&&a.lineContentBefore!==this.lineContentBefore?!1:!0},a.prototype.isValidForRetrigger=function(a){return this.lineContentBefore.indexOf(a.lineContentBefore)!==0||this.lineContentAfter!==a.lineContentAfter?!1:!0},a}(),s=function(a){function b(b,c){var d=this;a.call(this),this.editor=b,this.onAccept=c,this.listenersToRemove=[],this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay;if(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&this.autoSuggestDelay!==0||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)this.autoSuggestDelay=500;this.triggerAutoSuggestPromise=null,this.state=q.NOT_ACTIVE,this.requestPromise=null,this.suggestions=null,this.requestContext=null,this.listenersToRemove.push(this.editor.addListener(l.EventType.CursorSelectionChanged,function(a){if(!a.selection.isEmpty()){d.cancel();return}if(a.source==="mouse"){d.cancel();return}d.onCursorChange()}))}return __extends(b,a),b.prototype.cancel=function(a){typeof a=="undefined"&&(a=!1);var b=this.state!==q.NOT_ACTIVE;return this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=q.NOT_ACTIVE,this.suggestions=null,this.requestContext=null,a||this.emit("cancel"),b},b.prototype.isAutoSuggest=function(){return this.state===q.AUTO_TRIGGER},b.prototype.onCursorChange=function(){var a=this;if(!this.editor.getModel().getMode().suggestSupport)return;var b=new r(this.editor);this.state===q.NOT_ACTIVE?(this.cancel(),b.isValidForAutoSuggest()&&(this.triggerAutoSuggestPromise=k.Promise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){a.triggerAutoSuggestPromise=null,a.trigger(!0)}))):this.onNewContext(b)},b.prototype.trigger=function(a){var b=this,c=this.editor.getModel(),d=c.getMode().suggestSupport;if(!d)return;var e=o.start(o.Topic.EDITOR,"suggest/TRIGGER");this.cancel(),this.state=a?q.AUTO_TRIGGER:q.MANUAL_TRIGGER,this.emit("loading",{auto:this.isAutoSuggest()}),this.requestContext=new r(this.editor);var f=o.start(o.Topic.EDITOR,"suggest/REQUEST");this.requestPromise=d.suggest(c.getAssociatedResource(),this.editor.getPosition()),this.requestPromise.then(function(a){f.stop(),b.requestPromise=null,a.suggestions&&a.suggestions.length>0?(b.suggestions=a.suggestions,b.onNewContext(new r(b.editor))):b.emit("empty"),e.stop()},function(){f.stop(),e.stop()})},b.prototype.onNewContext=function(a){if(!this.requestContext.isValidForNewContext(a)){this.requestContext.isValidForRetrigger(a)?this.trigger(this.state===q.AUTO_TRIGGER):this.cancel();return}if(this.suggestions){var b=this.editor.getModel().getMode().suggestSupport,c=this.suggestions,d=b.getFilter();d&&(c=c.filter(d.bind(null,a.wordBefore))),c=c.sort(function(a,b){return a.label.toLowerCase()<b.label.toLowerCase()?-1:1}),c.length>0?this.emit("suggest",{suggestions:{suggestions:c,currentWord:a.wordBefore},auto:this.isAutoSuggest()}):this.emit("empty")}},b.prototype.accept=function(a){if(!a&&this.suggestions===null)return!1;a=a||this.suggestions[0],this.cancel();var b=new r(this.editor),c=new m.Range(b.lineNumber,b.column-b.wordBefore.length,b.lineNumber,b.column);this.onAccept(new j.CodeSnippet(a.codeSnippet),c);var d=this.editor.getAction(p.TriggerParameterHintsAction.ID),e=d?d.getModel():null;return e&&e.doTrigger(),!0},b.prototype.destroy=function(){this.cancel(!0),this.listenersToRemove&&(this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=null),this.emit("destroy",null)},b}(n.EventEmitter);b.SuggestModel=s});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/suggest/suggest",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/contrib/snippet/snippet","vs/editor/core/constants","./suggestWidget","./suggestModel","./quickSuggestWidget","vs/base/env","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/platform/platform","vs/platform/actionRegistry","vs/platform/services"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c,p=d,q=e,r=f,s=g,t=h,u=i,v=j,w=k,x=l,y=m,z=n,A=function(a){function b(b,c){var d=this;a.call(this,b,c),this.telemetryService=null,this.model=new s.SuggestModel(this.editor,function(a,b){p.InsertSnippetHelper.run(d.editor,d.handlerService,a,b)}),this.quickSuggestWidget=null,this.suggestWidget=null,this.binding=null,this.triggerCharacterListeners=[],this.setLabel(o.localize("vs_editor_contrib_suggest_suggest",0)),this.toUnhook.push(b.addListener(q.EventType.ConfigurationChanged,function(){return d.update()})),this.toUnhook.push(b.addListener(q.EventType.ModelChanged,function(){return d.update()})),this.toUnhook.push(b.addListener(q.EventType.ModelModeChanged,function(){return d.update()}))}return __extends(b,a),b.ID="editor.actions.triggerSuggest",b.prototype.injectHandlerService=function(b){a.prototype.injectHandlerService.call(this,b),this.quickSuggestWidget||(this.quickSuggestWidget=new t.QuickSuggestWidget(this.editor,this.handlerService),this.quickSuggestWidget.setModel(this.model)),this.update()},b.prototype.injectTelemetryService=function(a){this.telemetryService=a,this.suggestWidget||(this.suggestWidget=new r.SuggestWidget(this.editor,this.telemetryService),this.suggestWidget.setModel(this.model))},b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().suggestSupport},b.prototype.update=function(){var a=this;this.triggerCharacterListeners.forEach(function(a){a()}),this.triggerCharacterListeners=[];if(this.editor.getModel()&&this.editor.getConfiguration().suggestOnTriggerCharacters){var b=this.editor.getModel().getMode();if(b.suggestSupport){var c=b.suggestSupport.getTriggerCharacters(),d=function(){var c=a.editor.getPosition(),d=a.editor.getModel().getLineContent(c.lineNumber),e=a.editor.getModel().getRawLineTokens(c.lineNumber);if(b.suggestSupport.shouldAutotriggerSuggest(d,e,c.column-1))return a.editor.addOneTimeListener("change",function(){a.run()}),!1};for(var e=0;e<c.length;e++)this.triggerCharacterListeners.push(this.editor.addTypingListener(c[e],function(){return d()}))}}},b.prototype.run=function(){var a=this;return this.binding!==null&&(this.binding.dispose(),this.binding=null),this.suggestWidget.setModel(this.model),this.binding=this.handlerService.bindGroup(function(b){b({key:"Enter"},function(){return a.accept()},{once:!0}),b({key:"Tab"},function(){return a.accept()},{once:!0}),b({key:"Escape"},function(){return a.cancel()},{once:!0}),b({key:"DownArrow"},function(){return a.next()}),b({key:"PageDown"},function(){return a.nextPage()}),b({key:"UpArrow"},function(){return a.prev()}),b({key:"PageUp"},function(){return a.prevPage()})}),this.model.trigger(!1),this.editor.focus(),v.Promise.as(!1)},b.prototype.dispose=function(){a.prototype.dispose.call(this);while(this.triggerCharacterListeners.length>0)this.triggerCharacterListeners.pop()();this.quickSuggestWidget&&(this.quickSuggestWidget.destroy(),this.quickSuggestWidget=null),this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.destroy(),this.model=null),this.binding!==null&&(this.binding.dispose(),this.binding=null)},b.prototype.accept=function(){return this.suggestWidget.acceptSelectedSuggestion()},b.prototype.cancel=function(){return this.model.cancel()},b.prototype.prevPage=function(){return this.suggestWidget.selectPreviousPage()},b.prototype.prev=function(){return this.suggestWidget.selectPrevious()},b.prototype.nextPage=function(){return this.suggestWidget.selectNextPage()},b.prototype.next=function(){return this.suggestWidget.selectNext()},b}(w.EditorAction);b.TriggerSuggestAction=A;var B=new y.ActionDescriptor(A,A.ID,o.localize("vs_editor_contrib_suggest_suggest",1),{ctrlCmd:!u.browser.isMacintosh,winCtrl:u.browser.isMacintosh,key:"Space"}),C=x.Registry.as(w.Extensions.EditorContributions);C.registerContribution(B)});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/diffNavigator/diffNavigator",["require","exports","vs/base/eventEmitter","vs/base/assert","vs/editor/core/constants","vs/editor/core/range"],function(a,b,c,d,e,f){var g=c,h=d,i=e,j=f,k={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},l=function(a){function b(b,c){typeof c=="undefined"&&(c=k);var d=this;a.call(this),this.editor=b,this.options=c,this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.addListener(i.EventType.Disposed,function(){return d.dispose()})),this.toUnbind.push(this.editor.addListener(i.EventType.DiffUpdated,function(){return d.init()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(i.EventType.CursorPositionChanged,function(a){if(d.ignoreSelectionChange)return;d.nextIdx=-1})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(i.EventType.ModelChanged,function(a){d.revealFirst=!0})),this.init()}return __extends(b,a),b.Events={UPDATED:"navigation.updated"},b.prototype.init=function(){var a=this.editor.getLineChanges();if(!a)return;this.compute(this.editor.getLineChanges()),this.revealFirst&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},b.prototype.compute=function(a){var c=this;this.ranges=[],a.forEach(function(a){!c.options.ignoreCharChanges&&a.charChanges?a.charChanges.forEach(function(a){c.ranges.push({rhs:!0,range:new j.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):c.ranges.push({rhs:!0,range:new j.Range(a.modifiedStartLineNumber,1,a.modifiedStartLineNumber,1)})}),this.ranges.sort(function(a,b){return a.range.getStartPosition().isBeforeOrEqual(b.range.getStartPosition())?-1:b.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?1:0}),this.emit(b.Events.UPDATED,{})},b.prototype.initIdx=function(a){var b=!1,c=this.editor.getPosition();for(var d=0,e=this.ranges.length;d<e&&!b;d++){var f=this.ranges[d].range;c.isBeforeOrEqual(f.getStartPosition())&&(this.nextIdx=d+(a?0:-1),b=!0)}b||(this.nextIdx=a?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},b.prototype.move=function(a){h.ok(!this.disposed,"Illegal State - diff navigator has been disposed");if(!this.canNavigate())return;this.nextIdx===-1?this.initIdx(a):a?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var b=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{this.editor.setPosition(b.range.getStartPosition(),!0,!0,!0)}finally{this.ignoreSelectionChange=!1}},b.prototype.canNavigate=function(){return this.ranges.length>0},b.prototype.next=function(){this.move(!0)},b.prototype.previous=function(){this.move(!1)},b.prototype.dispose=function(){while(this.toUnbind.length>0)this.toUnbind.pop()();this.ranges=null,this.disposed=!0,a.prototype.dispose.call(this)},b}(g.EventEmitter);b.DiffNavigator=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/smartSelect/smartSelect",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions","vs/platform/platform","vs/platform/actionRegistry"],function(a,b,c,d,e,f,g,h,i,j){var k=c,l=d,m=e,n=f,o=g,p=h,q=i,r=j,s=function(){function a(a){this.editor=a,this.next=null,this.previous=null,this.selection=a.getSelection()}return a}(),t=null,u=!1,v=function(a){function b(b,c,d){a.call(this,b,c),this.forward=d}return __extends(b,a),b.prototype.getEnablementState=function(){return a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().logicalSelectionSupport},b.prototype.run=function(a){var b=this,c=this.editor.getSelection(),d=this.editor.getModel(),e=d.getMode().logicalSelectionSupport;t&&t.editor!==this.editor&&(t=null);var f=m.Promise.as(t);return t||(f=e.getRangesToPosition(d.getAssociatedResource(),c.getStartPosition()).then(function(a){var c;a.filter(function(a){var c=b.editor.getSelection(),d=new o.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);return d.containsPosition(c.getStartPosition())&&d.containsPosition(c.getEndPosition())}).forEach(function(a){var d=a.range,e=new s(b.editor);e.selection=new o.Range(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn),c&&(e.next=c,c.previous=e),c=e});var d=new s(b.editor);d.next=c,c&&(c.previous=d),t=d}).then(function(){var a=b.editor.addListener(n.EventType.CursorPositionChanged,function(b){if(u)return;t=null,a()})})),f.then(function(){t=b.forward?t.next:t.previous;if(!t)return;u=!0;try{b.editor.setSelection(t.selection)}finally{u=!1}})},b}(p.EditorAction),w=function(a){function b(b,c){a.call(this,b,c,!0)}return __extends(b,a),b.ID="editor.action.smartSelect.grow",b}(v),x=function(a){function b(b,c){a.call(this,b,c,!1)}return __extends(b,a),b.ID="editor.action.smartSelect.shrink",b}(v),y=q.Registry.as(p.Extensions.EditorContributions);y.registerContribution(new r.ActionDescriptor(w,w.ID,k.localize("vs_editor_contrib_smartSelect_smartSelect",0),l.browser.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"RightArrow"}:{shift:!0,alt:!0,key:"RightArrow"})),y.registerContribution(new r.ActionDescriptor(x,x.ID,k.localize("vs_editor_contrib_smartSelect_smartSelect",1),l.browser.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"LeftArrow"}:{shift:!0,alt:!0,key:"LeftArrow"}))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/smartSelect/jumpToBracket",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/core/constants","vs/editor/editorExtensions","vs/platform/platform","vs/platform/actionRegistry"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b.ID="editor.action.jumpToBracket",b.prototype.run=function(){return this.editor.trigger(this.getId(),i.Handler.JumpToBracket,{}),null},b}(j.EditorAction),n=k.Registry.as(j.Extensions.EditorContributions);n.registerContribution(new l.ActionDescriptor(m,m.ID,h.localize("vs_editor_contrib_smartSelect_jumpToBracket",0),{ctrlCmd:!0,alt:!0,key:"]"}))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/color/colorPicker",["require","exports","vs/nls!vs/editor/editor.main","vs/base/ui/actions"],function(a,b,c,d){var e=c,f=d,g=function(a){function b(){a.call(this,b.ID),this.setLabel(e.localize("vs_editor_contrib_color_colorPicker",0))}return __extends(b,a),b.ID="editor.actions.colorPicker.trigger",b.prototype.run=function(a){return null},b}(f.Action);b.ColorPickerAction=g}),define("vs/css!vs/editor/contrib/referenceSearch/referenceSearch",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/referenceSearch/referenceSearch",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/services","vs/platform/platform","vs/platform/actionRegistry","vs/base/network","vs/base/errors","vs/base/eventEmitter","vs/base/dom/builder","vs/base/ui/widgets/newtree/tree","vs/base/ui/widgets/newtree/treeImpl","vs/base/ui/widgets/newtree/treeDefaults","vs/editor/core/codeEditorWidget","vs/editor/core/constants","vs/editor/editorExtensions","vs/editor/contrib/zoneWidget/zoneWidget","vs/css!./referenceSearch"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=c,t=d,u=e,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=function(a){function b(c){a.call(this),this.references=c,this.references.sort(b.compare),this.currentReference=null}return __extends(b,a),b.ON_CURRENT_REF="references.model.onCurrentReferenceChanged",b.compare=function(b,c){return b.resourceUrl===c.resourceUrl?b.range.startLineNumber-c.range.startLineNumber:b.resourceUrl.localeCompare(c.resourceUrl)},b.prototype.setCurrentReference=function(a){this.currentReference=a,this.emit(b.ON_CURRENT_REF,this)},b.prototype.findReferenceFromPosition=function(a,b){for(var c=0,d=this.references.length;c<d;c++){var e=this.references[c].range;if(this.references[c].resourceUrl===a&&e.startLineNumber<=b.lineNumber&&e.endLineNumber>=b.lineNumber&&e.startColumn<=b.column&&e.endColumn>=b.column)return c}return-1},b}(z.EventEmitter);b.Model=I;var J=function(){function a(){}return a.prototype.getId=function(a,b){if(b instanceof I)return"reference.model";var c=b;return c.resourceUrl+c.range.startLineNumber+c.range.startColumn+c.range.endLineNumber+c.range.endColumn},a.prototype.getChildren=function(a,b){var c=[];return b instanceof I&&(c=b.references),t.Promise.as(c)},a.prototype.hasChildren=function(a,b){return b instanceof I},a.prototype.getParent=function(a,b){var c=null;return b instanceof I||(c=a.getInput()),t.Promise.as(c)},a}(),K=function(){function a(){}return a.prototype.compare=function(a,b,c){var d=b,e=c;return I.compare(d,e)},a}(),L=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected"},b.prototype.onClick=function(c,d,e){var f=a.prototype.onClick.call(this,c,d,e);return c.emit(e.detail===2?b.Events.SELECTED:b.Events.FOCUSED,d),f},b.prototype.onEscape=function(a,b){return!1},b.prototype.onEnter=function(c,d){var e=a.prototype.onEnter.call(this,c,d);return c.emit(b.Events.SELECTED,c.getFocus()),e},b.prototype.onUp=function(b,c){return a.prototype.onUp.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.onPageUp=function(b,c){return a.prototype.onPageUp.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.onLeft=function(b,c){return a.prototype.onLeft.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.onDown=function(b,c){return a.prototype.onDown.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.onPageDown=function(b,c){return a.prototype.onPageDown.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.onRight=function(b,c){return a.prototype.onRight.call(this,b,c),this.fakeFocus(b,c),!0},b.prototype.fakeFocus=function(a,c){var d=a.getFocus();a.setSelection([d]),a.emit(b.Events.FOCUSED,d)},b}(D.DefaultController),M=function(){function a(a){this.lineHeightInPx=a}return a.prototype.getHeight=function(a,b){return 1.2*this.lineHeightInPx},a.prototype.render=function(a,b,c){var d=b,e=this.getHeight(a,b),f=d.resourceUrl.lastIndexOf("/"),g=(new x.URL(d.resourceUrl)).getScheme()==="inMemory"?s.localize("vs_editor_contrib_referenceSearch_referenceSearch",0):d.resourceUrl.substring(f+1),h=s.localize("vs_editor_contrib_referenceSearch_referenceSearch",1,d.range.startLineNumber);return A.Build.withElement(c).div({"class":"reference",safeInnerHtml:g,title:g+h},function(a){a.span().safeInnerHtml(h).addClass("lineNumber")}),null},a}(),N=function(a){function b(b,c,d){a.call(this,d,{frameColor:"#EFEFF2"}),this.editorService=b,this.requestService=c,this.zoneId=-1,this.toUnhook=[],this.tree=null,this.treeContainer=null,this.preview=null,this.previewContainer=null,this.previewDecorations=[],this.lastHeight=null,this.create()}return __extends(b,a),b.Events={EditorDoubleClick:"editorDoubleClick"},b.prototype.fillContainer=function(a){var b=this,c=A.withElement(a);c.addClass("reference-zone-widget"),c.div({"class":"label"},function(a){b.labelContainer=a.show()}),c.div({"class":"preview inline"},function(a){var c=b.editor.getConfiguration().lineNumbers,d=b.editor.getConfiguration().glyphMargin,e=b.editor.getConfiguration().theme;b.preview=new E.CodeEditorWidget(a.getHTMLElement(),{readOnly:!0,lineNumbers:c,glyphMargin:d,theme:e,scrollBeyondLastLine:!1,scrollbar:{useShadows:!1}},null),b.previewContainer=a.hide()}),c.div({"class":"tree inline"},function(a){var c={dataSource:new J,renderer:new M(b.editor.getConfiguration().lineHeight),sorter:new K,controller:new L},d={allowHorizontalScroll:!1,indentPixels:0};b.tree=new C.Tree(a.getHTMLElement(),c,d),b.treeContainer=a.hide()})},b.prototype.doLayout=function(a){var b=a+"px";if(b===this.lastHeight)return;this.treeContainer.style({height:b}),this.previewContainer.style({height:b}),this.tree.layout(a),this.preview.layout(),this.lastHeight=b},b.prototype.setModel=function(a){var c=this;while(this.toUnhook.length>0)this.toUnhook.pop()();this.model=a,this.model&&(this.toUnhook.push(this.tree.addListener(L.Events.FOCUSED,function(a){c.showReferencePreview(a)})),this.toUnhook.push(this.tree.addListener(L.Events.SELECTED,function(a){c.showReferencePreview(a),c.model.setCurrentReference(a)})),this.tree.setInput(this.model).then(function(){c.tree.setSelection([c.model.currentReference])}).done(null,y.onPromiseError),this.toUnhook.push(this.preview.addListener(F.EventType.MouseDown,function(a){a.event.detail===2&&c.emit(b.Events.EditorDoubleClick,{reference:c.tree.getFocus(),range:a.target.range})})))},b.prototype.focus=function(){this.tree.DOMFocus()},b.prototype.showLoading=function(a){this.labelContainer.innerHtml(s.localize("vs_editor_contrib_referenceSearch_referenceSearch",2)).show(),this.treeContainer.hide(),this.previewContainer.hide(),this.show(a,2)},b.prototype.showNoResultsMessage=function(a){this.labelContainer.innerHtml(s.localize("vs_editor_contrib_referenceSearch_referenceSearch",3)).show(),this.treeContainer.hide(),this.previewContainer.hide(),this.show(a,2)},b.prototype.showAtReference=function(a){this.labelContainer.hide(),this.treeContainer.show(),this.previewContainer.show(),this.show(a.range,18),this.focus()},b.prototype.showReferencePreview=function(a){var b=this,c={path:this.requestService.getPath("root",new x.URL(a.resourceUrl))};this.editorService.resolveEditorModel(c).done(function(c){b.preview.setModel(c.getTextEditorModel()),b.preview.setSelection(a.range,!0,!0,!0),b.preview.changeDecorations(function(c){var d=[],e={className:"reference-decoration"};for(var f=0;f<b.model.references.length;f++){var g=b.model.references[f];g.resourceUrl===a.resourceUrl&&d.push({range:g.range,options:e})}b.previewDecorations=c.deltaDecorations(b.previewDecorations,d)})},y.onPromiseError),this.tree.setSelection([a]),this.tree.setFocus(a),this.tree.reveal(a)},b.prototype.revealCurrentReference=function(){var a=this.model.currentReference.resourceUrl,b=this.model.currentReference.range;return this.editorService.openEditor({path:this.requestService.getPath("root",new x.URL(a)),options:{selection:b}})},b.prototype.dispose=function(){this.setModel(null),this.preview.destroy(),this.tree.dispose(),a.prototype.dispose.call(this)},b}(H.ZoneWidget);b.ReferenceWidget=N;var O=function(a){function b(b,c){a.call(this,b,c,G.Precondition.WidgetFocus),this.handlerService=null,this.editorService=null,this.requestIdPool=0,this.model=null,this.widget=null,this.binding=null,this.callOnClean=[],this.setLabel(s.localize("vs_editor_contrib_referenceSearch_referenceSearch",4)),this.setEnabled(!1)}return __extends(b,a),b.ID="editor.actions.referenceSearch.trigger",b.prototype.injectEditorService=function(a){this.editorService=a,this.updateEnablementState()},b.prototype.injectRequestService=function(a){this.requestService=a,this.updateEnablementState()},b.prototype.injectTelemetryService=function(a){this.telemetryService=a,this.updateEnablementState()},b.prototype.injectMessageService=function(a){this.messageService=a,this.updateEnablementState()},b.prototype.getEnablementState=function(){return!!this.handlerService&&!!this.editorService&&!!this.requestService&&!!this.messageService&&a.prototype.getEnablementState.call(this)&&!!this.editor.getModel().getMode().referenceSupport},b.prototype.run=function(){var a=this,b=this.editor.getSelection(),c=this.widget?this.widget.position:null,d=this.clear();if(d&&!!c&&b.containsPosition(c))return null;var e=++this.requestIdPool,f=this.editor.getModel(),g=this.editor.getModel().getMode().referenceSupport,h=(new Date).getTime();return g.findReferences(f.getAssociatedResource(),b.getStartPosition()).then(function(c){if(e!==a.requestIdPool)return;if(c.length===0){a.widget.showNoResultsMessage(b);return}a.model=new I(c);var d=a.model.findReferenceFromPosition(f.getAssociatedResource().toExternal(),b.getStartPosition());a.model.setCurrentReference(a.model.references[d]),a.callOnClean.push(a.model.addListener(I.ON_CURRENT_REF,function(){a.model.currentReference&&a.widget.revealCurrentReference().done(function(){window.setTimeout(function(){a.widget.showReferencePreview(a.model.currentReference),a.widget.showAtReference(a.model.currentReference)},0)},y.onPromiseError)})),a.widget.setModel(a.model),a.widget.showAtReference(a.model.currentReference),h=(new Date).getTime(),a.widget.showReferencePreview(a.model.references[(d+1)%a.model.references.length])},function(b){a.messageService.show(u.Severity.Error,b)}),this.binding=this.binding=this.handlerService.bind({key:"Escape"},function(){return a.telemetryService.log("zoneWidgetShown",{mode:"reference search",elapsedTime:(new Date).getTime()-h}),a.clear()},{once:!0,id:"referenceSearch"}),this.widget=new N(this.editorService,this.requestService,this.editor),this.widget.showLoading(b),this.callOnClean.push(this.widget.addListener(N.Events.EditorDoubleClick,function(b){a.editorService.openEditor({path:a.requestService.getPath("root",new x.URL(b.reference.resourceUrl)),options:{selection:b.range}}).done(null,y.onPromiseError),a.clear()})),t.Promise.as(this.widget)},b.prototype.clear=function(){while(this.callOnClean.length>0)this.callOnClean.pop()();this.model=null;var a=!1;return this.widget!==null&&(this.widget.dispose(),this.widget=null,a=!0),this.binding!==null&&(this.binding.dispose(),this.binding=null),this.editor.focus(),this.requestIdPool+=1,a},b}(G.EditorAction);b.ReferenceAction=O;var P=new w.ActionDescriptor(O,O.ID,s.localize("vs_editor_contrib_referenceSearch_referenceSearch",5),{shift:!0,key:"F12"}),Q=v.Registry.as(G.Extensions.EditorContributions);Q.registerContribution(P)}),define("vs/css!vs/editor/contrib/links/links",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/links/links",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/platform","vs/editor/core/constants","vs/editor/editorExtensions","vs/editor/editor","vs/css!./links"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h,o=function(){function a(a){var b=this;this.editor=a,this.listenersToRemove=[],this.listenersToRemove.push(a.addListener("change",function(a){return b.onChange()})),this.listenersToRemove.push(a.addListener(l.EventType.ModelChanged,function(a){b.decorations=[],b.stop(),b.beginCompute()})),this.timeoutPromise=null,this.computePromise=null,this.decorations=[],this.beginCompute()}return a.RECOMPUTE_TIME=1e3,a.prototype.onChange=function(){var b=this;this.stop(),this.timeoutPromise=j.Promise.timeout(a.RECOMPUTE_TIME),this.timeoutPromise.then(function(){b.timeoutPromise=null,b.beginCompute()})},a.prototype.beginCompute=function(){var a=this;if(!this.editor.getModel())return;var b=this.editor.getModel().getMode();b.linkSupport&&(this.computePromise=b.linkSupport.computeLinks(this.editor.getModel().getAssociatedResource()),this.computePromise.then(function(b){return a.updateDecorations(b)}))},a.prototype.updateDecorations=function(a){var b=[];if(a)for(var c=0;c<a.length;c++){var d=document.createElement("a");d.target="_blank",d.href=a[c].url,d.appendChild(document.createTextNode(a[c].url)),b.push({range:a[c].range,options:{className:"detected-link",hoverMessage:i.localize("vs_editor_contrib_links_links",0,d.outerHTML)}})}this.decorations=this.editor.deltaDecorations(this.decorations,b)},a.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},a.prototype.destroy=function(){this.listenersToRemove.forEach(function(a){a()}),this.listenersToRemove=[]},a}(),p=function(){function a(a){this.linkDetector=new o(a)}return a.ID="editor.contrib.LinkDetector",a.prototype.getId=function(){return a.ID},a.prototype.dispose=function(){this.linkDetector.destroy()},a}(),q=k.Registry.as(m.Extensions.EditorContributions);q.registerContribution(new k.BaseDescriptor(p))}),define("vs/base/diagnostics",["require","exports"],function(a,b){function g(a,b){while(a.length>b)a.shift()}function h(a,b){var c=d[a]||!1;d[a]=c;var h=e[a]||[];h.push(b),e[a]=h;var i=function(){var c=[];for(var e=0;e<arguments.length-0;e++)c[e]=arguments[e+0];if(d[a]===!0){var h=[arguments],i=f.indexOf(b);i!==-1&&(h.unshift.apply(h,f[i+1]||[]),f[i+1]=[]);var j=h.length>1,k=function(){var a=h.shift();b.apply(b,a),h.length>0&&window.setTimeout(k,500)};k()}else{var i=f.indexOf(b);i=i!==-1?i:f.length;var l=i+1,m=f[l]||[];m.push(arguments),g(m,50),f[i]=b,f[l]=m}};return i}var c=self;c.Monaco||(c.Monaco={}),c.Monaco.Diagnostics={};var d=c.Monaco.Diagnostics,e={},f=[];b.register=h}),define("vs/platform/handlerService",["require","exports","vs/platform/services","vs/base/diagnostics","vs/base/env","vs/base/dom/dom","vs/base/dom/keyboardEvent"],function(a,b,c,d,e,f,g){function m(a){var b=[];return(a.ctrlCmd&&!j.browser.isMacintosh||a.winCtrl&&j.browser.isMacintosh)&&b.push("Ctrl"),a.shift&&b.push("Shift"),a.alt&&b.push("Alt"),(a.ctrlCmd&&j.browser.isMacintosh||a.winCtrl&&!j.browser.isMacintosh)&&b.push("Meta"),b.push(a.key),b.join("-")}var h=c,i=d,j=e,k=f,l=g;b.asString=m;var n=i.register("HandlerServiceActivationVerbose",function(a,b,c){console.log(a+" > "+b.id+" > "+c)}),o=i.register("HandlerServiceFocusVisual",function(a,b){a.style.outlineWidth="5px",a.style.outlineStyle="solid",a.style.outlineColor=b===!0?"yellowgreen":b===!1?"red":"gray"}),p=i.register("HandlerServiceFocusTextual",function(a){console.log("got FOCUS @"+(new Date).getTime(),a)}),q=function(){function a(a,b){this.keyBinding=a,this.onEmpty=b,this.data=[]}return a.prototype.push=function(a,b){typeof b=="undefined"&&(b={});var c=this,d,e,f=this;return d=function(){var c=[];for(var d=0;d<arguments.length-0;d++)c[d]=arguments[d+0];if(!this.active)return!1;var g=!1;try{g=a.apply(a,c),g===!0&&b.once&&e.dispose()}catch(h){throw e.dispose(),h}return n(f.keyBinding,b,"handled?"+g),g},d.$debugId=b.id,d.active=!0,this.data.unshift(d),e={activate:function(){n(c.keyBinding,b,"activated"),d.active=!0},deactivate:function(){n(c.keyBinding,b,"deactivated"),d.active=!1},dispose:function(){n(c.keyBinding,b,"disposed");var a=c.data.indexOf(d);a!==-1&&(c.data.splice(a,1),c.data.length===0&&c.onEmpty())}},e},a.prototype.trigger=function(){var a=[];for(var b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];for(var c=0;c<this.data.length;c++){var d=this.data[c].apply(this.data[c],a);if(d===!0)return!0}return!1},a}();b.HandlerList=q;var r=function(){function a(a){this.bindings=a}return a.prototype.activate=function(){this.bindings.forEach(function(a){a.activate()})},a.prototype.deactivate=function(){this.bindings.forEach(function(a){a.deactivate()})},a.prototype.dispose=function(){this.bindings.forEach(function(a){a.dispose()})},a}();b.CompositeBinding=r;var s=function(){function a(a){var b=this;this.map={},this.unbind=k.addListener(a,k.EventType.KEY_DOWN,function(a){var c=new l.KeyboardEvent(a);b.dispatch(c)})}return a.prototype.dispatch=function(a){var b=a.asString(),c=this.map[b],d=!1;return c instanceof q&&(d=c.trigger(a)),d&&(a.preventDefault(),a.stopPropagation()),d},a.prototype.ensureHandlerList=function(a){var b=this,c=m(a),d=this.map[c];return d||(d=new q(c,function(){delete b.map[c]}),this.map[c]=d),d},a.prototype.bind=function(a,b,c){return typeof c=="undefined"&&(c={once:!1,id:"unkown"}),this.ensureHandlerList(a).push(b,c)},a.prototype.bindGroup=function(a,b){typeof b=="undefined"&&(b={once:!1,id:"unkownGroup"});var c=this,d,e=[],f=function(a,f){var g=f;b.once&&(g=function(){var c=!1;try{c=f.apply(f,arguments),c===!0&&(n(m(a),b,"handled?true > GROUP disposal"),d.dispose())}catch(e){throw d.dispose(),e}return c}),e.push(c.bind(a,g))};return a(f),d=new r(e),d},a.prototype.dispose=function(){this.unbind(),this.map=null},a}();b.HandlerService=s;var t=function(){function a(a){this.delegate=a,this.bindings=[]}return a.prototype.bind=function(a,b,c){var d=this.delegate.bind(a,b,c);return this.bindings.push(d),d},a.prototype.bindGroup=function(a,b){var c=this.delegate.bindGroup(a,b);return this.bindings.push(c),c},a.prototype.capture=function(){return new r(this.bindings)},a}();b.HandlerServiceWrapper=t;var u=function(){function a(a,b){var c=this;this.domNode=a,this.scopeNode=b,this.handlerActive=!1,o(this.scopeNode),this.unbind=k.addListener(this.domNode,k.EventType.FOCUS,function(a){p(a.target),c.update(k.isAncestor(a.target,c.scopeNode))},!0)}return a.prototype.injectHandlerService=function(a){this.delegate=a},a.prototype.update=function(a){this.handlerActive!==a&&(this.handlerActive=a),o(this.scopeNode,a)},a.prototype.bind=function(a,b,c){return this.delegate.bind(a,this.wrapHandler(b),c)},a.prototype.bindGroup=function(a,b){var c=this;return this.delegate.bindGroup(function(b){var d=function(a,d){b(a,c.wrapHandler(d))};a(d)},b)},a.prototype.wrapHandler=function(a){var b=this,c=function(){return b.handlerActive!==!0?!1:a.apply(a,arguments)};return c},a.prototype.dispose=function(){this.unbind()},a}();b.FocusTrackingHandlerService=u}),define("vs/editor/core/editorState",["require","exports"],function(a,b){function d(a){var b=[];for(var c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];return new e(a,b)}(function(a){a._map=[],a._map[0]="Value",a.Value=0,a._map[1]="Selection",a.Selection=1,a._map[2]="Position",a.Position=2})(b.Flag||(b.Flag={}));var c=b.Flag;b.capture=d;var e=function(){function a(a,b){var d=this;this.editor=a,b.forEach(function(a){switch(a){case c.Value:d.modelVersionId=d.editor.getModel().getVersionId();break;case c.Position:d.position=d.editor.getPosition();break;case c.Selection:d.selection=d.editor.getSelection()}})}return a.prototype.validate=function(){return this.position&&!this.position.equals(this.editor.getPosition())?!1:this.selection&&!this.selection.equalsRange(this.editor.getSelection())?!1:this.modelVersionId?this.modelVersionId===this.editor.getModel().getVersionId():!0},a}()}),define("vs/css!vs/base/ui/widgets/actionbar",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/events",["require","exports"],function(a,b){var c=function(){function a(a){this.time=(new Date).getTime(),this.originalEvent=a,this.source=null}return a}();b.Event=c;var d=function(a){function b(b,c){a.call(this,c),this.message=b}return __extends(b,a),b}(c);b.MessageEvent=d;var e=function(a){function b(b,c,d,e){a.call(this,e),this.key=b,this.oldValue=c,this.newValue=d}return __extends(b,a),b}(c);b.PropertyChangeEvent=e;var f=function(a){function b(b,c){a.call(this,c),this.element=b}return __extends(b,a),b}(c);b.ViewerEvent=f,b.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",CONTENTS_CHANGED:"contentsChanged",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",INFO:"info",WARNING:"warning",ERROR:"error",CHANGE:"change",DISPOSE:"dispose"}});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/base/ui/widgets/actionbar",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/ui/actions","vs/base/dom/dom","vs/base/ui/events","vs/base/types","vs/base/strings","vs/base/eventEmitter","vs/base/dom/keyboardEvent","vs/css!./actionbar"],function(a,b,c,d,e,f,g,h,i,j,k,l){function E(a,b){if(a.button!==0)return;a.type===q.EventType.MOUSE_DOWN?b.addClass("active"):b.removeClass("active")}var m=c,n=d,o=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=o.$,x=function(a){function b(b,c){var d=this;a.call(this),this.listeners=[],this.context=b||this,this.action=c;if(c instanceof p.Action){var e=c.addBulkListener(function(a){a.forEach(function(a){switch(a.getType()){case p.Action.ENABLED:d.updateEnabled();break;case p.Action.LABEL:d.updateLabel();break;case p.Action.CLASS:d.updateClass();break;case p.Action.CHECKED:d.updateChecked();break;default:d.updateUnkown(a)}})});this.listeners.push(e)}}return __extends(b,a),b.prototype.getAction=function(){return this.action},b.prototype.getContext=function(){return this.context},b.prototype.setActionContext=function(a){this.context=a},b.prototype.render=function(a){var b=this;this.builder=o.Build.withElement(a),this.builder.on(q.EventType.CLICK,function(a){b.onClick(a)}),this.builder.on("mousedown",function(a){a.button===0&&b.action.isEnabled()&&b.builder.addClass("active")}),this.builder.on(["mouseup","mouseout"],function(a){a.button===0&&b.action.isEnabled()&&b.builder.removeClass("active")})},b.prototype.onClick=function(a){q.EventHelper.stop(a,!0),this.runAction(a)},b.prototype.runAction=function(a){var b=this;if(!this.action.isEnabled())return;this.emit(r.EventType.BEFORE_RUN,{action:this.action}),n.Promise.as(this.action.run(this.context||a)).then(function(a){b.emit(r.EventType.RUN,{action:b.action,result:a})},function(a){b.emit(r.EventType.RUN,{action:b.action,error:a})}).done()},b.prototype.focus=function(){this.builder.domFocus()},b.prototype.updateEnabled=function(){},b.prototype.updateLabel=function(){},b.prototype.updateClass=function(){},b.prototype.updateChecked=function(){},b.prototype.updateUnkown=function(a){},b.prototype.dispose=function(){a.prototype.dispose.call(this);var b;while(b=this.listeners.pop())b()},b}(u.EventEmitter);b.BaseActionItem=x;var y=function(a){function b(b,c,d){typeof d=="undefined"&&(d={}),a.call(this,b,c),this.options=d,this.options.icon=d.icon!==undefined?d.icon:!1,this.options.label=d.label!==undefined?d.label:!0,this.cssClass=""}return __extends(b,a),b.prototype.render=function(b){a.prototype.render.call(this,b),this.$e=w("a.action-label").attr("tabIndex","-1").appendTo(this.builder),this.$e.attr({role:"menuitem"}),!this.options.label&&this.getAction().getLabel()&&this.options.icon&&this.$e.attr({title:this.getAction().getLabel()}),this.updateClass(),this.updateLabel(),this.updateEnabled(),this.updateChecked()},b.prototype.focus=function(){this.$e.domFocus()},b.prototype.updateLabel=function(){this.options.label&&this.$e.safeInnerHtml(t.stripHtml(this.getAction().getLabel()))},b.prototype.updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().getClass(),this.$e.addClass("icon"),this.$e.addClass(this.cssClass),this.updateEnabled()):this.$e.removeClass("icon")},b.prototype.updateEnabled=function(){this.getAction().isEnabled()?this.$e.removeClass("disabled"):this.$e.addClass("disabled")},b.prototype.updateChecked=function(){this.getAction().isChecked()?this.$e.addClass("checked"):this.$e.removeClass("checked")},b}(x);b.ActionItem=y;var z=function(a){function b(b){a.call(this,null,b),this.unhook=[]}return __extends(b,a),b.prototype.render=function(b){var c=document.createElement("div");o.Build.withElement(c).addClass("progress-item");var d=document.createElement("div");o.Build.withElement(d).addClass("label"),d.innerHTML=this.getAction().getLabel(),d.title=this.getAction().getLabel(),a.prototype.render.call(this,d);var e=document.createElement("div");e.innerHTML="&hellip;",o.Build.withElement(e).addClass("tag","progress");var f=document.createElement("div");f.innerHTML="&#10003;",o.Build.withElement(f).addClass("tag","done");var g=document.createElement("div");g.innerHTML="!",o.Build.withElement(g).addClass("tag","error"),this.unhook.push(this.addListener(r.EventType.BEFORE_RUN,function(){o.Build.withElement(e).addClass("active"),o.Build.withElement(f).removeClass("active"),o.Build.withElement(g).removeClass("active")})),this.unhook.push(this.addListener(r.EventType.RUN,function(a){o.Build.withElement(e).removeClass("active"),a.error?(o.Build.withElement(f).removeClass("active"),o.Build.withElement(g).addClass("active")):(o.Build.withElement(g).removeClass("active"),o.Build.withElement(f).addClass("active"))})),c.appendChild(d),c.appendChild(e),c.appendChild(f),c.appendChild(g),b.appendChild(c)},b.prototype.dispose=function(){while(this.unhook.length>0)this.unhook.pop()();a.prototype.dispose.call(this)},b}(x);b.ProgressItem=z,function(a){a._map=[],a.HORIZONTAL=1,a.VERTICAL=2}(b.ActionsOrientation||(b.ActionsOrientation={}));var A=b.ActionsOrientation,B={orientation:A.HORIZONTAL,context:null},C=function(a){function b(b,c){typeof c=="undefined"&&(c=B);var d=this;a.call(this),this.builder=b,this.options=c,this.items=[],this.focusedItem=undefined,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this.options.orientation===A.VERTICAL&&(this.domNode.className+=" vertical"),o.Build.withElement(this.domNode).on(q.EventType.KEY_UP,function(a){var b=new v.KeyboardEvent(a),c=!0;switch(b.asString()){case"Enter":d.doTrigger(a);break;case"UpArrow":case"LeftArrow":d.doFocus(!1);break;case"DownArrow":case"RightArrow":d.doFocus(!0);break;default:c=!1}c&&(b.preventDefault(),b.stopPropagation())}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","menu"),this.actionsList.setAttribute("aria-label",m.localize("vs_base_ui_widgets_actionbar",0)),this.domNode.appendChild(this.actionsList),b&&b.getHTMLElement().appendChild(this.domNode)}return __extends(b,a),b.DEFAULT_OPTIONS={orientation:A.HORIZONTAL},b.prototype.getContainer=function(){return o.Build.withElement(this.domNode)},b.prototype.push=function(a,b){typeof b=="undefined"&&(b={});var c=this;s.isArray(a)||(a=[a]);var d=s.isNumber(b.index)?b.index:null;a.forEach(function(a){var e=document.createElement("li");e.className="action-item",e.setAttribute("role","presentation");var f=null;c.options.actionItemProvider&&(f=c.options.actionItemProvider(a)),f||(f=new y(c.options.context,a,b)),f.setActionContext(c.options.context),c.addEmitter(f),f.render(e),d===null||d<0||d>=c.actionsList.children.length?c.actionsList.appendChild(e):c.actionsList.insertBefore(e,c.actionsList.children[d++]),c.items.push(f)})},b.prototype.clear=function(){var a;while(a=this.items.pop())a.dispose();w(this.actionsList).empty()},b.prototype.isEmpty=function(){return this.items.length===0},b.prototype.onContentsChange=function(){this.emit(r.EventType.CONTENTS_CHANGED)},b.prototype.focus=function(){this.doFocus()},b.prototype.doFocus=function(a){var b=this.items.length;if(b===0)return;typeof a=="undefined"?typeof this.focusedItem=="undefined"&&(this.focusedItem=0):typeof this.focusedItem=="undefined"?this.focusedItem=0:a?(this.focusedItem+=1,this.focusedItem>=b&&(this.focusedItem=0)):(this.focusedItem-=1,this.focusedItem<0&&(this.focusedItem=b-1));for(var c=0;c<this.items.length;c++){var d=this.items[c];if(!(d instanceof x))continue;var e=d;c===this.focusedItem?(e.focus(),e.builder.addClass("focused")):e.builder.removeClass("focused")}},b.prototype.doTrigger=function(a){if(typeof this.focusedItem=="undefined")return;this.items[this.focusedItem].runAction(a)},b.prototype.dispose=function(){this.items!==null&&this.clear(),this.items=null,this.getContainer().empty(),a.prototype.dispose.call(this)},b}(u.EventEmitter);b.ActionBar=C;var D=function(a){function b(b,c){typeof c=="undefined"&&(c={});var d=this;a.call(this),this.builder=b,this.options=c,this.listeners=[];var e=this;this.domNodeBuilder=b.div({"class":"monaco-actions-widget"},function(a){e.primaryActionBar=new C(a),e.secondaryActionBar=new C(a,{orientation:A.VERTICAL}),e.primaryActionBar.getContainer().addClass("primary"),e.secondaryActionBar.getContainer().addClass("secondary"),a.div({"class":"more",safeInnerHtml:t.stripHtml(m.localize("vs_base_ui_widgets_actionbar",1))}).on([q.EventType.CLICK],function(a,b){q.EventHelper.stop(a,!0),e.toggleMore()}).on([q.EventType.MOUSE_DOWN,q.EventType.MOUSE_UP,q.EventType.MOUSE_OUT],E)}),this.listeners.push(this.primaryActionBar.addListener(r.EventType.BEFORE_RUN,function(a){a.actionType="primary",d.emit(r.EventType.BEFORE_RUN,a)})),this.listeners.push(this.primaryActionBar.addListener(r.EventType.RUN,function(a){a.actionType="primary",d.emit(r.EventType.RUN,a)})),this.listeners.push(this.secondaryActionBar.addListener(r.EventType.BEFORE_RUN,function(a){a.actionType="secondary",d.emit(r.EventType.BEFORE_RUN,a)})),this.listeners.push(this.secondaryActionBar.addListener(r.EventType.RUN,function(a){a.actionType="secondary",d.emit(r.EventType.RUN,a)})),this.updateView()}return __extends(b,a),b.prototype.updateView=function(){this.primaryActionBar.items.length===0?this.domNodeBuilder.removeClass("hasPrimary"):this.domNodeBuilder.addClass("hasPrimary"),this.secondaryActionBar.items.length===0?this.domNodeBuilder.removeClass("hasSecondary"):this.domNodeBuilder.addClass("hasSecondary")},b.prototype.getContainer=function(){return o.Build.withBuilder(this.domNodeBuilder)},b.prototype.toggleMore=function(a,b){var c="more";typeof a=="undefined"&&(a=!this.domNodeBuilder.hasClass(c)),a?this.domNodeBuilder.addClass("more"):this.domNodeBuilder.removeClass("more"),b!==!0&&this.emit(r.EventType.TOGGLE,{expanded:a})},b.prototype.push=function(a,b){typeof b=="undefined"&&(b={});var c=this,d=[];return s.isArray(a)||(a=[a]),a.forEach(function(a){b.secondary?c.secondaryActionBar.push(a,b):c.primaryActionBar.push(a,b)}),this.updateView(),d.length===1?d[0]:d},b.prototype.clear=function(){this.primaryActionBar.clear(),this.secondaryActionBar.clear(),this.toggleMore(!1)},b.prototype.update=function(){this.updateView()},b.prototype.dispose=function(){var b;while(b=this.listeners.pop())b();this.primaryActionBar.dispose(),this.secondaryActionBar.dispose(),this.domNodeBuilder.empty(),a.prototype.dispose.call(this)},b}(u.EventEmitter);b.ActionsWidget=D}),define("vs/css!vs/editor/contrib/inEditorActions/inEditorActions",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/inEditorActions/inEditorActions",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/actionRegistry","vs/platform/handlerService","vs/base/dom/dom","vs/base/eventEmitter","vs/base/types","vs/editor/editorExtensions","vs/editor/core/editorState","vs/editor/core/constants","vs/base/ui/actions","vs/base/ui/widgets/actionbar","vs/base/dom/builder","vs/base/ui/events","vs/base/dom/mouseEvent","vs/editor/editor","vs/css!./inEditorActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=c,u=d,v=e,w=f,x=g,y=h,z=i,A=j,B=k,C=l,D=m,E=n,F=o,G=p,H=q,I=r,J=s,K=function(a){function b(b){a.call(this),this.editor=b,this.request=u.Promise.as(!0),this.delayedRequest=u.Promise.as(!0),this.state=null,this.actions=[]}return __extends(b,a),b.Events={Updated:"inEditorAction.model.update"},b.prototype.hasActions=function(){return this.actions.length>0},b.prototype.getActions=function(){return this.actions},b.prototype.deferredUpdate=function(){var a=this;this.delayedRequest.cancel(),this.delayedRequest=u.Promise.timeout(500),this.delayedRequest.then(function(){return a.update()})},b.prototype.update=function(){var a=this;if(this.state!==null&&this.state.validate())return this.emit(b.Events.Updated,this),u.Promise.as(null);var c=this.editor.getModel(),d=c.getMode().inEditorActionsSupport;return d?(this.request.cancel(),this.state=C.capture(this.editor,C.Flag.Position),this.request=d.getActionsAtPosition(this.editor.getModel().getAssociatedResource(),this.editor.getPosition()),this.request.then(function(c){a.state.validate()?a.actions=c:a.actions=[],a.emit(b.Events.Updated,a)})):(this.actions=[],this.emit(b.Events.Updated,this),u.Promise.as(null))},b}(z.EventEmitter),L=function(){function a(a,b,c){this.editor=a,this.handlerService=b,this.model=c,this.toUnhook=[],this.domNode=document.createElement("div"),this.trigger=null,this.details=null,this.actionBar=null,this.expanded=!1,this.isVisible=!1,this.create(),this.add(),this.hide()}return a.ID="editor.contrib.triggerWidget",a.prototype.create=function(){var a=this,b=G.Build.withElement(this.domNode).addClass("in-editor-actions");b.div({"class":"arrow"},function(b){b.attr({role:"button","aria-label":t.localize("vs_editor_contrib_inEditorActions_inEditorActions",0)}),a.trigger=b,a.trigger.on(y.EventType.CLICK,function(b){a.setExpanded(!a.expanded),(new I.MouseEvent(b)).preventDefault()})}),b.div({"class":"menu"},function(b){b.attr("aria-haspopup",!0),a.details=b,a.actionBar=new F.ActionBar(a.details,{orientation:F.ActionsOrientation.VERTICAL,context:a.editor}),a.toUnhook.push(a.actionBar.addListener(H.EventType.BEFORE_RUN,function(b){a.hide()})),a.toUnhook.push(a.actionBar.addListener(H.EventType.RUN,function(b){b.result&&A.isFunction(b.result.focus)?b.result.focus():a.editor.focus()})),a.details.hide()})},a.prototype.show=function(){this.isVisible=!0,this.domNode.style.display="block",this.editor.layoutContentWidget(this)},a.prototype.hide=function(){this.setExpanded(!1),this.isVisible=!1,this.domNode.style.display="none",this.editor.layoutContentWidget(this)},a.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[J.ContentWidgetPositionPreference.BELOW]}:null},a.prototype.fillActionBar=function(){var a=this;this.actionBar.clear();var b=v.Registry.as(B.Extensions.EditorContributions),c=b.getEditorContributions(),d={};for(var e=0;e<c.length;e++){var f=c[e];if(f instanceof w.ActionDescriptor){var g=f;g.keybindings&&g.keybindings.length>0&&(d[g.id]=x.asString(g.keybindings[0]))}}var h=this.model.getActions();h.forEach(function(b){var c=a.editor.getAction(b);if(c){if(c.isEnabled()){var e;d[c.getId()]?e=t.localize("vs_editor_contrib_inEditorActions_inEditorActions",1,c.getLabel(),d[c.getId()]):e=c.getLabel(),a.actionBar.push(new E.Action(c.getId(),e,c.getClass(),!0,function(a){return c.run(a)}))}}else console.warn("NO action found for "+b)}),h.length>0?this.show():this.hide()},a.prototype.setExpanded=function(a){this.expanded=a,this.expanded?(this.details.show(),this.trigger.addClass("active"),this.actionBar.focus()):(this.details.hide(),this.trigger.removeClass("active"))},a.prototype.getDomNode=function(){return this.domNode},a.prototype.getId=function(){return a.ID},a.prototype.add=function(){var a=this;this.editor.addContentWidget(this),this.toUnhook.push(this.model.addListener(K.Events.Updated,function(){return a.fillActionBar()})),this.toUnhook.push(this.editor.addListener(D.EventType.CursorPositionChanged,function(){return a.hide()})),this.toUnhook.push(this.editor.addListener(D.EventType.ModelChanged,function(){return a.hide()})),this.toUnhook.push(this.handlerService.bind({key:"Escape"},function(){return a.isVisible?(a.hide(),a.editor.focus(),!0):!1}).dispose)},a.prototype.dispose=function(){while(this.toUnhook.length>0)this.toUnhook.pop()();this.domNode&&this.domNode.parentElement.removeChild(this.domNode),this.domNode=null},a}(),M=function(a){function b(b,c){var d=this;a.call(this,b,c,B.Precondition.WidgetFocus),this.model=new K(b),this.widget=null,this.toUnhook.push(b.addListener(D.EventType.CursorPositionChanged,function(a){if(!d.isEnabled())return;if(a.reason!=="explicit")return;if(a.source!=="mouse")return;var b=d.editor.getSelection(),c=d.editor.getModel().getWords(b.startLineNumber,!1).filter(function(a){return a.start+1<=b.startColumn&&a.end+1>=b.endColumn});if(c.length!==1)return;d.model.deferredUpdate()}))}return __extends(b,a),b.ID="editor.action.inEditorActions.now",b.prototype.injectHandlerService=function(b){a.prototype.injectHandlerService.call(this,b),this.widget||(this.widget=new L(this.editor,this.handlerService,this.model))},b.prototype.run=function(){var a=this;return this.model.update().then(function(){a.widget.setExpanded(!0)})},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.model&&(this.model.dispose(),this.model=null),this.widget&&(this.widget.dispose(),this.widget=null)},b}(B.EditorAction),N=new w.ActionDescriptor(M,M.ID,t.localize("vs_editor_contrib_inEditorActions_inEditorActions",2),{ctrlCmd:!0,key:"."}),O=v.Registry.as(B.Extensions.EditorContributions);O.registerContribution(N)}),define("vs/editor/contrib/wordHighlighter/wordHighlighter",["require","exports","vs/platform/platform","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions","vs/editor/editor"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(a){var b=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=null,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=a,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(a.addListener(i.EventType.CursorPositionChanged,function(a){b._onPositionChanged(a)})),this.toUnhook.push(a.addListener(i.EventType.ModelChanged,function(a){b._stopAll(),b.model=b.editor.getModel()})),this.toUnhook.push(a.addListener("change",function(a){b._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=null,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return a.prototype._removeDecorations=function(){var a=this;this._decorationIds.length>0&&(this.editor.changeDecorations(function(b){for(var c=0,d=a._decorationIds.length;c<d;c++)b.removeDecoration(a._decorationIds[c])}),this._decorationIds=[])},a.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),this.renderDecorationsTimer!==-1&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},a.prototype._onPositionChanged=function(a){var b=this;if(a.reason!=="explicit"){this._stopAll();return}if(this.editor.getConfiguration().readOnly){this._stopAll();return}if(!this.model.getMode().occurrencesSupport){this._stopAll();return}var c=this.editor.getSelection();if(c.startLineNumber!==c.endLineNumber){this._stopAll();return}var d=c.startLineNumber,e=c.startColumn,f=c.endColumn,g=this.model.getWords(d,!0).filter(function(a){return a.start+1<=c.startColumn&&a.end+1>=c.endColumn});if(g.length!==1){this._stopAll();return}var h=new j.Range(d,g[0].start+1,d,g[0].end+1),i=this._lastWordRange&&this._lastWordRange.equalsRange(h);for(var k=0,l=this._decorationIds.length;!i&&k<l;k++){var m=this.model.getDecorationRange(this._decorationIds[k]);m&&m.startLineNumber===d&&m.startColumn<=e&&m.endColumn>=f&&(i=!0)}this.lastCursorPositionChangeTime=(new Date).getTime();if(i)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var n=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=this.model.getMode().occurrencesSupport.findOccurrences(this.model.getAssociatedResource(),this.editor.getPosition()),this.workerRequest.then(function(a){n===b.workerRequestTokenId&&(b.workerRequestCompleted=!0,b.workerRequestValue=a,b._beginRenderDecorations())}).done()}this._lastWordRange=h},a.prototype._beginRenderDecorations=function(){var a=this,b=(new Date).getTime(),c=this.lastCursorPositionChangeTime+250;b>=c?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=window.setTimeout(function(){a.renderDecorations()},c-b)},a.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;var a=[];for(var b=0,c=this.workerRequestValue.length;b<c;b++){var d=this.workerRequestValue[b],e="wordHighlight",f="rgba(246, 185, 77, 0.7)";d.kind&&d.kind==="write"&&(e+="Strong",f="rgba(249, 206, 130, 0.7)"),a.push({range:d.range,options:{isOverlay:!1,className:e,showInOverviewRuler:f}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,a)},a.prototype.destroy=function(){this._stopAll();while(this.toUnhook.length>0)this.toUnhook.pop()()},a}(),n=function(){function a(a){this.wordHighligher=new m(a)}return a.ID="editor.contrib.wordHighlighter",a.prototype.getId=function(){return a.ID},a.prototype.dispose=function(){this.wordHighligher.destroy()},a}(),o=h.Registry.as(k.Extensions.EditorContributions);o.registerContribution(new h.BaseDescriptor(n))}),define("vs/editor/editor.all",["./core/codeEditorWidget","./diff/diffEditorWidget","./contrib/find/find","./contrib/format/format","./contrib/hover/hover","./contrib/rename/rename","./contrib/snippet/snippet","./contrib/comment/comment","./contrib/linesOperations/linesOperations","./contrib/goToDeclaration/goToDeclaration","./contrib/gotoError/gotoError","./contrib/inPlaceReplace/inPlaceReplace","./contrib/suggest/suggest","./contrib/parameterHints/parameterHints","./contrib/diffNavigator/diffNavigator","./contrib/smartSelect/smartSelect","./contrib/smartSelect/jumpToBracket","./contrib/color/colorPicker","./contrib/referenceSearch/referenceSearch","./contrib/links/links","./contrib/inEditorActions/inEditorActions","./contrib/wordHighlighter/wordHighlighter"],function(){}),define("vs/css!vs/editor/terminal/terminal",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/terminal/terminal",["require","exports","vs/editor/core/codeEditorWidget","vs/editor/core/constants","vs/base/dom/dom","vs/editor/core/command/replaceCommand","vs/editor/editor","vs/css!./terminal"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(a){function b(b,c,d){var e=this;a.call(this,b,c,d),this.terminalListenersToRemove=[],this.terminalListenersToRemove.push(j.addListener(b,"mouseup",function(a){return e.onMouseUp()})),this.isReadOnly=!1,this.resume(!0,!0)}return __extends(b,a),b.prototype._attachModel=function(b){var c=this;a.prototype._attachModel.call(this,b),this.cursor&&this.listenersToRemove.push(this.cursor.addListener(i.EventType.CursorSelectionChanged,function(a){return c._onCursorSelectionChanged(a)}))},b.prototype._onCursorSelectionChanged=function(a){if(a.source==="modelChange"&&a.selection.isEmpty()){var b=this.getPosition(),c=this.cursor.getEditableRange();b.equals(c.getEndPosition())&&this.revealPosition(b,!1,!1)}},b.prototype.onMouseUp=function(){if(!this.getModel())return;if(!this.getSelection().isEmpty())return;var a=this.getPosition(),b=this.cursor.getEditableRange();if(!b.containsPosition(a)){var c=this.model.getLineCount(),d=this.model.getLineMaxColumn(c);this.setPosition({lineNumber:c,column:d},!1,!1,!1)}},b.prototype.destroy=function(){this.terminalListenersToRemove.forEach(function(a){a()}),this.terminalListenersToRemove=[],a.prototype.destroy.call(this)},b.prototype.getEditorType=function(){return i.EditorType.ITerminal},b.prototype.peekCurrentInput=function(){var a=this.cursor.getEditableRange();return this.getModel().getValueInRange(a)},b.prototype.acceptInput=function(){var a=this.peekCurrentInput();return this.resume(!0,!0),a},b.prototype.replaceInput=function(a){var b=this.peekCurrentInput(),c=this.cursor.getEditableRange(),d=new k.ReplaceCommand(c,a);return this.trigger("terminal",i.Handler.ExecuteCommand,d),b},b.prototype.setReadOnly=function(a){this.isReadOnly!==a&&(this.isReadOnly=a,this.updateOptions({readOnly:a}))},b.prototype.pause=function(){this.setReadOnly(!0)},b.prototype.resume=function(a,b){if(!this.getModel())return;this.setReadOnly(!1);var c=this.model.getLineCount(),d=this.model.getLineMaxColumn(c);a&&this.setEditableRange({startLineNumber:c,startColumn:d,endLineNumber:c,endColumn:d}),b&&this.setPosition({lineNumber:c,column:d},!1,!1,!1)},b}(h.CodeEditorWidget);b.Terminal=m}),define("vs/editor/standalone/simpleServices",["require","exports","vs/base/lib/winjs.base","vs/platform/services"],function(a,b,c,d){var e=c,f=d,g=function(){function a(a){this.editor=a}return a.prototype.getId=function(){return"editor"},a.prototype.getControl=function(){return this.editor},a.prototype.getSelection=function(){return this.editor.getSelection()},a.prototype.focus=function(){this.editor.focus()},a}();b.SimpleEditor=g;var h=function(){function a(a){this.model=a}return a.prototype.getTextEditorModel=function(){return this.model},a}();b.SimpleModel=h;var i=function(){function a(a){this.editor=a}return a.prototype.getActiveEditor=function(){return new g(this.editor)},a.prototype.getActiveEditorInput=function(){return null},a.prototype.openEditor=function(a){var b=this.editor.getModel();return b.id!==a.path&&b.getAssociatedResource().toExternal()!==a.path?e.Promise.as(!1):(this.editor.setSelection(a.options.selection,!0,!0,!0),e.Promise.as(!0))},a.prototype.resolveEditorModel=function(a){var b=this.editor.getModel();return b.id!==a.path&&b.getAssociatedResource().toExternal()!==a.path?e.Promise.as(null):e.Promise.as(new h(b))},a}();b.SimpleEditorService=i;var j=function(){},k=function(){function a(){}return a.prototype.show=function(a,b){switch(a){case f.Severity.Error:console.error(b);break;case f.Severity.Warning:console.warn(b);break;default:console.log(b)}return j},a}();b.SimpleMessageService=k}),define("vs/platform/telemetry/telemetryService",["require","exports","vs/platform/services","vs/base/strings","vs/base/lib/winjs.base"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(a){typeof a=="undefined"&&(a=!1),this.eventQueue=[],this.publicOnly=a,this.sessionID=g.generateUuid(8)+Date.now(),this.failureCount=0,this.activeRequest=h.Promise.as(this),this.activeDelay=h.Promise.as(this)}return a.MAX_FAILURE_COUNT=10,a.EVENT_INTERVAL=3e4,a.EVENT_BATCH_SIZE=100,a.prototype.injectRequestService=function(a){this.requestService=a},a.prototype.log=function(a,b){if(this.publicOnly)return;this.handleEvent("restricted",a,b)},a.prototype.publicLog=function(a,b){this.handleEvent("public",a,b)},a.prototype.handleEvent=function(b,c,d){if(this.failureCount>a.MAX_FAILURE_COUNT)return;d=d||{},d.source="client",this.eventQueue.push({name:c,kind:b,timestamp:(new Date).toUTCString(),data:JSON.stringify(d),sessionID:this.sessionID}),this.eventQueue.length>a.EVENT_BATCH_SIZE&&this.failureCount===0?this.sendNow():this.sendSoon()},a.prototype.sendNow=function(){var a=this;this.activeRequest.then(function(){a.sendEvents()})},a.prototype.sendSoon=function(){var b=this;this.activeDelay.cancel(),this.activeDelay=h.Promise.timeout(a.EVENT_INTERVAL),this.activeDelay.then(function(){b.sendNow()})},a.prototype.sendEvents=function(){var b=this,c=this.eventQueue.splice(0,a.EVENT_BATCH_SIZE);if(c.length===0)return;this.activeRequest=this.submitToServer(c).then(function(){b.eventQueue.length>0&&b.sendSoon()},function(){b.eventQueue.unshift.apply(b.eventQueue,c),b.failureCount+=1})},a.prototype.submitToServer=function(a){var b=JSON.stringify(a),c=this.requestService.getRequestUrl("telemetry"),d={type:"POST",url:c,data:b,headers:{"Content-Type":"application/json"}};return h.xhr(d).then(function(a){if(a.status!==201)return h.Promise.wrapError("Bad response")})},a}();b.TelemetryService=i;var j=function(){function a(){}return a.prototype.log=function(a,b){},a.prototype.publicLog=function(a,b){},a}();b.NullTelemetryService=j,b.nullService=new j}),define("vs/editor/core/model/trackedRanges",["require","exports","vs/editor/core/range"],function(a,b,c){var d=c,e=function(){function a(a){this.model=a,this.lastRangeId=0,this.ranges={},this.markerIdToRangeId={},this.multiLineTrackedRanges={}}return a.prototype.clear=function(){this.ranges={},this.markerIdToRangeId={},this.multiLineTrackedRanges={}},a.prototype._setRangeIsMultiLine=function(a,b){var c=this.multiLineTrackedRanges.hasOwnProperty(a);!c&&b?this.multiLineTrackedRanges[a]=!0:c&&!b&&delete this.multiLineTrackedRanges[a]},a.prototype.add=function(a){a=this.model.validateRange(a);var b=this.model._addMarker(a.startLineNumber-1,a.startColumn,"start"),c=this.model._addMarker(a.endLineNumber-1,a.endColumn,"end"),d={id:(++this.lastRangeId).toString(),startMarkerId:b,endMarkerId:c};return this.ranges[d.id]=d,this.markerIdToRangeId[b]=d.id,this.markerIdToRangeId[c]=d.id,this._setRangeIsMultiLine(d.id,a.startLineNumber!==a.endLineNumber),d.id},a.prototype.change=function(a,b){if(this.ranges.hasOwnProperty(a)){b=this.model.validateRange(b);var c=this.ranges[a];this.model._changeMarker(c.startMarkerId,b.startLineNumber-1,b.startColumn),this.model._changeMarker(c.endMarkerId,b.endLineNumber-1,b.endColumn),this._setRangeIsMultiLine(c.id,b.startLineNumber!==b.endLineNumber)}},a.prototype.remove=function(a){if(this.ranges.hasOwnProperty(a)){var b=this.ranges[a];this.model._removeMarker(b.startMarkerId),this.model._removeMarker(b.endMarkerId),this._setRangeIsMultiLine(b.id,!1),delete this.ranges[b.id],delete this.markerIdToRangeId[b.startMarkerId],delete this.markerIdToRangeId[b.endMarkerId]}},a.prototype.onChangedMarkers=function(a){var b={},c,d,e,f;for(var g in a)a.hasOwnProperty(g.toString())&&this.markerIdToRangeId.hasOwnProperty(g.toString())&&(f=a[g],e=this.markerIdToRangeId[g],d=this.ranges[e],b.hasOwnProperty(d.id)?c=b[d.id]:(c={},b[d.id]=c),f.id===d.startMarkerId?(c.oldStartLineNumber=f.oldLineIndex+1,c.oldStartColumn=f.oldColumn):(c.oldEndLineNumber=f.oldLineIndex+1,c.oldEndColumn=f.oldColumn),this._setRangeIsMultiLine(d.id,this.model._getMarkerLineNumber(d.startMarkerId)!==this.model._getMarkerLineNumber(d.endMarkerId)));return b},a.prototype._getMultiLineTrackedRanges=function(a,b){var c=[],d,e,f,g;for(d in this.multiLineTrackedRanges)if(this.multiLineTrackedRanges.hasOwnProperty(d)){e=this.ranges[d],f=this.model._getMarkerLineNumber(e.startMarkerId);if(f>b)continue;g=this.model._getMarkerLineNumber(e.endMarkerId);if(g<a)continue;c.push(e.id)}return c},a.prototype.getLineTrackedRanges=function(a){return this.getLinesTrackedRanges(a,a)},a.prototype.getLinesTrackedRanges=function(a,b){var c=this._getMultiLineTrackedRanges(a,b),d,e={},f,g,h,i;for(g=0,h=c.length;g<h;g++)e[c[g]]=!0;for(i=a;i<=b;i++){d=this.model._getLineMarkers(i);for(g=0,h=d.length;g<h;g++)this.markerIdToRangeId.hasOwnProperty(d[g].id)&&(f=this.markerIdToRangeId[d[g].id],e.hasOwnProperty(f)||(e[f]=!0,c.push(f)))}return c},a.prototype.getStartLineNumber=function(a){return this.model._getMarkerLineNumber(this.ranges[a].startMarkerId)},a.prototype.getEndLineNumber=function(a){return this.model._getMarkerLineNumber(this.ranges[a].endMarkerId)},a.prototype.getRange=function(a){var b=this.ranges[a],c=this.model._getMarker(b.startMarkerId),e=this.model._getMarker(b.endMarkerId);return new d.Range(c.lineNumber,c.column,e.lineNumber,e.column)},a}();b.TrackedRanges=e}),define("vs/editor/core/model/modelDecorations",["require","exports","./trackedRanges"],function(a,b,c){var d=c,e=function(){function a(a,b){this.model=a,this.trackedRanges=b,this.lastDecorationId=0,this.decorations={},this.rangeIdToDecorationId={}}return a.prototype.clear=function(){this.decorations={},this.rangeIdToDecorationId={}},a.prototype.change=function(a,b){var c=this,d={addDecoration:function(b,d){return c._add(a,b,d)},changeDecoration:function(a,b){c._change(a,b)},changeDecorationOptions:function(a,b){c._changeOptions(a,b)},removeDecoration:function(a){c._remove(a,!0)},deltaDecorations:function(b,d){return c._delta(a,b,d)}},e=b(d);return d.addDecoration=null,d.changeDecoration=null,d.removeDecoration=null,d.deltaDecorations=null,e},a.prototype.getAll=function(a){var b=[],c,d;for(c in this.decorations)if(this.decorations.hasOwnProperty(c)){d=this.decorations[c];if(a&&d.ownerId&&d.ownerId!==a)continue;b.push({id:d.id,ownerId:d.ownerId,range:this.trackedRanges.getRange(d.rangeId),options:d.options})}return b},a.prototype.getLineDecorations=function(a,b){return this.getLinesDecorations(a,a,b)},a.prototype.getLinesDecorations=function(a,b,c){var d=[],e,f,g=this.trackedRanges.getLinesTrackedRanges(a,b);for(var h=0,i=g.length;h<i;h++){e=g[h];if(this.rangeIdToDecorationId.hasOwnProperty(e)){f=this.decorations[this.rangeIdToDecorationId[e]];if(c&&f.ownerId&&f.ownerId!==c)continue;d.push({id:f.id,ownerId:f.ownerId,range:this.trackedRanges.getRange(f.rangeId),options:f.options})}}return d},a.prototype.getOptions=function(a){return this.decorations.hasOwnProperty(a)?this.decorations[a].options:null},a.prototype.getRange=function(a){if(this.decorations.hasOwnProperty(a)){var b=this.decorations[a];return this.trackedRanges.getRange(b.rangeId)}return null},a.prototype.removeAllDecorationsWithOwnerId=function(a){var b,c,d=[];for(b in this.decorations)this.decorations.hasOwnProperty(b)&&(c=this.decorations[b],c.ownerId===a&&d.push(c.id));for(var e=0;e<d.length;e++)this._remove(d[e],!1)},a.prototype._normalizeOptions=function(a){return a=a||{},a.isOverlay=a.isOverlay||!1,a.className=a.className||"",a.hoverMessage=a.hoverMessage||"",a.isWholeLine=a.isWholeLine||!1,a.showInOverviewRuler=a.showInOverviewRuler||null,a},a.prototype._add=function(a,b,c){var d=this.trackedRanges.add(b);c=this._normalizeOptions(c);var e={ownerId:a,id:(++this.lastDecorationId).toString(),rangeId:d,options:c};this.decorations[e.id]=e,this.rangeIdToDecorationId[d]=e.id;var f={};return f[e.id]={},this._emitDecorationsChanged(f),e.id},a.prototype._change=function(a,b){if(this.decorations.hasOwnProperty(a)){var c=this.decorations[a],d=this.trackedRanges.getRange(c.rangeId);this.trackedRanges.change(c.rangeId,b);var e={};e[a]={oldStartLineNumber:d.startLineNumber,oldEndLineNumber:d.endLineNumber},this._emitDecorationsChanged(e)}},a.prototype._changeOptions=function(a,b){b=this._normalizeOptions(b);if(this.decorations.hasOwnProperty(a)){var c=this.decorations[a],d=this.trackedRanges.getRange(c.rangeId);c.options=b;var e={};e[a]={oldStartLineNumber:d.startLineNumber,oldEndLineNumber:d.endLineNumber},this._emitDecorationsChanged(e)}},a.prototype._remove=function(a,b){if(this.decorations.hasOwnProperty(a)){var c=this.decorations[a],d=null;b&&(d=this.trackedRanges.getRange(c.rangeId)),this.trackedRanges.remove(c.rangeId),delete this.rangeIdToDecorationId[c.rangeId],delete this.decorations[a],b&&this.model.emitModelDecorationsChangedEvent([a],[{id:c.id,ownerId:c.ownerId,startLineNumber:d.startLineNumber,endLineNumber:d.endLineNumber}])}},a.prototype._decorationHash=function(a,b){return a.startLineNumber+","+a.startColumn+"-"+a.endLineNumber+","+a.endColumn+"-"+(b.hoverMessage||"")+"-"+(b.className||"")+"-"+(b.isOverlay||!1)+"-"+(b.showInOverviewRuler||null)+"-"+(b.isWholeLine||!1)},a.prototype._delta=function(a,b,c){var d,e,f={},g,h;for(d=0,e=b.length;d<e;d++)this.decorations.hasOwnProperty(b[d])&&(h=this.decorations[b[d]],g=this._decorationHash(this.trackedRanges.getRange(h.rangeId),h.options),f[g]=f[g]||[],f[g].push(b[d]));var i,j,k=[],l={},m,n,o;for(d=0,e=c.length;d<e;d++){o=this.model.validateRange(c[d].range),g=this._decorationHash(o,c[d].options),n=!1;if(f.hasOwnProperty(g)){m=f[g];for(i=0,j=m.length;i<j;i++)if(!l.hasOwnProperty(m[i])){n=!0,l[m[i]]=!0,k.push(m[i]);break}}n||k.push(this._add(a,o,c[d].options))}for(d=0,e=b.length;d<e;d++)l.hasOwnProperty(b[d])||this._remove(b[d],!0);return k},a.prototype.onChangedRanges=function(a){var b={},c,d;for(c in a)a.hasOwnProperty(c)&&this.rangeIdToDecorationId.hasOwnProperty(c)&&(d=this.rangeIdToDecorationId[c],b[d]=a[c],delete a[c]);return this._emitDecorationsChanged(b),a},a.prototype._emitDecorationsChanged=function(a){var b,c,d,e,f,g=[];for(b in a)a.hasOwnProperty(b)&&(d=a[b],c=this.decorations[b],e=this.trackedRanges.getStartLineNumber(c.rangeId),f=this.trackedRanges.getEndLineNumber(c.rangeId),g.push({id:c.id,ownerId:c.ownerId,startLineNumber:e,endLineNumber:f}),d=a[b],(d.oldStartLineNumber||d.oldEndLineNumber)&&g.push({id:c.id,ownerId:c.ownerId,startLineNumber:d.oldStartLineNumber||e,endLineNumber:d.oldEndLineNumber||f}));g.length>0&&this.model.emitModelDecorationsChangedEvent(Object.keys(a),g)},a}();b.ModelDecorations=e}),define("vs/editor/core/model/tokenIterator",["require","exports","vs/editor/editor"],function(a,b,c){var d=c,e=function(){function a(a,b){this._model=a,this._currentLineNumber=b.lineNumber,this._currentTokenIndex=0,this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber),this._next=null,this._prev=null;var c=b.column-1,d=Number.MAX_VALUE;for(var e=this._currentLineTokens.length-1;e>=0;e--){if(this._currentLineTokens[e].startIndex<=c&&c<=d){this._currentTokenIndex=e,this._next=this._current(),this._prev=this._current();break}d=this._currentLineTokens[e].startIndex}}return a.prototype._advanceNext=function(){this._prev=this._next,this._next=null;if(this._currentTokenIndex+1<this._currentLineTokens.length)this._currentTokenIndex++,this._next=this._current();else{while(this._currentLineNumber+1<=this._model.getLineCount()){this._currentLineNumber++,this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber);if(this._currentLineTokens.length>0){this._currentTokenIndex=0,this._next=this._current();break}}this._next===null&&(this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber),this._currentTokenIndex=this._currentLineTokens.length,this._advancePrev(),this._next=null)}},a.prototype._advancePrev=function(){this._next=this._prev,this._prev=null;if(this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else while(this._currentLineNumber>1){this._currentLineNumber--,this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber);if(this._currentLineTokens.length>0){this._currentTokenIndex=this._currentLineTokens.length-1,this._prev=this._current();break}}},a.prototype._current=function(){return{token:this._currentLineTokens[this._currentTokenIndex],lineNumber:this._currentLineNumber,startColumn:this._currentLineTokens[this._currentTokenIndex].startIndex+1,endColumn:this._currentTokenIndex+1<this._currentLineTokens.length?this._currentLineTokens[this._currentTokenIndex+1].startIndex+1:this._model.getLineContent(this._currentLineNumber).length+1}},a.prototype.hasNext=function(){return this._next!==null},a.prototype.next=function(){var a=this._next;return this._advanceNext(),a},a.prototype.hasPrev=function(){return this._prev!==null},a.prototype.prev=function(){var a=this._prev;return this._advancePrev(),a},a.prototype._invalidate=function(){var a=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=a,this.next=a,this.hasPrev=a,this.prev=a},a}();b.TokenIterator=e}),define("vs/editor/modes/nullMode",["require","exports","vs/editor/modes/modes"],function(a,b,c){function g(a,b,c,e,f){typeof e=="undefined"&&(e=0);var g=[{startIndex:e,type:"",bracket:d.Bracket.None}],h=[{startIndex:e,mode:a}];return{tokens:g,actualStopOffset:e+b.length,endState:c,modeTransitions:h}}var d=c,e=function(){function a(a,b){this.mode=a,this.stateData=b}return a.prototype.clone=function(){var b=this.stateData?this.stateData.clone():null;return new a(this.mode,b)},a.prototype.equals=function(a){if(this.mode!==a.getMode())return!1;var b=a.getStateData();return!this.stateData&&!b?!0:this.stateData&&b?this.stateData.equals(b):!1},a.prototype.getMode=function(){return this.mode},a.prototype.tokenize=function(a){return a.advanceToEOS(),{type:""}},a.prototype.getStateData=function(){return this.stateData},a.prototype.setStateData=function(a){this.stateData=a},a}();b.NullState=e;var f=function(){function a(){this.tokenTypeClassificationSupport=this}return a.DEFAULT_WORD_REGEXP=/(-?\d*\.\d\w*)|(\w+)/g,a.prototype.getId=function(){return"vs.editor.modes.nullMode"},a.prototype.bindModel=function(a){},a.prototype.unbindModel=function(a){},a.prototype.getNonWordTokenTypes=function(){return[]},a.prototype.getWordDefinition=function(){return a.DEFAULT_WORD_REGEXP},a}();b.NullMode=f,b.nullTokenize=g}),define("vs/editor/core/model/modelEditOperation",["require","exports","vs/editor/core/range"],function(a,b,c){var d=c,e=function(){function a(){}return a.execute=function(c,d){var e=c.change(function(b){return a._apply(c,b,d.operations)});return{operations:e}},a._apply=function(c,d,e){e.sort(a._compareOperations);for(var f=1;f<e.length;f++)if(e[f-1].range.getStartPosition().isBeforeOrEqual(e[f].range.getEndPosition()))throw new Error("Overlapping ranges are not allowed!");var g=c.getEditableRange(),h=g.getStartPosition(),i=g.getEndPosition();for(var f=0;f<e.length;f++){var j=e[f].range;if(!h.isBeforeOrEqual(j.getStartPosition())||!j.getEndPosition().isBeforeOrEqual(i))throw new Error("Editing outside of editable range not allowed!")}var k=a._applyWithMarkers(c,d,e),l=a._squashMarkers(c,k);l.sort(a._compareOperations);for(var f=1;f<l.length;f++)if(l[f-1].range.getStartPosition().isBeforeOrEqual(l[f].range.getEndPosition()))throw new Error("Inverse edit operations: Overlapping ranges are not allowed!");return l},a._squashMarkers=function(b,c){var e,f,g=[],h,i,j,k,l,m;for(e=0,f=c.length;e<f;e++)m=c[e].identifier,j=c[e].text,h=c[e].selectionStartMarkerId,i=c[e].positionMarkerId,k=b._getMarker(h),l=b._getMarker(i),g.push({identifier:m,range:new d.Range(k.lineNumber,k.column,l.lineNumber,l.column),text:j}),b._removeMarker(h),b._removeMarker(i);return g},a._applyWithMarkers=function(b,c,d){var e=[],f,g,h,i,j,k,l,m,n,o;for(f=0,g=d.length;f<g;f++)o=d[f].identifier,i=d[f].range,h=d[f].text,i.isEmpty()&&!h?(n={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},m=""):(i.isEmpty()?(m="",j={lineNumber:i.startLineNumber,column:i.startColumn}):(l=c.deleteText(i),m=l.deletedText,j=l.position),h?(k=c.insertText(j,h),n={startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:k.lineNumber,endColumn:k.column}):n={startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:j.lineNumber,endColumn:j.column}),e.push({identifier:o,text:m,selectionStartMarkerId:b._addMarker(n.startLineNumber-1,n.startColumn,"start"),positionMarkerId:b._addMarker(n.endLineNumber-1,n.endColumn,"end")});return e},a._compareOperations=function(b,c){return-d.RangeUtils.compareRangesUsingEnds(b.range,c.range)},a}();b.ModelEditOperation=e}),define("vs/editor/core/model/editStack",["require","exports","vs/editor/core/model/modelEditOperation"],function(a,b,c){var d=c,e=function(){function a(a){this.model=a,this.currentOpenStackElement=null,this.past=[],this.future=[]}return a.prototype.pushStackElement=function(){this.currentOpenStackElement!==null&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},a.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},a.prototype.pushEditOperation=function(a,b,c){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeCursorState:a,editOperations:[],afterCursorState:null});var e=d.ModelEditOperation.execute(this.model,{operations:b});return this.currentOpenStackElement.editOperations.push(e),this.currentOpenStackElement.afterCursorState=c?c(e.operations):null,this.currentOpenStackElement.afterCursorState},a.prototype.undo=function(){this.pushStackElement();if(this.past.length>0){var a=this.past.pop();for(var b=a.editOperations.length-1;b>=0;b--)a.editOperations[b]=d.ModelEditOperation.execute(this.model,a.editOperations[b]);return this.future.push(a),a.beforeCursorState}return null},a.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var a=this.future.pop();for(var b=0;b<a.editOperations.length;b++)a.editOperations[b]=d.ModelEditOperation.execute(this.model,a.editOperations[b]);return this.past.push(a),a.afterCursorState}return null},a}();b.EditStack=e});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/model/model",["require","exports","vs/base/strings","vs/base/objects","vs/base/network","vs/editor/core/constants","vs/base/eventEmitter","vs/editor/core/position","vs/editor/core/range","vs/base/performance/timer","./trackedRanges","./modelDecorations","./tokenIterator","vs/platform/markers/markers","vs/editor/modes/nullMode","vs/editor/core/model/editStack","vs/platform/services","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=c,t=d,u=e,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=0,J=1e3,K=5e4,L=65279,M=8232,N="\r".charCodeAt(0),O="\n".charCodeAt(0),P=function(){function a(a,b,c){typeof b=="undefined"&&(b=!1),typeof c=="undefined"&&(c=[]),this.text=a,this.state=null,this.tokens=null,this.modeTransitions=null,this.isInvalid=!1,this.isGluedToNext=b,this.markers=c}return a}(),Q=function(a){function b(b,c,d,e){typeof d=="undefined"&&(d=null),typeof e=="undefined"&&(e=null),a.call(this),this.markerService=null,this.injectorService=e,e&&e.injectTo(this);var f=z.start(z.Topic.EDITOR,"Model.ctor");I++,this.id="$model"+I,this._versionId=1;if(typeof d=="undefined"||d===null)d=new u.URL("inMemory://localhost/vs/editor/core/model/"+I);this.associatedResource=d,this.markerDecorationIds=[],this.commandManager=new F.EditStack(this),this.lines=this._constructLines(b),this.linesLength=this.lines.length,!c||this.linesLength>K?this.mode=new E.NullMode:this.mode=c,this.isUndoing=!1,this.isRedoing=!1,this.mode.tokenizationSupport?this.lines[0].state=this.mode.tokenizationSupport.getInitialState():this.lines[0].state=new E.NullState(this.mode,null),this.lastState=null,this.revalidateTokensTimeout=-1,this.invalidLineStartIndex=0,this.trackedRanges=new A.TrackedRanges(this),this.modelDecorations=new B.ModelDecorations(this,this.trackedRanges),this.lastMarkerId=0,this.markerIdToLineIndex={},this._hasEditableRange=!1,this._editableRangeId=null,this.workerBind(),this._beginBackgroundTokenization(),this.extraProperties={},this.addWordRegExpProperty(),f.stop()}return __extends(b,a),b.prototype.destroy=function(){this.workerUnbind(),this.revalidateTokensTimeout!==-1&&window.clearTimeout(this.revalidateTokensTimeout)},b.prototype.setEditableRange=function(a){this.commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),a&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(a))},b.prototype.hasEditableRange=function(){return this._hasEditableRange},b.prototype.getEditableRange=function(){if(this._hasEditableRange)return this.getTrackedRange(this._editableRangeId);var a=this.getLineCount();return new y.Range(1,1,a,this.getLineMaxColumn(a))},b.prototype.workerBind=function(){this.mode.bindModel(this)},b.prototype.workerUnbind=function(){this.mode.unbindModel(this)},b.prototype.getVersionId=function(){return this._versionId},b.prototype.getAssociatedResource=function(){return this.associatedResource},b.prototype.injectMarkerService=function(a){this.markerService=a},b.prototype.setValue=function(a,b){typeof b=="undefined"&&(b=null),this.lines=this._constructLines(a),this.linesLength=this.lines.length,this.linesLength>K&&(b=new E.NullMode);var c=!1;b&&b!==this.mode&&(c=!0,this.workerUnbind(),this.mode=b),this.commandManager=new F.EditStack(this),this.mode.tokenizationSupport?this.lines[0].state=this.mode.tokenizationSupport.getInitialState():this.lines[0].state=new E.NullState(this.mode,null),this.lastState=null,this.revalidateTokensTimeout!==-1&&(window.clearTimeout(this.revalidateTokensTimeout),this.revalidateTokensTimeout=-1),this.invalidLineStartIndex=0,this.modelDecorations.clear(),this.trackedRanges.clear(),this.markerIdToLineIndex={},this._hasEditableRange=!1,this._editableRangeId=null,this._versionId++,this.emitModelContentChangedFlushEvent(c),c&&this.workerBind(),this._beginBackgroundTokenization()},b.prototype.addWordRegExpProperty=function(){var a=this.massageWordDefinitionOf(this.mode);this.setProperty("$WordDefinitionForMirrorModel",{source:a.source,flags:(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")})},b.prototype.getEndOfLine=function(a){switch(a){case H.EndOfLinePreference.LF:return"\n";case H.EndOfLinePreference.CRLF:return"\r\n";case H.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},b.prototype.getValue=function(a,b){typeof b=="undefined"&&(b=!1);var c={startLineNumber:1,startColumn:1,endLineNumber:this.linesLength,endColumn:this.getLineMaxColumn(this.linesLength)};return b?this.BOM+this.getValueInRange(c,a):this.getValueInRange(c,a)},b.prototype.getValueInRange=function(a,b){typeof b=="undefined"&&(b=H.EndOfLinePreference.TextDefined);var c=this.validateRange(a);if(c.isEmpty())return"";if(c.startLineNumber===c.endLineNumber)return this.lines[c.startLineNumber-1].text.substring(c.startColumn-1,c.endColumn-1);var d=this.getEndOfLine(b),e=c.startLineNumber-1,f=c.endLineNumber-1,g=this.lines[e],h=this.lines[f],i,j,k,l=[];i=g.text.substring(c.startColumn-1,g.text.length),j=g.isGluedToNext;for(var m=e+1;m<f;m++)k=this.lines[m],j?i+=String.fromCharCode(M)+k.text:(l.push(i),i=k.text),j=k.isGluedToNext;return j?l.push(i+String.fromCharCode(M)+h.text.substring(0,c.endColumn-1)):(l.push(i),l.push(h.text.substring(0,c.endColumn-1))),l.join(d)},b.prototype.setProperty=function(a,b){this.extraProperties[a]=b,this.emitModelPropertiesChangedEvent()},b.prototype.getProperty=function(a){return this.extraProperties.hasOwnProperty(a)?this.extraProperties[a]:null},b.prototype.getProperties=function(){return t.clone(this.extraProperties)},b.prototype.getMode=function(){return this.mode},b.prototype.getLineCount=function(){return this.linesLength},b.prototype.getLineContent=function(a){return this.lines[a-1].text},b.prototype.getEOL=function(){return this.EOL},b.prototype.getLineMaxColumn=function(a){return this.lines[a-1].text.length+1},b.prototype.getLineFirstNonWhitespaceColumn=function(a){var b=s.firstNonWhitespaceIndex(this.lines[a-1].text);return b===-1?0:b+1},b.prototype.getLineLastNonWhitespaceColumn=function(a){var b=s.lastNonWhitespaceIndex(this.lines[a-1].text);return b===-1?0:b+2},b.prototype.getLineTokens=function(a){return this._updateTokensUntilLine(a),this.lines[a-1].tokens.slice(0)},b.prototype.getRawLineTokens=function(a){return this._updateTokensUntilLine(a),{tokens:this.lines[a-1].tokens.slice(0),modeTransitions:this.lines[a-1].modeTransitions.slice(0),endState:a<this.linesLength?this.lines[a-1].state:this.lastState,actualStopOffset:0}},b.prototype.getLineModeTransitions=function(a){return this._updateTokensUntilLine(a),this.lines[a-1].modeTransitions},b.prototype.getStateBeforeLine=function(a){return this._updateTokensUntilLine(a-1),this.lines[a-1].state},b.prototype.getStateAfterLine=function(a){return this._updateTokensUntilLine(a),a<this.linesLength?this.lines[a-1].state:this.lastState},b.prototype.getModeAtPosition=function(a,b){if(b===1)return this.getStateBeforeLine(a).getMode();if(b===this.getLineMaxColumn(a))return this.getStateAfterLine(a).getMode();var c=this.getLineModeTransitions(a),d=b-1,e=0,f=c.length-1,g;while(e<f)g=e+Math.ceil((f-e)/2),c[g].startIndex>d?f=g-1:e=g;return c[e].mode},b.prototype.pushStackElement=function(){this.commandManager.pushStackElement()},b.prototype.pushEditOperations=function(a,b,c){return this.commandManager.pushEditOperation(a,b,c)},b.prototype.undo=function(){this.isUndoing=!0;var a=this.commandManager.undo();return this.isUndoing=!1,a},b.prototype.redo=function(){this.isRedoing=!0;var a=this.commandManager.redo();return this.isRedoing=!1,a},b.prototype.change=function(a){var b=this;return this.deferredEmit(function(){var c={},d={insertText:function(a,d,e){return typeof e=="undefined"&&(e=!1),b._insertText(c,a,d,e)},deleteText:function(a){return b._deleteText(c,a)}},e=a(d);d.insertText=null,d.deleteText=null;var f=b.trackedRanges.onChangedMarkers(c);return b.modelDecorations.onChangedRanges(f),e})},b.prototype.addTrackedRange=function(a){return this.trackedRanges.add(a)},b.prototype.changeTrackedRange=function(a,b){this.trackedRanges.change(a,b)},b.prototype.removeTrackedRange=function(a){this.trackedRanges.remove(a)},b.prototype.getTrackedRange=function(a){return this.trackedRanges.getRange(a)},b.prototype.changeDecorations=function(a,b){typeof b=="undefined"&&(b=0);var c=this;return this.deferredEmit(function(){return c.modelDecorations.change(b,a)})},b.prototype.deltaDecorations=function(a,b,c){typeof c=="undefined"&&(c=0);var d=this;return this.deferredEmit(function(){return d.modelDecorations.change(c,function(c){return c.deltaDecorations(a,b)})})},b.prototype.removeAllDecorationsWithOwnerId=function(a){this.modelDecorations.removeAllDecorationsWithOwnerId(a)},b.prototype.getDecorationOptions=function(a){return this.modelDecorations.getOptions(a)},b.prototype.getDecorationRange=function(a){return this.modelDecorations.getRange(a)},b.prototype.getLineDecorations=function(a,b,c){return typeof b=="undefined"&&(b=0),typeof c=="undefined"&&(c=!1),this.getLinesDecorations(a,a,b,c)},b.prototype.getLinesDecorations=function(a,b,c,d){typeof c=="undefined"&&(c=0),typeof d=="undefined"&&(d=!1);var e=this.modelDecorations.getLinesDecorations(a,b,c);return d?this._filterOutValidationDecorations(e):e},b.prototype._filterOutValidationDecorations=function(a){var b=[],c,d,e;for(c=0,d=a.length;c<d;c++)e=a[c].options.className,e!==v.ClassName.EditorErrorDecoration&&e!==v.ClassName.EditorWarningDecoration&&b.push(a[c]);return b},b.prototype.getAllDecorations=function(a,b){typeof a=="undefined"&&(a=0),typeof b=="undefined"&&(b=!1);var c=this.modelDecorations.getAll(a);return b?this._filterOutValidationDecorations(c):c},b.prototype.onBeforeViewAttached=function(){this.emitModelOnBeforeViewAttachedEvent()},b.prototype._constructLines=function(a){var b=0;this.BOM="",a.length>0&&a.charCodeAt(0)===L&&(this.BOM=a.charAt(0),b=1);var c,d=-1,e,f,g=0,h=0,i,j=[];h=b;for(c=b,f=a.length;c<f;c++)e=a.charCodeAt(c),e===O?(d===N?(g++,i=a.substring(h,c-1)):i=a.substring(h,c),h=c+1,j.push(new P(i))):e===M&&(i=a.substring(h,c),h=c+1,j.push(new P(i,!0))),d=e;j.push(new P(a.substring(h)));var k=j.length-1;return this.EOL="",k===0||g>k/2?this.EOL="\r\n":this.EOL="\n",j},b.prototype.massageWordDefinitionOf=function(a){var b=E.NullMode.DEFAULT_WORD_REGEXP;if(a.tokenTypeClassificationSupport){b=a.tokenTypeClassificationSupport.getWordDefinition();if(b instanceof RegExp){if(!b.global){var c="g";b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),b=new RegExp(b.source,c)}}else b=E.NullMode.DEFAULT_WORD_REGEXP}return b.lastIndex=0,b},b.prototype._iterateWords=function(a,b,c){var d=this.getLineContent(a),e=this.getStateBeforeLine(a),f=this.getLineTokens(a),g=this.getLineModeTransitions(a),h,i,j,k,l,m={};if(b&&this.mode.tokenTypeClassificationSupport){var n=this.mode.tokenTypeClassificationSupport.getNonWordTokenTypes();for(h=0,j=n.length;h<j;h++)m[n[h]]=!0}if(d.length!==0){var o=0,p=o+1<g.length?g[o+1].startIndex:d.length,q=this.massageWordDefinitionOf(g[o].mode);for(h=0,i=0,j=f.length;h<j;h++){l=h===j-1?d.length:f[h+1].startIndex,i>=p&&(o++,p=o+1<g.length?g[o+1].startIndex:d.length,q=this.massageWordDefinitionOf(g[o].mode));if(!b||!m.hasOwnProperty(f[h].type)){var r=d.substring(i,l),s=r.match(q)||[],t,u=0;for(k=0;k<s.length;k++){var v=s[k].trim();if(v.length>0){t=r.indexOf(v,u),u=t+v.length;var w=c({start:i+t,end:i+u},d);if(w)return w}}}i=l}}},b.prototype.getWordAtPosition=function(a,b){var c=a.column-1,d=this._iterateWords(a.lineNumber,b,function(a,b){return a.start<=c&&c<=a.end?{word:b.substring(a.start,a.end),startColumn:a.start+1,endColumn:a.end+1}:null});return d||null},b.prototype.getWords=function(a,b){var c=[];return this._iterateWords(a,b,function(a){c.push(a)}),c},b.prototype.findMatches=function(a,b,c,d){if(a==="")return[];var e=null;try{e=s.createRegExp(a,b,c,d)}catch(f){return[]}if(s.regExpLeadsToEndlessLoop(e))return[];var g=[],h=0;for(var i=0;i<this.linesLength;i++){var j,k=this.lines[i].text;do j=e.exec(k),j&&(g.push(new y.Range(i+1,j.index+1,i+1,j.index+1+j[0].length)),h++,h>J&&(j=null,i=this.linesLength));while(j)}return g},b.prototype._addMarker=function(a,b,c){var d=this.validatePosition(new x.Position(a+1,b)),e={id:(++this.lastMarkerId).toString(),column:d.column,type:c};return this.lines[d.lineNumber-1].markers.push(e),this.markerIdToLineIndex[e.id]=d.lineNumber-1,e.id},b.prototype.__findMarkerInMarkersArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c].id===b)return c;return-1},b.prototype._changeMarker=function(a,b,c){if(this.markerIdToLineIndex.hasOwnProperty(a)){var d=this.markerIdToLineIndex[a],e=this.lines[d].markers,f=this.__findMarkerInMarkersArray(e,a);if(f>=0){var g=e[f],h=this.validatePosition(new x.Position(b+1,c));h.lineNumber-1!==d&&(e.splice(f,1),this.lines[h.lineNumber-1].markers.push(g),this.markerIdToLineIndex[g.id]=h.lineNumber-1),g.column=h.column}}},b.prototype._getMarker=function(a){if(this.markerIdToLineIndex.hasOwnProperty(a)){var b=this.markerIdToLineIndex[a],c=this.lines[b].markers,d=this.__findMarkerInMarkersArray(c,a);if(d>=0)return{lineNumber:b+1,column:c[d].column}}return null},b.prototype._getMarkerLineNumber=function(a){return this.markerIdToLineIndex.hasOwnProperty(a)?this.markerIdToLineIndex[a]+1:-1},b.prototype._getLineMarkers=function(a){return this.lines[a-1].markers.slice(0)},b.prototype._removeMarker=function(a){if(this.markerIdToLineIndex.hasOwnProperty(a)){var b=this.markerIdToLineIndex[a],c=this.lines[b].markers,d=this.__findMarkerInMarkersArray(c,a);d>=0&&c.splice(d,1),delete this.markerIdToLineIndex[a]}},b.prototype.validatePosition=function(a){var b=a.lineNumber?a.lineNumber:1,c=a.column?a.column:1;b<1&&(b=1),b>this.linesLength&&(b=this.linesLength),c<1&&(c=1);var d=this.getLineMaxColumn(b);return c>d&&(c=d),new x.Position(b,c)},b.prototype.validateRange=function(a){var b=this.validatePosition(new x.Position(a.startLineNumber,a.startColumn)),c=this.validatePosition(new x.Position(a.endLineNumber,a.endColumn));return new y.Range(b.lineNumber,b.column,c.lineNumber,c.column)},b.prototype._sign=function(a){return a<0?-1:a>0?1:0},b.prototype._findMatchingBracketUp=function(a,b,c,d){var e,f,g,h,i=d;for(e=b;e>=0;e--){f=this.lines[e];for(h=(e===b?c:f.tokens.length)-1;h>=0;h--)if(f.tokens[h].type===a){i+=this._sign(f.tokens[h].bracket);if(i===0)return g=h===f.tokens.length-1?f.text.length:f.tokens[h+1].startIndex,new y.Range(e+1,f.tokens[h].startIndex+1,e+1,g+1)}}return null},b.prototype._findMatchingBracketDown=function(a,b,c){var d,e,f,g,h,i,j=1;for(d=b,f=this.linesLength;d<f;d++){this._updateTokensUntilLine(d+1),e=this.lines[d];for(h=d===b?c+1:0,i=e.tokens.length;h<i;h++)if(e.tokens[h].type===a){j+=this._sign(e.tokens[h].bracket);if(j===0)return g=h===e.tokens.length-1?e.text.length:e.tokens[h+1].startIndex,new y.Range(d+1,e.tokens[h].startIndex+1,d+1,g+1)}}return null},b.prototype.tokenIterator=function(a,b){var c=new C.TokenIterator(this,this.validatePosition(a)),d=b(c);return c._invalidate(),d},b.prototype.findMatchingBracketUp=function(a,b){this._updateTokensUntilLine(b.lineNumber);var c=this.lines[b.lineNumber-1],d,e,f,g,h=b.column-1,i=-1;for(d=0,e=c.tokens.length;i===-1&&d<e;d++)f=c.tokens[d],g=d===e-1?c.text.length:c.tokens[d+1].startIndex,f.startIndex<=h&&h<=g&&(i=d);return this._findMatchingBracketUp(a,b.lineNumber-1,i+1,0)},b.prototype.matchBracket=function(a){var b=z.start(z.Topic.EDITOR,"Model.matchBracket");this._updateTokensUntilLine(a.lineNumber);var c=this.lines[a.lineNumber-1],d,e,f=null;if(c.text.length>0){var g=a.column-1,h,i,j;for(d=0,e=c.tokens.length;f===null&&d<e;d++)h=c.tokens[d],i=d===e-1?c.text.length:c.tokens[d+1].startIndex,h.startIndex<=g&&g<=i&&(h.bracket<0&&(j=this._findMatchingBracketUp(h.type,a.lineNumber-1,d,-1),j&&(f=[new y.Range(a.lineNumber,h.startIndex+1,a.lineNumber,i+1),j])),f===null&&h.bracket>0&&(j=this._findMatchingBracketDown(h.type,a.lineNumber-1,d),j&&(f=[new y.Range(a.lineNumber,h.startIndex+1,a.lineNumber,i+1),j])))}return b.stop(),f},b.prototype._revalidateTokensNow=function(){this.revalidateTokensTimeout=-1;if(this.invalidLineStartIndex<this.linesLength){var a=z.start(z.Topic.EDITOR,"Model.revalidateTokens");this._updateTokensUntilLine(Math.min(this.linesLength,this.invalidLineStartIndex+1e3)),this._beginBackgroundTokenization(),a.stop()}},b.prototype._beginBackgroundTokenization=function(){var a=this;this.revalidateTokensTimeout===-1&&(this.revalidateTokensTimeout=window.setTimeout(function(){a._revalidateTokensNow()},300))},b.prototype.updateLineTokens=function(a,b){this.lines[a].tokens=b.tokens},b.prototype._updateTokensUntilLine=function(a){var b=this.linesLength,c=a-1;for(var d=this.invalidLineStartIndex;d<=c;d++){var e=d+1,f,g=this.lines[d].text;this.mode.tokenizationSupport?(f=this.mode.tokenizationSupport.tokenize(this.lines[d].text,this.lines[d].state,0,v.STOP_LINE_TOKENIZATION_AFTER),f.actualStopOffset<g.length&&(f.tokens.push({startIndex:f.actualStopOffset,type:"",bracket:0}),f.endState=this.lines[d].state)):f=E.nullTokenize(this.mode,g,this.lines[d].state),this.updateLineTokens(d,f),this.lines[d].modeTransitions=f.modeTransitions,this.lines[d].isInvalid&&(this.lines[d].isInvalid=!1);if(e<b)if(this.lines[e].state!==null&&f.endState.equals(this.lines[e].state)){var h=d+1;while(h<b){if(this.lines[h].isInvalid)break;if(h+1<b){if(this.lines[h+1].state===null)break}else if(this.lastState===null)break;h++}this.invalidLineStartIndex=Math.max(this.invalidLineStartIndex,h),d=h-1}else this.lines[e].state=f.endState;else this.lastState=f.endState}this.invalidLineStartIndex=Math.max(this.invalidLineStartIndex,c+1)},b.prototype._changeLine=function(a,b){this.lines[a].text=b,this._invalidateLine(a),this._versionId++,this.emitModelContentChangedLineChangedEvent(a+1)},b.prototype._invalidateLine=function(a){this.lines[a].isInvalid=!0,a<this.invalidLineStartIndex&&(this.invalidLineStartIndex<this.linesLength&&(this.lines[this.invalidLineStartIndex].isInvalid=!0),this.invalidLineStartIndex=a,this._beginBackgroundTokenization())},b.prototype._beforeMarkerChange=function(a,b){if(!b.hasOwnProperty(a.id)){var c={id:a.id,oldLineIndex:this.markerIdToLineIndex[a.id],oldColumn:a.column};b[a.id]=c}},b.prototype._shouldMoveMarkerOnTextInsert=function(a,b,c,d){return b>c?!0:b===c?d||a==="end":!1},b.prototype._insertTextOneLine=function(a,b,c,d){var e=b.lineNumber-1,f=b.column,g=this.lines[e],h=g.text;this._changeLine(e,h.substring(0,f-1)+c+h.substring(f-1,h.length));var i=new x.Position(e+1,f+c.length),j;for(var k=0,l=g.markers.length;k<l;k++)j=g.markers[k],this._shouldMoveMarkerOnTextInsert(j.type,j.column,f,d)&&(this._beforeMarkerChange(j,a),j.column+=c.length);return i},b.prototype._insertTextMultiline=function(a,b,c,d){var e=b.lineNumber-1,f=b.column,g,h,i=this.lines[e].text,j=i.substring(f-1,i.length);this._changeLine(e,i.substring(0,f-1)+c[0]);var k="";for(g=1,h=c.length-1;g<h;g++)k+=c[g]+"\n",this.lines.splice(e+g,0,new P(c[g]));var l=e+c.length-1,m=c[c.length-1],n=m+j,o=[];this.lines.splice(l,0,new P(n,!1,o)),this.linesLength=this.lines.length;var p=this.lines[e].markers,q;for(g=0;g<p.length;g++)q=p[g],this._shouldMoveMarkerOnTextInsert(q.type,q.column,f,d)&&(this._beforeMarkerChange(q,a),p.splice(g,1),o.push(q),q.column+=m.length-f+1,this.markerIdToLineIndex[q.id]=l,g--);var r,s,t;for(g=l+1;g<this.linesLength;g++){t=this.lines[g].markers;for(r=0,s=t.length;r<s;r++)q=t[r],this._beforeMarkerChange(q,a),this.markerIdToLineIndex[q.id]=g}return c.length>1&&(this._versionId++,this.emitModelContentChangedLinesInsertedEvent(e+2,l+1,k+n)),new x.Position(l+1,1+m.length)},b.prototype._insertText=function(a,b,c,d){var e=this.validatePosition(b);if(c.length===0)return e;var f=c.split("\n");for(var g=0,h=f.length;g<h;g++)f[g].charAt(f[g].length-1)==="\r"&&(f[g]=f[g].substring(0,f[g].length-1));return f.length===1?this._insertTextOneLine(a,e,f[0],d):this._insertTextMultiline(a,e,f,d)},b.prototype._deleteTextOneLine=function(a,b){var c=b.startLineNumber-1,d=this.lines[c],e=this.lines[c].text,f=e.substring(b.startColumn-1,b.endColumn-1);this._changeLine(c,e.substring(0,b.startColumn-1)+e.substring(b.endColumn-1,e.length));var g;for(var h=0,i=d.markers.length;h<i;h++)g=d.markers[h],g.column>=b.endColumn?(this._beforeMarkerChange(g,a),g.column-=b.endColumn-b.startColumn):g.column>=b.startColumn&&(this._beforeMarkerChange(g,a),g.column=b.startColumn);return{position:new x.Position(b.startLineNumber,b.startColumn),deletedText:f}},b.prototype._deleteTextMultiline=function(a,b){var c=b.startLineNumber-1,d=b.endLineNumber-1,e=this.lines[d],f=e.text,g=f.substring(b.endColumn-1,f.length),h=this.lines[c],i=h.text;this._changeLine(c,i.substring(0,b.startColumn-1)+g);var j,k,l=i.substring(b.startColumn-1,i.length);for(j=c+1;j<d;j++)l+="\n"+this.lines[j].text;l+="\n"+f.substring(0,b.endColumn-1);var m=d-c,n=this.lines.splice(c+1,m);this.linesLength=this.lines.length;var o;for(j=0,k=h.markers.length;j<k;j++)o=h.markers[j],o.column>b.startColumn&&(this._beforeMarkerChange(o,a),o.column=b.startColumn);for(j=0;j<e.markers.length;j++)o=e.markers[j],o.column>=b.endColumn&&(this._beforeMarkerChange(o,a),e.markers.splice(j,1),h.markers.push(o),o.column-=b.endColumn-b.startColumn,this.markerIdToLineIndex[o.id]=c,j--);var p=[];for(j=0,k=n.length;j<k;j++)p=p.concat(n[j].markers);for(j=0,k=p.length;j<k;j++)o=p[j],this._beforeMarkerChange(o,a),o.column=b.startColumn,this.markerIdToLineIndex[o.id]=c;h.markers=h.markers.concat(p);var q,r,s;for(j=c+1;j<this.linesLength;j++){s=this.lines[j].markers;for(q=0,r=s.length;q<r;q++)o=s[q],this._beforeMarkerChange(o,a),this.markerIdToLineIndex[o.id]=j}return this._versionId++,this.emitModelContentChangedLinesDeletedEvent(c+2,d+1),{position:new x.Position(b.startLineNumber,b.startColumn),deletedText:l}},b.prototype._deleteText=function(a,b){var c=this.validateRange(b);return c.isEmpty()?{position:new x.Position(c.startLineNumber,c.startColumn),deletedText:""}:c.startLineNumber===c.endLineNumber?this._deleteTextOneLine(a,c):this._deleteTextMultiline(a,c)},b.prototype._publishMarkerSet=function(a){var b=null;this.markerService!==null?(this.markerService.change(function(b){b.processMarkerSet(a)}),b=this.markerService.getMarkerSet(new u.URL(a.resource))):b=D.MarkerSet.fromJson(a);var c=[];if(b!==null){var d=b.getMarkers();for(var e=0;e<d.length;e++){var f=d[e];typeof f.range=="object"&&c.push({range:f.range,options:this._createDecorationOption(f)})}}this.markerDecorationIds=this.deltaDecorations(this.markerDecorationIds,c)},b.prototype._createDecorationOption=function(a){var b=a.severity===D.Severity.Error;return{isOverlay:!0,className:b?v.ClassName.EditorErrorDecoration:v.ClassName.EditorWarningDecoration,hoverMessage:a.text,showInOverviewRuler:b?"rgba(255,18,18,0.7)":"rgba(18,136,18,0.7)",glyphMarginClassName:b?"glyph-error":"glyph-warning"}},b.prototype.emitModelContentChangedFlushEvent=function(a){var b={changeType:v.EventType.ModelContentChangedFlush,detail:this.getValue(H.EndOfLinePreference.LF),modeChanged:a,versionId:this._versionId,isUndoing:!1,isRedoing:!1};this.emit(v.EventType.ModelContentChanged,b)},b.prototype.emitModelContentChangedLineChangedEvent=function(a){var b={changeType:v.EventType.ModelContentChangedLineChanged,lineNumber:a,detail:this.lines[a-1].text,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(v.EventType.ModelContentChanged,b)},b.prototype.emitModelContentChangedLinesDeletedEvent=function(a,b){var c={changeType:v.EventType.ModelContentChangedLinesDeleted,fromLineNumber:a,toLineNumber:b,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(v.EventType.ModelContentChanged,c)},b.prototype.emitModelContentChangedLinesInsertedEvent=function(a,b,c){var d={changeType:v.EventType.ModelContentChangedLinesInserted,fromLineNumber:a,toLineNumber:b,detail:c,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(v.EventType.ModelContentChanged,d)},b.prototype.emitModelPropertiesChangedEvent=function(){var a={properties:this.extraProperties};this.emit(v.EventType.ModelPropertiesChanged,a)},b.prototype.emitModelOnBeforeViewAttachedEvent=function(){var a={};this.emit(v.EventType.ModelOnBeforeViewAttached,a)},b.prototype.emitModelDecorationsChangedEvent=function(a,b){var c={ids:a,affectedDecorationData:b};this.emit(v.EventType.ModelDecorationsChanged,c)},b}(w.EventEmitter);b.Model=Q});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/core/model/terminalModel",["require","exports","./model","vs/editor/core/position","vs/editor/core/range","vs/editor/modes/modes","vs/editor/editor"],function(a,b,c,d,e,f,g){var h=c,i=d,j=e,k=f,l=g,m=function(){function a(){}return a._quickStream=function(b){var c=0,d=b.length;return{next:function(){if(c>=d)return null;var a=b.charAt(c);return c++,a},saveState:function(){return c},restoreState:function(a){c=a},peek:function(){return c>=d?null:b.charAt(c)},eob:function(){return c>=d}}},a.parse=function(b){var c="",d=0,e=this._quickStream(b),f=[];while(!e.eob()){var g=e.next();if(g==="\r")continue;if(g.charCodeAt(0)===27){var h=e.saveState();if(e.next()==="["){var i=null,j=e.next();j>="0"&&j<="9"&&(i=j,j=e.next()),j>="0"&&j<="9"&&(i+=j,j=e.next()),i===null&&(i="0");if(j==="m"){f.push({offset:d,code:i});continue}if(j==="K"||j==="G")continue}e.restoreState(h)}c+=g,d++}return{parsedText:c,escapeSequences:f}},a}(),n=function(a){function b(b,c,d,e){typeof d=="undefined"&&(d=null),typeof e=="undefined"&&(e=null);var f=m.parse(b);a.call(this,f.parsedText,c,d,e),this.promptText="",this.colorRanges=[],this.addColorRanges(0,f.escapeSequences),this.didFindCarriageReturn=!1}return __extends(b,a),b.prototype.setValue=function(b,c){typeof c=="undefined"&&(c=null);var d=m.parse(b);a.prototype.setValue.call(this,d.parsedText,c),this.colorRanges=[],this.addColorRanges(0,d.escapeSequences)},b.prototype.appendOutput=function(a){var b=this,c=this.getEditableRange();this.change(function(d){var e=c.getStartPosition(),f=0,g=0;while(g<a.length)a.charAt(g)==="\r"&&(e=d.insertText(e,a.substring(f,g),!0),f=g+1,b.didFindCarriageReturn=!0),g++;d.insertText(e,a.substring(f,g),!0)})},b.prototype.setPromptText=function(a){this.promptText=a||""},b.prototype.appendPrompt=function(){var a=this.promptText,b=this.getLineContent(this.getLineCount());b!==""&&(a="\n"+a),this.appendOutput(a)},b.prototype.replacePrompt=function(a){var b=this,c=this.getEditableRange();this.promptText&&this.promptText!==a&&c.startColumn>this.promptText.length&&this.change(function(d){var e=d.deleteText(new j.Range(c.startLineNumber,c.startColumn-b.promptText.length,c.startLineNumber,c.startColumn));d.insertText(e.position,a,!0)}),this.setPromptText(a)},b.prototype._insertText=function(b,c,d,e){var f=m.parse(d),g=this.getOffsetFromPosition(c);this.didFindCarriageReturn&&f.parsedText.length>0&&(f.parsedText[0]!=="\n"&&(c=this._deleteText(b,new j.Range(c.lineNumber,1,c.lineNumber,c.column)).position),this.didFindCarriageReturn=!1);var h=a.prototype._insertText.call(this,b,c,f.parsedText,e);return this.addColorRanges(g,f.escapeSequences),h},b.prototype.addColorRanges=function(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];if(c){var f=this.getPositionFromOffset(a+c.offset),g=this.getPositionFromOffset(a+e.offset);this.colorRanges.push({range:new j.Range(f.lineNumber,f.column,g.lineNumber,g.column),colorCode:c.code})}e.code==="0"?c=null:c=e}this.colorRanges.sort(function(a,b){return a.range.startLineNumber===b.range.startLineNumber?a.range.startColumn-b.range.startColumn:a.range.startLineNumber-b.range.startLineNumber})},b.prototype.getPositionFromOffset=function(a){var b=0;for(var c=1,d=this.getLineCount();c<=d;c++){b+=this.getLineContent(c).length+1;if(b>a){var e=b-(this.getLineContent(c).length+1);return new i.Position(c,a-e+1)}}return new i.Position(d,this.getLineMaxColumn(d))},b.prototype.getOffsetFromPosition=function(a){return this.getLineStartOffset(a.lineNumber)+a.column-1},b.prototype.getLineStartOffset=function(a){var b=0;for(var c=1,d=Math.min(a,this.getLineCount())-1;c<=d;c++)b+=this.getLineContent(c).length+1;return b},b.prototype.updateLineTokens=function(a,b){var c=b.tokens;if(c.length===1){var d=[],e=a+1,f=this.getLineMaxColumn(e);for(var g=0;g<this.colorRanges.length;g++){var h=this.colorRanges[g].range;if(h.startLineNumber>e)continue;if(h.endLineNumber<e)continue;var i=e===h.startLineNumber?h.startColumn:1,j=e===h.endLineNumber?h.endColumn:f;i!==j&&d.push({startColumn:i,endColumn:j,code:this.colorRanges[g].colorCode})}if(d.length>0){d.sort(function(a,b){return a.startColumn-b.startColumn}),c=[];for(var g=0;g<d.length;g++){var l=d[g];c.push({startIndex:l.startColumn-1,type:"meta.code"+l.code+".terminal",bracket:k.Bracket.None});if(l.endColumn!==this.getLineMaxColumn(a+1)){var m=-1;g+1<d.length&&(m=d[g+1].startColumn-1),l.endColumn-1<m&&c.push({startIndex:l.endColumn-1,type:"",bracket:k.Bracket.None})}}c[0].startIndex!==0&&c.unshift({startIndex:0,type:"",bracket:k.Bracket.None})}}this.lines[a].tokens=c},b}(h.Model);b.TerminalModel=n}),define("vs/base/injector",["require","exports","vs/base/objects","vs/base/assert","vs/base/types"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function a(){this.map={},this.parent=null}return a.inject="inject",a.len=a.inject.length,a.injectLocator="injectLocator",a.prototype.setParent=function(a){this.parent=a},a.prototype.registerService=function(a,b){return g.ok(!h.isUndefinedOrNull(a)),g.ok(!h.isUndefinedOrNull(b)),this.map[a]=b,b},a.prototype.injectTo=function(b){var c=this;g.ok(!h.isUndefinedOrNull(b));if(h.isArray(b)){b.forEach(function(a){c.injectTo(a)});return}if(h.isFunction(b[a.injectLocator])){var d=b[a.injectLocator],e=this.buildLocator();d.apply(b,[e])}else for(var f in b){if(f.indexOf(a.inject)!==0)continue;var d=b[f];if(!h.isFunction(d))continue;f=f.substring(a.len,a.len+1).toLowerCase()+f.substring(a.len+1);var i=this.findService(f,b);if(h.isUndefinedOrNull(i))continue;d.apply(b,[i])}},a.prototype.createChild=function(){var b=new a;return b.setParent(this),b},a.prototype.findService=function(a,b){var c=this.map[a];return(h.isUndefinedOrNull(c)||b===c)&&this.parent!==null&&(c=this.parent.findService(a,b)),c},a.prototype.buildLocator=function(){var a=f.clone(this.map);if(this.parent!==null){var b=this.parent.buildLocator();a=f.mixin(b,a)}return a},a}();b.Container=i}),define("vs/platform/injectorService",["require","exports","vs/base/injector","vs/base/assert","vs/platform/services"],function(a,b,c,d,e){function j(a){var b=new f.Container,c=new i(b);return k(a,b),l(a,b),c}function k(a,b){g.ok(!Object.keys(a).some(function(a){return a===i._name}),"injectorService is NOT allowed to be added because it is implict"),Object.keys(a).forEach(function(c){var d=a[c];b.registerService(c,d)})}function l(a,b){Object.keys(a).forEach(function(c){var d=a[c];b.injectTo(d)})}var f=c,g=d,h=e,i=function(){function a(b){this.diContainer=b,this.diContainer.registerService(a._name,this)}return a._name="injectorService",a.prototype.injectTo=function(a){this.diContainer.injectTo(a)},a.prototype.createChild=function(b){var c=this.diContainer.createChild();return c.registerService(a._name,c),k(b,c),l(b,c),new a(c)},a}();b.create=j});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/platform/markers/markerService",["require","exports","vs/platform/services","vs/base/eventEmitter","./markers"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(){a.call(this),this._markerSets={}}return __extends(b,a),b.prototype.getMarkerSet=function(a){var b=this._markerSets[a.toExternal()];return typeof b=="undefined"?null:b},b.prototype.change=function(a){var b=[],c=this,d={replaceMarkerSet:function(a){b.push(c.__replaceMarkerSet(a))},deleteMarkerSet:function(a){var d=c.__deleteMarkerSet(a);d!==null&&b.push(d)},processMarkerSet:function(a){var d=c.__processMarkerSet(a);d!==null&&b.push(d)}};a(d),this.emit(f.MarkerServiceConstants.SERVICE_CHANGED,{kind:f.MarkerServiceConstants.SERVICE_CHANGED,source:this,markerSetEvents:b})},b.prototype.__deleteMarkerSet=function(a){var b=a.toExternal(),c=this._markerSets[b];return typeof c=="undefined"?null:(delete this._markerSets[b],{kind:f.MarkerServiceConstants.SET_REMOVED,resource:a,oldValue:c,newValue:null})},b.prototype.__replaceMarkerSet=function(a){var b=a.getAssociatedResource().toExternal(),c=this._markerSets[b];return this._markerSets[b]=a,c?{kind:f.MarkerServiceConstants.SET_CHANGED,resource:a.getAssociatedResource(),oldValue:c,newValue:a}:{kind:f.MarkerServiceConstants.SET_ADDED,resource:a.getAssociatedResource(),oldValue:null,newValue:a}},b.prototype.__processMarkerSet=function(a){var b=h.MarkerSet.fromJson(a);return this.__replaceMarkerSet(b)},b}(g.EventEmitter);b.MarkerService=i}),define("vs/base/filters",["require","exports"],function(a,b){function c(a,b){return function(c,d){return a(c,d)||b(c,d)}}function d(a,b){return function(c,d){return a(c,d)&&b(c,d)}}function e(a,b,c){if(c.length===0||c.length<b.length)return null;a&&(b=b.toLowerCase(),c=c.toLowerCase());for(var d=0;d<b.length;d++)if(b[d]!==c[d])return null;return b.length>0?[{start:0,end:b.length}]:[]}function f(a,b){var c=b.toLowerCase().indexOf(a.toLowerCase());return c===-1?null:[{start:c,end:c+a.length}]}function g(a,b){return h(a.toLowerCase(),b.toLowerCase(),0,0)}function h(a,b,c,d){if(c===a.length)return[];if(d===b.length)return null;if(a[c]===b[d]){var e=null;if(e=h(a,b,c+1,d+1))return l({start:d,end:d+1},e)}return h(a,b,c,d+1)}function i(a,b){if(b.length===0)return null;var c=null,d=0;while(d<b.length&&(c=n(a.toLowerCase(),b,0,d))===null)d=m(b,d+1);return c}function j(a){var b=a.charCodeAt(0);return 65<=b&&b<=90}function k(a){var b=a.charCodeAt(0);return 48<=b&&b<=57}function l(a,b){return b.length===0?b=[a]:a.end===b[0].start?b[0].start=a.start:b.unshift(a),b}function m(a,b){for(var c=b;c<a.length;c++){var d=a[c];if(j(d)||k(d))return c}return a.length}function n(a,b,c,d){if(c===a.length)return[];if(d===b.length)return null;if(a[c]!==b[d].toLowerCase())return null;var e=null,f=d+1;e=n(a,b,c+1,d+1);while(!e&&(f=m(b,f))<b.length)e=n(a,b,c+1,f),f++;return e===null?null:l({start:d,end:d+1},e)}b.or=c,b.and=d,b.matchesStrictPrefix=function(a,b){return e(!1,a,b)},b.matchesPrefix=function(a,b){return e(!0,a,b)},b.matchesContiguousSubString=f,b.matchesSubString=g,b._matchesSubString=h,b.matchesCamelCase=i,b.isUpper=j,b.isNumber=k,b.join=l,b.nextAnchor=m,b._matchesCamelCase=n}),define("vs/editor/modes/modesFilters",["require","exports","vs/base/filters"],function(a,b,c){function e(a){return function(b,c){var d=a(b,c.label);return c.highlights=d||[],!!d}}function f(a,b){return function(c,d){return a(c,d)||b(c,d)}}function g(a,b){return function(c,d){return a(c,d)&&b(c,d)}}function h(a){var b={};return function(c,d){var e=a(d);return b[e]?!1:(b[e]=!0,!0)}}var d=c;b.wrapBaseFilter=e,b.StrictPrefix=e(d.matchesStrictPrefix),b.Prefix=e(d.matchesPrefix),b.CamelCase=e(d.matchesCamelCase),b.ContiguousSubString=e(d.matchesContiguousSubString),b.or=f,b.and=g,b.newDuplicateFilter=h,b.DefaultFilter=f(f(b.Prefix,b.CamelCase),b.ContiguousSubString)}),define("vs/editor/modes/stream",["require","exports"],function(a,b){var c=function(){function a(a){this._source=a,this.sourceLength=a.length,this._pos=0,this.whitespace="	 Â ",this.whitespaceArr=this.stringToArray(this.whitespace),this.separators="",this.separatorsArr=this.stringToArray(this.separators),this.tokenStart=-1,this.tokenEnd=-1}return a.prototype.stringToArray=function(a){var b=0;for(var c=0;c<a.length;c++)b=a.charCodeAt(c);var d=[];for(var c=0;c<b;c++)d[c]=!1;for(var c=0;c<a.length;c++)d[a.charCodeAt(c)]=!0;return d},a.prototype.pos=function(){return this._pos},a.prototype.eos=function(){return this._pos>=this.sourceLength},a.prototype.peek=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this._source[this._pos]},a.prototype.next=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this.tokenStart=-1,this.tokenEnd=-1,this._source[this._pos++]},a.prototype.advance=function(a){var b=this._pos;return this._pos+=a,this.resetPeekedToken(),this._source.substring(b,this._pos)},a.prototype.advanceToEOS=function(){var a=this._pos;return this._pos=this.sourceLength,this.resetPeekedToken(),this._source.substring(a,this._pos)},a.prototype.goBack=function(a){this._pos-=a,this.resetPeekedToken()},a.prototype.createPeeker=function(a){var b=this;if(a instanceof RegExp)return function(){var c=a.exec(b._source.substr(b._pos));if(c===null)return 0;if(c.index!==0)throw new Error('Regular expression must begin with the character "^"');return c[0].length};if((a instanceof String||typeof a=="string")&&a)return function(){var c=a.length,d=b._pos+c<=b.sourceLength;for(var e=0;d&&e<c;e++)d=b._source.charCodeAt(b._pos+e)===a.charCodeAt(e);return d?c:0};throw new Error("Condition must be either a regular expression, function or a non-empty string")},a.prototype.advanceIf=function(a){var b=this._pos;if(b>=this.sourceLength)return"";var c=this._source;if(a instanceof RegExp){var d=a.exec(c.substr(b));if(d){if(d.index===0)return this.advance(d[0].length);throw new Error('Regular expression must begin with the character "^"')}}else{if(typeof a!="string"||!a)throw new Error("Condition must be either a regular expression, function or a non-empty string");var e=a.length,f=b+e<=this.sourceLength;for(var g=0;f&&g<e;g++)f=c.charCodeAt(b+g)===a.charCodeAt(g);if(f)return this.advance(a.length)}return""},a.prototype.advanceLoop=function(a,b,c){if(this.eos())return"";var d=this.createPeeker(a),e=this._pos,f=0,g=null;b?g=function(a){return a>0}:g=function(a){return a===0};while(!this.eos()&&g(f=d()))f>0?this.advance(f):this.next();return c&&!this.eos()&&this.advance(f),this._source.substring(e,this._pos)},a.prototype.advanceWhile=function(a){return this.advanceLoop(a,!0,!1)},a.prototype.advanceUntil=function(a,b){return this.advanceLoop(a,!1,b)},a.prototype.resetPeekedToken=function(){this.tokenStart=-1,this.tokenEnd=-1},a.prototype.setTokenRules=function(a,b){if(this.separators!==a||this.whitespace!==b)this.separators=a,this.separatorsArr=this.stringToArray(this.separators),this.whitespace=b,this.whitespaceArr=this.stringToArray(this.whitespace),this.resetPeekedToken()},a.prototype.peekToken=function(){if(this.tokenStart!==-1)return this._source.substring(this.tokenStart,this.tokenEnd);var a=this._source,b=this.sourceLength,c=this.whitespaceArr,d=this.separatorsArr,e=this._pos;if(e>=b)throw new Error("Stream is at the end");while(c[a.charCodeAt(e)]&&e<b)e++;var f=e;if(d[a.charCodeAt(f)]&&f<b)f++;else while(!d[a.charCodeAt(f)]&&!c[a.charCodeAt(f)]&&f<b)f++;return this.tokenStart=e,this.tokenEnd=f,a.substring(e,f)},a.prototype.nextToken=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");var a;return this.tokenStart===-1?a=this.peekToken():a=this._source.substring(this.tokenStart,this.tokenEnd),this._pos=this.tokenEnd,this.tokenStart=-1,this.tokenEnd=-1,a},a.prototype.peekWhitespace=function(){var a=this._source,b=this.sourceLength,c=this.whitespaceArr,d=this._pos;while(c[a.charCodeAt(d)]&&d<b)d++;return a.substring(this._pos,d)},a.prototype.skipWhitespace=function(){var a=this._source,b=this.sourceLength,c=this.whitespaceArr,d=this._pos,e=this._pos;while(c[a.charCodeAt(e)]&&e<b)e++;return d!==e?(this._pos=e,this.tokenStart=-1,this.tokenEnd=-1,a.substring(d,e)):""},a}();b.LineStream=c}),define("vs/base/worker/workerClient",["require","exports","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/performance/timer"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(){function b(b,c,d){this.id=b,this.worker=new Worker(a.toUrl("./workerMain.js?"+encodeURIComponent(c))),this.worker.onmessage=function(a){d(JSON.parse(a.data))}}return b.prototype.getId=function(){return this.id},b.prototype.postMessage=function(a){this.worker.postMessage(JSON.stringify(a))},b.prototype.terminate=function(){this.worker.terminate()},b}(),j=function(){function b(b,c){var d=this;this.id=b,this._loaded=!1,this._beforeLoadMessages=[],this.iframe=document.createElement("iframe"),this.iframe.id=this._iframeId(),this.iframe.src=a.toUrl("./workerMainCompatibility.html"),this.iframe.frameborder=this.iframe.height=this.iframe.width="0",this.iframe.style.display="none",g.addListener(this.iframe,"load",function(){return d._onLoaded()}),this._onMessage=function(a){var b=null;try{b=JSON.parse(a.data)}catch(d){}b&&c(b)},g.addListener(window,"message",this._onMessage),document.body.appendChild(this.iframe)}return b.prototype._iframeId=function(){return"worker_iframe_"+this.id},b.prototype._onLoaded=function(){this._loaded=!0;while(this._beforeLoadMessages.length>0)this.postMessage(this._beforeLoadMessages.shift())},b.prototype.getId=function(){return this.id},b.prototype.postMessage=function(a){this._loaded===!0?window.frames[this._iframeId()].postMessage(JSON.stringify(a),"*"):this._beforeLoadMessages.push(a)},b.prototype.terminate=function(){window.removeEventListener("message",this._onMessage),window.frames[this._iframeId()].close()},b}(),k=function(){function a(a){this.label=a}return a.prototype.create=function(a,b){var c=null;try{c=new i(a,this.label,b)}catch(d){c=new j(a,b)}return c},a}();b.DefaultWorkerFactory=k;var l=function(){function a(b,c){var d=this;this.lastMessageId=0,this.promises={},this.messageHandlers={},this._messagesQueue=[],this._processQueueTimeout=-1,this._waitingForWorkerReply=!1,this._lastTimerEvent=null,this.worker=b.create(++a.LAST_WORKER_ID,function(a){return d._onmessage(a)}),this.onModuleLoaded=this._sendMessage("$initialize",{id:this.worker.getId(),moduleId:c}),this.onModuleLoaded.then(null,function(){return d.onError("Worker failed to load "+c)})}return a.LAST_WORKER_ID=1,a.prototype.request=function(a,b,c){var d=this;if(a.charAt(0)==="$")throw new Error("Illegal requestName: "+a);var e=!1,g;return new f.Promise(function(f,h,i){d.onModuleLoaded.then(function(){e||(g=d._sendMessage(a,b,c).then(f,h,i))},h,i)},function(){g?g.cancel():e=!0})},a.prototype.destroy=function(){var a=Object.keys(this.promises);if(a.length>0){console.warn("Terminating a worker with "+a.length+" pending promises:"),console.warn(this.promises);for(var b in this.promises)a.hasOwnProperty(b)&&this.promises[b].error("Worker forcefully terminated")}this.worker.terminate()},a.prototype.addMessageHandler=function(a,b){this.messageHandlers[a]=b},a.prototype.removeMessageHandler=function(a){delete this.messageHandlers[a]},a.prototype._sendMessage=function(a,b,c){typeof c=="undefined"&&(c=(new Date).getTime());var d=this,e={id:++this.lastMessageId,type:a,timestamp:c,payload:b},g,h,i,j=new f.Promise(function(a,b,c){g=a,h=b,i=c},function(){d._removeMessage(e.id)});return this.promises[e.id]={complete:g,error:h,progress:i,type:a,payload:b},this._enqueueMessage(e),j},a.prototype._enqueueMessage=function(a){var b=-1,c;for(c=this._messagesQueue.length-1;c>=0;c--)if(this._messagesQueue[c].timestamp<=a.timestamp){b=c;break}this._messagesQueue.splice(b+1,0,a),this._processMessagesQueue()},a.prototype._removeMessage=function(a){for(var b=0,c=this._messagesQueue.length;b<c;b++)if(this._messagesQueue[b].id===a){this._messagesQueue.splice(b,1),this._processMessagesQueue();return}},a.prototype._processMessagesQueue=function(){var a=this;this._processQueueTimeout!==-1&&(clearTimeout(this._processQueueTimeout),this._processQueueTimeout=-1);if(this._messagesQueue.length===0)return;if(this._waitingForWorkerReply)return;var b=this._messagesQueue[0].timestamp-(new Date).getTime();b=Math.max(0,b),this._processQueueTimeout=setTimeout(function(){a._processQueueTimeout=-1;if(a._messagesQueue.length===0)return;a._waitingForWorkerReply=!0;var b=a._messagesQueue.shift();a._lastTimerEvent=h.start(h.Topic.WORKER,a._decodeMessageName(b)),a.worker.postMessage(b)},b)},a.prototype._decodeMessageName=function(a){return a.type},a.prototype._onmessage=function(a){if(!a.monacoWorker)return;if(a.from&&a.from!==this.worker.getId())return;switch(a.type){case"$reply":this._waitingForWorkerReply=!1,this._lastTimerEvent&&this._lastTimerEvent.stop();if(!this.promises.hasOwnProperty(String(a.id))){this.onError("Received unexpected message from Worker:",a);return}switch(a.action){case"complete":this.promises[a.id].complete(a.payload),delete this.promises[a.id];break;case"error":this.onError("Main Thread sent to worker the following message:",{type:this.promises[a.id].type,payload:this.promises[a.id].payload}),this.onError("And the worker replied with an error:",a.payload),this.promises[a.id].error(a.payload),delete this.promises[a.id];break;case"progress":this.promises[a.id].progress(a.payload)}break;case"$schedule":this._sendMessage("$schedule",{scheduleId:a.scheduleId},a.timestamp);break;case"$print":switch(a.level){case"log":console.log(a.payload);break;case"debug":console.info(a.payload);break;case"info":console.info(a.payload);break;case"warn":console.warn(a.payload);break;case"error":console.error(a.payload);break;default:this.onError("Received unexpected message from Worker:",a)}break;default:if(a.type in this&&typeof this[a.type]=="function")this[a.type](a.payload);else{var b=this.messageHandlers[a.type];b&&typeof b=="function"?b(a.payload):this.onError("Received unexpected message from Worker:",a)}}this._processMessagesQueue()},a.prototype.onError=function(a,b){console.error(a),console.info(b)},a}();b.WorkerClient=l});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/worker/editorWorkerClient",["require","exports","vs/base/worker/workerClient","vs/editor/core/constants","vs/editor/editor"],function(a,b,c,d,e){var f=c,g=d,h=e,i=function(a){function b(b,c,d){a.call(this,new f.DefaultWorkerFactory(c),"vs/editor/worker/editorWorkerServer"),this.languageModeModuleId=b,this.friendlyModuleId=this.languageModeModuleId;var e=this.friendlyModuleId.lastIndexOf("/");e>=0&&(this.friendlyModuleId=this.friendlyModuleId.substr(e+1));var g={languageModeModuleId:b,extraData:d.extraData,configData:d.configData,workspace:d.contextService?d.contextService.getWorkspace():undefined,configuration:d.contextService?d.contextService.getConfiguration():undefined,options:d.contextService?d.contextService.getOptions():undefined,participants:d.participants?d.participants.map(function(a){return{moduleId:a.getModuleId(),ctorName:a.getCtorName()}}):[]};this.onModuleLoaded=this.request("initialize",g),this.models={},this.modelsUnbind={},this.modelsDecorations={},this.modelsValidateTimeout={}}return __extends(b,a),b.prototype._decodeMessageName=function(a){var b=a.type;return a.type==="rawRequest"&&(b=a.payload.name),this.friendlyModuleId+" - "+b},b.prototype.addWorkerParticipant=function(a){this.request("addWorkerParticipant",{moduleId:a.getModuleId(),ctorName:a.getCtorName()})},b.prototype.modelDecorationsUpdate=function(a){if(this.models.hasOwnProperty(a.modelId)){var b=this.models[a.modelId],c=[];for(var d in a.decorations)a.decorations.hasOwnProperty(d)&&c.push(a.decorations[d]);this.modelsDecorations[b.id]=b.deltaDecorations(this.modelsDecorations[b.id]||[],c)}},b.prototype.unbindModel=function(a){this.modelsUnbind[a.id](),delete this.modelsUnbind[a.id],delete this.models[a.id],delete this.modelsDecorations[a.id],this.modelsValidateTimeout.hasOwnProperty(a.id)&&(window.clearTimeout(this.modelsValidateTimeout[a.id]),delete this.modelsValidateTimeout[a.id]),this.request("modelDestroy",[a.getAssociatedResource()],0)},b.prototype._mixinProperties=function(a,b,c){for(var d=0;d<c.length;d++)a[c[d]]=b[c[d]];return a},b.prototype._setupValidation=function(a){var b=this,c=a.id,d=a.getAssociatedResource();this.modelsValidateTimeout.hasOwnProperty(c)&&(window.clearTimeout(this.modelsValidateTimeout[c]),delete this.modelsValidateTimeout[c]),this.modelsValidateTimeout[c]=window.setTimeout(function(){delete b.modelsValidateTimeout[c],b.request("validate",[d,!1])},500)},b.prototype.bindModel=function(a){var b=this;this.request("modelInitialize",[a.id,a.getVersionId(),a.getValue(h.EndOfLinePreference.LF),a.getProperties(),a.getAssociatedResource()],0),this._setupValidation(a),this.models[a.id]=a,this.modelsUnbind[a.id]=a.addBulkListener(function(c){var d=[],e=!1;for(var f=0,h=c.length;f<h;f++){var i=c[f],j=i.getData();switch(i.getType()){case g.EventType.ModelContentChanged:switch(j.changeType){case g.EventType.ModelContentChangedFlush:d.push(b._mixinProperties({type:i.getType()},j,["changeType","detail","versionId"]));break;case g.EventType.ModelContentChangedLinesDeleted:d.push(b._mixinProperties({type:i.getType()},j,["changeType","fromLineNumber","toLineNumber","versionId"]));break;case g.EventType.ModelContentChangedLinesInserted:d.push(b._mixinProperties({type:i.getType()},j,["changeType","fromLineNumber","toLineNumber","detail","versionId"]));break;case g.EventType.ModelContentChangedLineChanged:d.push(b._mixinProperties({type:i.getType()},j,["changeType","lineNumber","detail","versionId"]))}e=!0;break;case g.EventType.ModelPropertiesChanged:d.push(b._mixinProperties({type:i.getType()},j,["properties"]));break;case g.EventType.ModelOnBeforeViewAttached:d.push({type:i.getType()})}}d.length>0&&b._sendModelEvent(a,d),e&&b._setupValidation(a)})},b.prototype._sendModelEvent=function(a,b){this.request("modelEvents",[a.getAssociatedResource(),b],0)},b.prototype._onError=function(a,b){console.error("["+this.languageModeModuleId+"]: "+a),console.error(b)},b.prototype.publishMarkerSets=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.model.id,e=this.models[d];e?e._publishMarkerSet(c):console.info("Receiving marker for unknown model: "+d)}},b}(f.WorkerClient);b.EditorWorkerClient=i}),define("vs/editor/modes/modesExtensions",["require","exports","vs/base/lib/winjs.base","vs/base/objects","vs/base/types","vs/platform/platform","./modesFilters","./stream","vs/editor/worker/editorWorkerClient","vs/editor/modes/modes","vs/editor/core/config","vs/base/performance/timer","vs/editor/modes/nullMode","vs/platform/services"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c,p=d,q=e,r=f,s=g,t=h,u=i,v=j,w=k,x=l,y=m,z=n;b.isDigit=function(){var a="0123456789abcdef",b={};for(var c=0;c<a.length;c++)b[a.charAt(c).toLowerCase()]=c+1,b[a.charAt(c).toUpperCase()]=c+1;return function(c,d){return b[c]?b[c]<=d:!1}}();var A=function(){function a(a,b,c){typeof a=="undefined"&&(a=null),typeof b=="undefined"&&(b=null),typeof c=="undefined"&&(c=!1),this.id=a,this.workerModule=b,this.supportsNestedMode=c,this.workerPool=[],this.defaultWorker=null,this.models={},this.options=null,this.validationSupport=this,this.tokenizationSupport=this,this.occurrencesSupport=this,this.suggestSupport=this,this.parameterHintsSupport=this,this.formattingSupport=this,this.inplaceReplaceSupport=this,this.diffSupport=this,this.linkSupport=this,this.configSupport=this,this.electricCharacterSupport=this,this.commentsSupport=this,this.characterPairSupport=this,this.tokenTypeClassificationSupport=this}return a.prototype.getId=function(){return this.id},a.prototype._models=function(){return this.models},a.prototype.injectContextService=function(a){this.contextService=a},a.prototype.newWorker=function(a,c){var d=this;if(!this.workerModule)return null;if(!this.contextService)return null;q.isUndefinedOrNull(c)&&(c=this.workerModule.substring(this.workerModule.lastIndexOf("/")+1));var e=[],f=this.getId();if(f!==null&&f.length>0){var g=r.Registry.as(b.Extensions.EditorModes);g.getWorkerParticipants(f).forEach(function(a){e.push(a)})}try{var h=new u.EditorWorkerClient(this.workerModule,c,{contextService:this.contextService,participants:e,configData:this.options,extraData:a});return this.workerPool.push(h),Object.keys(this.models).forEach(function(a){h.bindModel(d.models[a])}),h}catch(i){return console.error(i),undefined}},a.prototype.workerRequest=function(a,b,c){typeof b=="undefined"&&(b=null);var d=x.start(x.Topic.LANGUAGES,a.commandName||a.command),e=function(){d.stop()};return c||(this.ensureDefaultWorker(),c=this.defaultWorker),c?o.decoratePromise(c.request(a.command,a.params),e,e):o.Promise.as(b)},a.prototype.ensureDefaultWorker=function(){this.defaultWorker||(this.defaultWorker=this.newWorker())},a.prototype.bindModel=function(a){this.ensureDefaultWorker(),this.models[a.id]=a,this.workerPool.forEach(function(b){b.bindModel(a)})},a.prototype.unbindModel=function(a){delete this.models[a.id],this.workerPool.forEach(function(b){b.unbindModel(a)})},a.prototype.validate=function(a){return this.request("validate",null,a)},a.prototype.getFilter=function(){return s.DefaultFilter},a.prototype.suggest=function(a,b,c){return this.request("suggest",c,a,b)},a.prototype.getTriggerCharacters=function(){return[]},a.prototype.shouldAutotriggerSuggest=function(b,c,d){return this._handleEvent(b,c,d,function(b,c,d,e){if(b instanceof a)return b.shouldAutotriggerSuggestImpl(c,d.tokens,e);if(b.suggestSupport)return b.suggestSupport.shouldAutotriggerSuggest(c,d,e)})},a.prototype.shouldAutotriggerSuggestImpl=function(a,b,c){return!1},a.prototype.shouldShowEmptySuggestionList=function(){return!0},a.prototype.getParameterHints=function(a,b,c){return o.Promise.as(null)},a.prototype.getParameterHintsTriggerCharacters=function(){return["(",","]},a.prototype.findOccurrences=function(a,b,c,d){return typeof c=="undefined"&&(c=!1),this.request("findOccurrences",d,a,b,c)},a.prototype.format=function(a,b,c){return this.request("format",null,a,b,c)},a.prototype.navigateValueSet=function(a,b,c,d){return this.request("navigateValueSet",d,a,b,c)},a.prototype.computeDiff=function(a,b,c){return this.request("computeDiff",c,a,b)},a.prototype.computeLinks=function(a){return this.request("computeLinks",null,a)},a.prototype.configure=function(a){var b=this;if(q.isEmptyObject(a))return o.Promise.as(!0);this.options=a;var c=this.workerPool.map(function(c){return b.request("configure",c,a)});return o.Promise.join(c)},a.prototype.onEnter=function(b,c,d){return this._handleEvent(b,c,d,function(b,c,d,e){if(b instanceof a)return b.onEnterImpl(c,d.tokens,e);if(b.electricCharacterSupport)return b.electricCharacterSupport.onEnter(c,d,e)})},a.prototype.onEnterImpl=function(a,b,c){return v.IndentAction.None},a.prototype.onElectricCharacter=function(b,c,d){return this._handleEvent(b,c,d,function(b,c,d,e){if(b instanceof a)return b.onElectricCharacterImpl(c,d.tokens,e);if(b.electricCharacterSupport)return b.electricCharacterSupport.onElectricCharacter(c,d,e)})},a.prototype.onElectricCharacterImpl=function(a,b,c){return null},a.prototype.getElectricCharacters=function(){return[]},a.prototype.request=function(a,b){var c=[];for(var d=0;d<arguments.length-2;d++)c[d]=arguments[d+2];return this.workerRequest({command:a,params:c},null,b)},a.prototype.getInitialState=function(){throw new Error("Abstract Method")},a.prototype.getNonWordTokenTypes=function(){return[]},a.prototype.getWordDefinition=function(){return y.NullMode.DEFAULT_WORD_REGEXP},a.prototype.getAutoClosingPairs=function(){return[]},a.prototype.shouldAutoClosePair=function(b,c,d,e){return this._handleEvent(c,d,e,function(c,d,e,f){if(c instanceof a)return c.shouldAutoClosePairImpl(b,d,e.tokens,f);if(c.characterPairSupport)return c.characterPairSupport.shouldAutoClosePair(b,d,e,f)})},a.prototype.shouldAutoClosePairImpl=function(a,b,c,d){return!0},a.prototype.getSurroundingPairs=function(){return this.getAutoClosingPairs()},a.prototype.getCommentsConfiguration=function(){return null},a.prototype._findIndexInArray=function(a,b){var c=0,d=a.length-1,e;while(c<d)e=c+Math.ceil((d-c)/2),a[e].startIndex>b?d=e-1:c=e;return c},a.prototype._handleEvent=function(a,b,c,d){if(b.tokens.length===0||!this.supportsNestedMode)return d(this,a,b,c);var e=b.modeTransitions,f=b.tokens,g=this._findIndexInArray(e,c),h=e[g].mode,i=e[g].startIndex,j=this._findIndexInArray(f,i),k=-1,l=-1;g+1<e.length?(l=this._findIndexInArray(f,e[g+1].startIndex),k=f[l].startIndex):(l=f.length,k=a.length);var m=[],n=f[j].startIndex,o;for(var p=j;p<l;p++)o=f[p],m.push({startIndex:o.startIndex-n,type:o.type,bracket:o.bracket});var q=a.substring(n,k),r=c-n,s={tokens:m,modeTransitions:[{startIndex:0,mode:h}],actualStopOffset:0,endState:null};return d(h,q,s,r)},a.prototype._nestedTokenize=function(a,b,c,d,e,f){var g=b.getStateData(),h=this.getLeavingNestedModeData(a,g),i=b.getMode();if(!h){var j;return i.tokenizationSupport?j=b.getMode().tokenizationSupport.tokenize(a,b,c,d):j=y.nullTokenize(i,a,b,c),j.tokens=e.concat(j.tokens),j.modeTransitions=f.concat(j.modeTransitions),j}var k=h.nestedModeBuffer;if(k.length>0){var l;i.tokenizationSupport?l=b.getMode().tokenizationSupport.tokenize(k,b,c,d):l=y.nullTokenize(i,k,b,c),e=e.concat(l.tokens),f=f.concat(l.modeTransitions)}var m=h.bufferAfterNestedMode,n=h.stateAfterNestedMode;return n.setStateData(g.getStateData()),this._myTokenize(m,n,c+k.length,d,e,f)},a.prototype._myTokenize=function(a,b,c,d,e,f){var g=new t.LineStream(a),h,i,j,k=null,l;b=b.clone(),(f.length<=0||f[f.length-1].mode!==this)&&f.push({startIndex:c,mode:this});var m=Math.min(d-c,a.length);while(g.pos()<m){i=g.pos(),j=null;while(j===null){h=b.tokenize(g);if(h===null||h===undefined||!(h.type!==undefined&&h.type!==null||h.nextState!==undefined&&h.nextState!==null))throw new Error("Tokenizer must return a valid state");j=h.type!==null&&h.type!==undefined?h.type:null,l=h.bracket!==null&&h.bracket!==undefined?h.bracket:v.Bracket.None,h.nextState!==undefined&&h.nextState!==null&&(h.nextState.setStateData(b.getStateData()),b=h.nextState);if(g.pos()<=i)throw new Error("Stream did not advance while tokenizing.")}(k===null||k!==j||l!==v.Bracket.None)&&e.push({startIndex:i+c,type:j,bracket:l}),k=j;if(this.supportsNestedMode&&this.enterNestedMode(b)){var n=this.getNestedMode(b),o;n.tokenizationSupport?o=n.tokenizationSupport.getInitialState():o=new y.NullState(n,null),o.setStateData(b);if(!g.eos()){var p=a.substr(g.pos());return this._nestedTokenize(p,o,c+g.pos(),d,e,f)}b=o}}return{tokens:e,actualStopOffset:g.pos()+c,modeTransitions:f,endState:b}},a.prototype.tokenize=function(a,b,c,d){return typeof c=="undefined"&&(c=0),typeof d=="undefined"&&(d=c+a.length),b.getMode()!==this?this._nestedTokenize(a,b,c,d,[],[]):this._myTokenize(a,b,c,d,[],[])},a.prototype.enterNestedMode=function(a){return!1},a.prototype.getNestedMode=function(a){return null},a.prototype.getLeavingNestedModeData=function(a,b){return null},a}();b.AbstractMode=A;var B=function(){function a(a,b){typeof b=="undefined"&&(b=null),this.mode=a,this.stateData=b}return a.prototype.getMode=function(){return this.mode},a.prototype.clone=function(){var a=this.makeClone();return a.initializeFrom(this),a},a.prototype.makeClone=function(){throw new Error("Abstract Method")},a.prototype.initializeFrom=function(a){this.stateData=a.stateData!==null?a.stateData.clone():null},a.prototype.getStateData=function(){return this.stateData},a.prototype.setStateData=function(a){this.stateData=a},a.prototype.equals=function(b){if(b===null||this.mode!==b.getMode())return!1;if(b instanceof a){var c=b;return this.stateData===null&&c.stateData===null?!0:this.stateData===null||c.stateData===null?!1:this.stateData.equals(c.stateData)}return!1},a.prototype.tokenize=function(a){throw new Error("Abstract Method")},a}();b.AbstractState=B,b.Extensions={EditorModes:"editor.modes"};var C={},D={},E={},F={},G=function(){function a(){this._modeCreationRequests={},this._modesRegistryInjector=null}return a.prototype.injectInjectorService=function(a){this._modesRegistryInjector=a},a.prototype.registerWorkerParticipant=function(a,b){C.hasOwnProperty(a)||(C[a]=[]),C[a].push(b)},a.prototype.getWorkerParticipants=function(a){return C.hasOwnProperty(a)?C[a]:[]},a.prototype.isRegisteredMode=function(a){return D.hasOwnProperty(a)},a.prototype.registerMode=function(a,b){a.forEach(function(a){D[a]=b})},a.prototype.addSyntaxOptions=function(a){w.Config.addSyntaxOptions(a)},a.prototype.configureMode=function(a,b){if(F.hasOwnProperty(a)){var c=F[a];c&&c.configSupport&&c.configSupport.configure(b)}else{var d=E[a]||{};d=p.mixin(d,b),E[a]=d}},a.prototype.getMode=function(a){if(!a)return null;var b=a.split(",");for(var c=0;c<b.length;c++){var d=b[c].trim(),e=this.getOrCreateOneModeSync(d);if(e)return e}return null},a.prototype.getOrCreateOneModeSync=function(a){if(F.hasOwnProperty(a))return F[a];if(!this.isRegisteredMode(a))return null;var b=D[a].syncLoadAndCreate(this._modesRegistryInjector);return b&&(F[a]=b,b.configSupport&&E.hasOwnProperty(a)&&b.configSupport.configure(E[a]||{})),b},a.prototype.getOrCreateMode=function(a){if(!a)return o.Promise.as(null);var b=a.split(",");for(var c=0;c<b.length;c++){var d=b[c].trim();if(this.isRegisteredMode(d))return this.getOrCreateOneModeAsync(d)}return o.Promise.as(null)},a.prototype.getOrCreateOneModeAsync=function(a){var b=this;return F.hasOwnProperty(a)?o.Promise.as(F[a]):(this._modeCreationRequests.hasOwnProperty(a)||(this._modeCreationRequests[a]=D[a].loadAndCreate(this._modesRegistryInjector).then(function(c){return F[a]=c,c&&c.configSupport&&E.hasOwnProperty(a)&&c.configSupport.configure(E[a]||{}),delete b._modeCreationRequests[a],c})),this._modeCreationRequests[a])},a}();r.Registry.mixin(b.Extensions.EditorModes,new G)});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/standalone/standaloneEditor",["require","exports","vs/editor/core/codeEditorWidget","vs/editor/diff/diffEditorWidget","vs/editor/terminal/terminal","vs/editor/standalone/simpleServices","vs/platform/handlerService","vs/platform/services","vs/platform/telemetry/telemetryService","vs/editor/core/model/model","vs/editor/core/model/terminalModel","vs/platform/injectorService","vs/platform/markers/markerService","vs/editor/modes/modesExtensions","vs/platform/platform","vs/editor/editor"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function J(a,b){return new I(a,b)}function K(a,b,c){var d=C.Registry.as(B.Extensions.EditorModes),e=d.getMode(b);return new x.Model(a,e,c,G)}function L(a,b,c){var d=C.Registry.as(B.Extensions.EditorModes),e=d.getMode(b);return new y.TerminalModel(a,e,c)}function M(a,b){var c=G.createChild({handlerService:new u.HandlerService(a)});return new r.DiffEditorWidget(a,b,c)}function N(a,b){var c=G.createChild({handlerService:new u.HandlerService(a)});return new s.Terminal(a,b,c)}function O(a){var b=C.Registry.as(B.Extensions.EditorModes);return b.getOrCreateMode(a)}var q=c,r=d,s=e,t=f,u=g,v=h,w=i,x=j,y=k,z=l,A=m,B=n,C=o,D=p,E=new A.MarkerService,F=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.getPath=function(a,b){return b.toExternal()},b}(v.BaseRequestService),G=z.create({markerService:E,messageService:new t.SimpleMessageService,contextService:new v.BaseContextService({uri:null,name:null},{paths:{PUBLIC_WORKSPACE_URL:"inMemory://"}}),requestService:new F,telemetryService:w.nullService}),H=C.Registry.as(B.Extensions.EditorModes);G.injectTo(H);var I=function(a){function b(b,c){this._editorService=new t.SimpleEditorService(this),this._handlerService=new u.HandlerService(b);var d=G.createChild({editorService:this._editorService,handlerService:this._handlerService});c=c||{},c.model?this._ownsModel=!1:(c.model=K(c.value||"",c.mode||"text/plain"),this._ownsModel=!0),a.call(this,b,c,d)}return __extends(b,a),b.prototype.getMarkerService=function(){return E},b.prototype.getHandlerService=function(){return this._handlerService},b.prototype.setModel=function(b){typeof b=="undefined"&&(b=null);var c=this.getModel();a.prototype.setModel.call(this,b),c!==this.getModel()&&this._ownsModel&&(c.destroy(),this._ownsModel=!1)},b}(q.CodeEditorWidget);b.create=J,b.createModel=K,b.createTerminalModel=L,b.createDiffEditor=M,b.createTerminal=N,b.getOrCreateMode=O;var P=self;P.Monaco||(P.Monaco={});var Q=P.Monaco;Q.Editor||(Q.Editor={}),Q.Editor.create=J,Q.Editor.createModel=K,Q.Editor.createTerminalModel=L,Q.Editor.CodeEditor=I,Q.Editor.createDiffEditor=M,Q.Editor.createTerminal=N,Q.Editor.getOrCreateMode=O}),define("vs/css!vs/editor/contrib/quickOutline/quickOutline",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/quickOutline/quickOutlineWidget",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/base/dom/builder","vs/base/ui/widgets/newtree/tree","vs/base/ui/widgets/newtree/treeImpl","vs/base/ui/widgets/highlightedLabel","vs/base/filters","vs/base/strings","vs/base/dom/keyboardEvent","vs/base/dom/dom","vs/base/ui/events","vs/editor/editor","vs/css!./quickOutline"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=c,p=d,q=e,r=f,s=g,t=h,u=i,v=j,w=k,x=l,y=m,z=n;(function(a){a._map=[],a.NO=0,a.EXPLICITLY=1,a.IMPLICITLY=2})(b.Visible||(b.Visible={}));var A=b.Visible,B=function(){function a(){}return a.prototype.getId=function(a,b){return b.id},a.prototype.getParent=function(a,b){return o.Promise.as(b.parent)},a.prototype.getChildren=function(a,b){var c=[],d=b instanceof Array?b:b.children;for(var e=0;e<d.length;e++)d[e].visible!==A.NO&&c.push(d[e]);return o.Promise.as(c)},a.prototype.hasChildren=function(a,b){var c=b instanceof Array?b:b.children;for(var d=0;d<c.length;d++)if(c[d].visible!==A.NO)return!0;return!1},a}();b.DataSource=B;var C=function(){function a(){}return a.TYPES=["class","interface","module","enum"],a.prototype.getHeight=function(a,b){return 23},a.prototype.render=function(b,c,d){var e=q.withElement(d),f=e.getBinding(),g=e.clone();f||(f={highlightedLabel:new t.HighlightedLabel(g)},e.bind(f));var h=c,i=h.label,j=0;if(a.TYPES.indexOf(h.type)>-1||!!h.category&&h.category.indexOf("g")!==-1)i=h.type+" "+i,j+=h.type.length+1;var k=h.highlights||[];return j!==0&&(k=k.map(function(a){return{start:a.start+j,end:a.end+j}})),h.highlightCategory&&k.unshift({start:0,end:j}),f.highlightedLabel.setValue(i,k),function(){f.highlightedLabel.destroy()}},a}();b.Renderer=C;var D=function(){function a(a){this.codeEditor=a,this._domNode=null,this._input=null,this._inputField=null,this._tree=null,this._loosingFocus=!1,this._lastPattern="",this._editorViewState=null,this._lineHighlightDecorationId=null,this._isVisible=!1,this.buildDomNode(q.Build.offDOM()),this.codeEditor.addOverlayWidget(this)}return a.ID="editor.contrib.quickOutlineWidget",a.prototype.getId=function(){return a.ID},a.prototype.getDomNode=function(){return this._domNode},a.prototype.cleanUpDecoration=function(){var a=this;this._lineHighlightDecorationId&&this.codeEditor.changeDecorations(function(b){b.removeDecoration(a._lineHighlightDecorationId),a._lineHighlightDecorationId=null})},a.prototype.destroy=function(){this.cleanUpDecoration()},a.prototype.isVisible=function(){return this._isVisible},a.prototype.show=function(){this._isVisible=!0,this._domNode.style.display="block",this._loosingFocus=!1,this._editorViewState=this.codeEditor.saveViewState(),this._inputField.focus(),this.codeEditor.layoutOverlayWidget(this)},a.prototype.hide=function(){this._isVisible=!1,this.cleanUpDecoration(),this._domNode.style.display="none",this._inputField.value="",this._tree.setInput([]).done(null,p.onPromiseError),this._tree.layout(),this.codeEditor.layoutOverlayWidget(this)},a.prototype.getPosition=function(){return this._isVisible?{preference:z.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},a.prototype.escape=function(){this.codeEditor.restoreViewState(this._editorViewState),this.codeEditor.focus(),this.hide()},a.prototype.setInput=function(a){var b=this;this._input=a;for(var c=0;c<this._input.length;c++){var d=this._input[c];this._input[c]=d=this.flattenModules(d),this.updateAllNodes(d,null),this.updateVisibility(d)}this._tree.layout(),this._tree.setInput(this._input).done(null,p.onPromiseError),this.expandAll(),this._lastPattern="",o.Promise.timeout(0).then(function(){b._inputField.focus()})},a.prototype.flattenModules=function(a){while("module"===a.type&&a.children.length===1&&"module"===a.children[0].type){var b=a.children[0];b.parent=null,a.children.pop(),b.label=a.label+"."+b.label,b.range.startLineNumber=a.range.startLineNumber,b.range.startColumn=a.range.startColumn,a=b}return a},a.prototype.updateAllNodes=function(a,b){var c=this;a.id=a.range.startLineNumber+":"+a.range.startColumn+":"+a.range.endLineNumber+":"+a.range.endColumn,a.parent=b,a.children.forEach(function(b){c.updateAllNodes(b,a)})},a.prototype.expandAll=function(){if(!this._input)return;var a=this._input,b;while(a.length)b=[],a.forEach(function(a){return b.push.apply(b,a.children)}),this._tree.expandAll(a),a=b},a.prototype.updateVisibility=function(a,b,c,d){typeof b=="undefined"&&(b=null),typeof c=="undefined"&&(c=null),typeof d=="undefined"&&(d=null);var e=this,f=!1;a.children.forEach(function(a){f=e.updateVisibility(a,b,c,d)||f}),a.highlightCategory=!1,a.highlights=null;var g=!1;if(!!d){var h=d.exec(a.label);if(!h){var i=u.matchesCamelCase(c,a.label);!i||(a.highlights=i,g=!0)}else a.highlights=[{start:h.index,end:h.index+h[0].length}],g=!0}var j=!1;return!!b&&!!a.category&&a.category.indexOf(b)!==-1&&(a.highlightCategory=!0,j=!0),!b&&!c?a.visible=A.EXPLICITLY:g&&!b?a.visible=A.EXPLICITLY:j?g||!c?a.visible=A.EXPLICITLY:a.visible=A.NO:f?a.visible=A.IMPLICITLY:a.visible=A.NO,a.visible!==A.NO},a.prototype.findFirstExplicitlyVisibleNode=function(){var a=this._input.slice(0);for(var b=0;b<a.length;b++){if(a[b].visible===A.EXPLICITLY)return a[b];a.push.apply(a,a[b].children)}return null},a.prototype.filterChanged=function(a){var b=this;a=v.trim(a);if(a===this._lastPattern)return;this._lastPattern=a;var c=null,d=null;if(a.length>0)if(":"===a.charAt(0)){var e=a.indexOf(" ");e!==-1?(c=a.substring(1,e),d=a.substring(e+1)):c=a.substring(1)}else d=a;c=c||null,d=d||null;var f=d?new RegExp("^"+v.convertSimple2RegExpPattern(d),"i"):null;this._input.forEach(function(a){b.updateVisibility(a,c,d,f)});if(c!==null||d!==null){this._tree.setInput(this._input).done(null,p.onPromiseError),this.expandAll();if(this._tree.getFocus()===null){var g=this.findFirstExplicitlyVisibleNode();g!==null&&this._tree.setFocus(g)}}else this._tree.setInput(this._input).done(null,p.onPromiseError),this.expandAll(),this.codeEditor.restoreViewState(this._editorViewState)},a.prototype.elementSelected=function(a,b){typeof b=="undefined"&&(b=!0);var c=this,d={startLineNumber:a.range.startLineNumber,startColumn:a.range.startColumn,endLineNumber:a.range.startLineNumber,endColumn:a.range.startColumn};this.codeEditor.setSelection(d,!0,!0,!0),b?(this.codeEditor.focus(),this.hide()):this.codeEditor.changeDecorations(function(a){c._lineHighlightDecorationId&&(a.removeDecoration(c._lineHighlightDecorationId),c._lineHighlightDecorationId=null),c._lineHighlightDecorationId=a.addDecoration(d,{className:"lineHighlight",isWholeLine:!0})})},a.prototype.selectTreeIfNotSelected=function(a){this._tree.getFocus()||this._tree.focusNext(1,a)},a.prototype.loosingFocus=function(){var a=this;if(!this.isVisible())return;this._loosingFocus=!0,o.Promise.timeout(0).then(function(){if(!a._loosingFocus)return;a._inputField.value="",a.codeEditor.focus(),a.hide()})},a.prototype.gainingFocus=function(){this._loosingFocus=!1},a.prototype.buildDomNode=function(a){var b=this;this._domNode=a.div(function(a){a.on(x.EventType.KEY_DOWN,function(a){var c=new w.KeyboardEvent(a);switch(c.key){case"Escape":b.escape(),x.EventHelper.stop(a,!0)}}).on(x.EventType.FOCUS,function(a){b.gainingFocus()},null,!0).on(x.EventType.BLUR,function(a){b.loosingFocus()},null,!0),b._inputField=a.element("input",{type:"text",className:"quick-outline-input"}).on(x.EventType.KEY_UP,function(a){var c=new w.KeyboardEvent(a);switch(c.key){case"Enter":b.codeEditor.focus(),b.hide();break;default:b.filterChanged(b._inputField.value)}}).on(x.EventType.KEY_DOWN,function(a){var c=new w.KeyboardEvent(a);switch(c.key){case"Tab":b.selectTreeIfNotSelected(c);break;case"DownArrow":b.selectTreeIfNotSelected(c),b._tree.getFocus()&&b._tree.DOMFocus(),x.EventHelper.stop(a,!1)}}).attr({wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}).style({width:"290px",border:"none",margin:"0",padding:"5px",outline:"0"}).getHTMLElement(),a.div({},function(a){a.style({"border-bottom":"4px solid rgba(197, 197, 197, .4)"})}),a.div({},function(a){a.style("height","269px"),b._tree=new s.Tree(a.getHTMLElement(),{dataSource:new B,renderer:new C},{verticalScrollMode:"visible",twistiePixels:16,indentPixels:10}),b._tree.addListener(y.EventType.FOCUS,function(a){a.focus!==null&&b.elementSelected(a.focus,!1)}),b._tree.addListener(y.EventType.SELECTION,function(a){a.selection!==null&&a.selection.length>0&&b.elementSelected(a.selection[0],!0)})})}).style({width:"300px",height:"300px",display:"none",border:"1px solid rgba(197, 197, 197, .4)"}).addClass("monaco-editor-background editor-widget quick-outline-widget").getHTMLElement()},a}();b.QuickOutlineWidget=D});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/editor/contrib/quickOutline/quickOutline",["require","exports","vs/nls!vs/editor/editor.main","vs/base/types","./quickOutlineWidget","vs/platform/platform","vs/platform/actionRegistry","vs/editor/editorExtensions"],function(a,b,c,d,e,f,g,h){var i=c,j=d,k=e,l=f,m=g,n=h,o=function(a){function b(b,c){a.call(this,b,c),this.widget=null,this.setLabel(i.localize("vs_editor_contrib_quickOutline_quickOutline",0))}return __extends(b,a),b.ID="editor.actions.quickOutline",b.prototype.run=function(){var a=this,b=this.editor.getModel(),c=b.getMode(),d=c.outlineSupport;if(!d)return null;var e=d.getOutline(b.getAssociatedResource());return e.then(function(b){j.isArray(b)&&b.length>0&&(a.widget||(a.widget=new k.QuickOutlineWidget(a.editor)),a.widget.show(),a.widget.setInput(b))},function(a){console.log(a)})},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.widget&&(this.widget.destroy(),this.widget=null)},b}(n.EditorAction);b.QuickOutlineAction=o;var p=function(a){return!1},q=l.Registry.as(n.Extensions.EditorContributions);q.registerContribution(new m.ActionDescriptor(o,o.ID,i.localize("vs_editor_contrib_quickOutline_quickOutline",1),{ctrlCmd:!0,alt:!0,key:"O"},{ctrlCmd:!0,shift:!0,key:"O"}))}),define("vs/languages/bat/bat.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-bat"],new e.DeferredDescriptor("vs/languages/bat/bat","batMode"))}),define("vs/languages/coffeescript/coffeescript.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-coffeescript","text/coffeescript"],new e.DeferredDescriptor("vs/languages/coffeescript/coffeescript","CoffeeMode"))}),define("vs/languages/cpp/cpp.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-cpp"],new e.DeferredDescriptor("vs/languages/cpp/cpp","CPPMode"))}),define("vs/languages/csharp/csharp.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-csharp"],new e.DeferredDescriptor("vs/languages/csharp/csharp","CSMode"))}),define("vs/languages/css/css.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions","vs/base/env"],function(a,b,c,d,e){var f=c,g=d,h=e,i=f.Registry.as(g.Extensions.EditorModes);i.registerMode(["text/css"],new f.DeferredDescriptor("vs/languages/css/css","CSSMode")),(h.isDevelopment||h.isSelfhost)&&i.registerWorkerParticipant("vs.languages.css",new f.DeferredDescriptor("vs/languages/css/monacoParticipant","WorkerParticipant"))}),define("vs/languages/dot/dot.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-dot"],new e.DeferredDescriptor("vs/languages/dot/dot","DotMode"))}),define("vs/languages/fsharp/fsharp.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-fsharp"],new e.DeferredDescriptor("vs/languages/fsharp/fsharp","FSMode"))}),define("vs/languages/handlebars/handlebars.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-handlebars-template"],new e.DeferredDescriptor("vs/languages/handlebars/handlebars","HandlebarsMode"))}),define("vs/languages/html/html.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/html"],new e.DeferredDescriptor("vs/languages/html/html","HTMLMode"))}),define("vs/languages/jade/jade.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-jade"],new e.DeferredDescriptor("vs/languages/jade/jade","JadeMode"))}),define("vs/languages/java/java.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-java-source"],new e.DeferredDescriptor("vs/languages/java/java","JMode"))}),define("vs/languages/javascript/javascript.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions","vs/base/env"],function(a,b,c,d,e){var f=c,g=d,h=e,i=f.Registry.as(g.Extensions.EditorModes);i.registerMode(["text/javascript","application/json"],new f.DeferredDescriptor("vs/languages/javascript/javascript","JSVSMode")),(h.isDevelopment||h.isSelfhost)&&i.registerWorkerParticipant("vs.languages.javascript",new f.DeferredDescriptor("vs/languages/javascript/monacoSnippetParticipant","SnippetParticipant"))}),define("vs/languages/jshtm/jshtm.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-jshtm"],new e.DeferredDescriptor("vs/languages/jshtm/jshtm","JSHTMHTMLMode"))}),define("vs/languages/lua/lua.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-lua"],new e.DeferredDescriptor("vs/languages/lua/lua","LuaMode"))}),define("vs/languages/markdown/markdown.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-web-markdown"],new e.DeferredDescriptor("vs/languages/markdown/markdown","MarkdownMode"))}),define("vs/languages/php/php.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["application/x-php"],new e.DeferredDescriptor("vs/languages/php/php","PHPMode"))});var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c};define("vs/languages/plaintext/plaintext.contribution",["require","exports","vs/editor/modes/modesExtensions","vs/platform/platform"],function(a,b,c,d){var e=c,f=d,g=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.prototype.makeClone=function(){return new b(this.getMode())},b.prototype.tokenize=function(a){return a.advanceToEOS(),{type:""}},b}(e.AbstractState),h=function(a){function b(){a.call(this,"vs.languages.plainText","vs/languages/plaintext/plainTextWorker")}return __extends(b,a),b.prototype.getInitialState=function(){return new g(this)},b}(e.AbstractMode);b.Mode=h;var i=f.Registry.as(e.Extensions.EditorModes);i.registerMode(["text/plain"],new f.DeferredDescriptor("vs/languages/plaintext/plaintext.contribution","Mode"))}),define("vs/languages/powershell/powershell.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-powershell"],new e.DeferredDescriptor("vs/languages/powershell/powershell","PowerShellMode"))}),define("vs/languages/razor/razor.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-cshtml"],new e.DeferredDescriptor("vs/languages/razor/razor","RAZORMode"))}),define("vs/languages/typescript/typescript.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions","vs/base/env"],function(a,b,c,d,e){var f=c,g=d,h=e,i=f.Registry.as(g.Extensions.EditorModes);i.registerMode(["text/typescript"],new f.DeferredDescriptor("vs/languages/typescript/typescript","TypeScriptMode"));if(h.isDevelopment||h.isSelfhost)i.registerWorkerParticipant("vs.languages.typescript",new f.DeferredDescriptor("vs/languages/typescript/nlsParticipant","WorkerParticipant")),i.registerWorkerParticipant("vs.languages.typescript",new f.DeferredDescriptor("vs/languages/typescript/monacoStyleParticipant","WorkerParticipant"))}),define("vs/languages/vb/vb.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-vb"],new e.DeferredDescriptor("vs/languages/vb/vb","VBMode"))}),define("vs/languages/less/less.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/x-less","text/less"],new e.DeferredDescriptor("vs/languages/less/less","CSSMode"))}),define("vs/languages/xml/xml.contribution",["require","exports","vs/platform/platform","vs/editor/modes/modesExtensions"],function(a,b,c,d){var e=c,f=d,g=e.Registry.as(f.Extensions.EditorModes);g.registerMode(["text/xml","application/xml","application/xaml+xml"],new e.DeferredDescriptor("vs/languages/xml/xml","XMLMode"))}),define("vs/languages/languages.main",["vs/languages/bat/bat.contribution","vs/languages/coffeescript/coffeescript.contribution","vs/languages/cpp/cpp.contribution","vs/languages/csharp/csharp.contribution","vs/languages/css/css.contribution","vs/languages/dot/dot.contribution","vs/languages/fsharp/fsharp.contribution","vs/languages/handlebars/handlebars.contribution","vs/languages/html/html.contribution","vs/languages/jade/jade.contribution","vs/languages/java/java.contribution","vs/languages/javascript/javascript.contribution","vs/languages/jshtm/jshtm.contribution","vs/languages/lua/lua.contribution","vs/languages/markdown/markdown.contribution","vs/languages/php/php.contribution","vs/languages/plaintext/plaintext.contribution","vs/languages/powershell/powershell.contribution","vs/languages/razor/razor.contribution","vs/languages/typescript/typescript.contribution","vs/languages/vb/vb.contribution","vs/languages/less/less.contribution","vs/languages/xml/xml.contribution"],function(){}),require.config({ignoreDuplicateModules:["vs/languages/vsxml/vsxml"]}),define("vs/editor/editor.main",["./editor.all","./standalone/standaloneEditor","./contrib/quickOutline/quickOutline","vs/languages/languages.main"],function(){}),define("vs/editor/modes/autoIndentation/autoIndentation",["require","exports","vs/editor/modes/modes"],function(a,b,c){var d=c,e=function(){function a(a){this.brackets=a}return a.prototype.getElectricBrackets=function(){var a=[],b;for(var c=0;c<this.brackets.length;c++)b=this.brackets[c],b.isElectric&&a.push(b.close);return a},a.prototype.onEnter=function(a,b,c){var e=0;while(e<b.length&&b[e].startIndex<c)e++;var f=b[e-1];while(e>0&&f.type==="")e--,f=b[e-1];if(e>0&&this.tokenTypeIsBracket(f.type)&&f.bracket===d.Bracket.Open){var g=b[e];while(e<b.length&&g.type==="")e++,g=b[e];return g!==undefined&&g.type===f.type&&g.bracket===d.Bracket.Close?d.IndentAction.IndentOutdent:d.IndentAction.Indent}return d.IndentAction.None},a.prototype.onElectricCharacter=function(a,b,c){var d;for(d=0;d<c;d++)if(a[d]!==" "&&a[d]!=="	")return null;return{matchBracketType:this.tokenTypeFromChar(a[c])}},a.prototype.tokenTypeFromChar=function(a){var b;for(var c=0;c<this.brackets.length;c++){b=this.brackets[c];if(a===b.open||a===b.close)return b.tokenType}return null},a.prototype.bracketTypeFromChar=function(a){var b;for(var c=0;c<this.brackets.length;c++){b=this.brackets[c];if(a===b.open)return d.Bracket.Open;if(a===b.close)return d.Bracket.Close}return null},a.prototype.tokenTypeIsBracket=function(a){for(var b=0;b<this.brackets.length;b++)if(a===this.brackets[b].tokenType)return!0;return!1},a.prototype.characterIsBracket=function(a){var b;for(var c=0;c<this.brackets.length;c++){b=this.brackets[c];if(a===b.open||a===b.close)return!0}return!1},a}();b.Brackets=e})